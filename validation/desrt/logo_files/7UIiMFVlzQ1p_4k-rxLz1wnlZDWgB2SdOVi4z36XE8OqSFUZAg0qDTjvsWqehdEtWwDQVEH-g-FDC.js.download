;/*FB_PKG_DELIM*/

__d("IntlCLDRNumberType01",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("IntlCLDRNumberType04",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a>=0&&a<=1)return c("IntlVariations").NUMBER_ONE;else return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("IntlCLDRNumberType05",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a===1)return c("IntlVariations").NUMBER_ONE;else return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("IntlCLDRNumberType09",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a===1)return c("IntlVariations").NUMBER_ONE;else return c("IntlVariations").NUMBER_OTHER}};b=a;g["default"]=b}),98);
__d("WASmaxInMdIQErrorBadRequestOrInternalServerErrorMixinGroup",["WAResultOrError","WASmaxInMdIQErrorBadRequestMixin","WASmaxInMdIQErrorInternalServerErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInMdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInMdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorInternalServerError"],[b,c])}g.parseIQErrorBadRequestOrInternalServerErrorMixinGroup=a}),98);
__d("WASmaxInMdGetCountryCodeResponseError",["WAResultOrError","WASmaxInMdIQErrorBadRequestOrInternalServerErrorMixinGroup","WASmaxInMdIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInMdIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInMdIQErrorBadRequestOrInternalServerErrorMixinGroup").parseIQErrorBadRequestOrInternalServerErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorIQErrorBadRequestOrInternalServerErrorMixinGroup:b.value}))}g.parseGetCountryCodeResponseError=a}),98);
__d("WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse",["WAResultOrError","WASmaxInMdIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"country_code");if(!c.success)return c;c=d("WASmaxParseUtils").attrString(c.value,"iso");if(!c.success)return c;a=d("WASmaxInMdIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({countryCodeIso:c.value},a.value))}g.parseGetCountryCodeResponseGetCountryCodeResponse=a}),98);
__d("WASmaxOutMdBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutMdGetCountryCodeRequest",["WASmaxJsx","WASmaxOutMdBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutMdBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"md"},d("WASmaxJsx").smax("link_code_companion_reg",{stage:"get_country_code"})));return a}g.makeGetCountryCodeRequest=a}),98);
__d("WASmaxMdGetCountryCodeRPC",["WAComms","WASmaxInMdGetCountryCodeResponseError","WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse","WASmaxOutMdGetCountryCodeRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){var c,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:c=d("WASmaxOutMdGetCountryCodeRequest").makeGetCountryCodeRequest();h.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(c,a));case 3:e=h.sent;f=d("WASmaxInMdGetCountryCodeResponseGetCountryCodeResponse").parseGetCountryCodeResponseGetCountryCodeResponse(e,c);if(!f.success){h.next=7;break}return h.abrupt("return",{name:"GetCountryCodeResponseGetCountryCodeResponse",value:f.value});case 7:g=d("WASmaxInMdGetCountryCodeResponseError").parseGetCountryCodeResponseError(e,c);if(!g.success){h.next=10;break}return h.abrupt("return",{name:"GetCountryCodeResponseError",value:g.value});case 10:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetCountryCode",{GetCountryCodeResponse:f,Error:g}));case 11:case"end":return h.stop()}},null,this)}g.sendGetCountryCodeRPC=a}),98);
__d("WAWeb-modernizr",[],(function(a,b,c,d,e,f){!function(a,b,c,d){function e(a,b){return typeof a===b}function f(a){var b=y.className,c=w._config.classPrefix||"";if(z&&(b=b.baseVal),w._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}w._config.enableClasses&&(a.length>0&&(b+=" "+c+a.join(" "+c)),z?y.className.baseVal=b:y.className=b)}function g(){return"function"!=typeof c.createElement?c.createElement(arguments[0]):z?c.createElementNS.call(c,"http://www.w3.org/2000/svg",arguments[0]):c.createElement.apply(c,arguments)}function h(a,b){return!!~(""+a).indexOf(b)}function i(){var a=c.body;return a||(a=g(z?"svg":"body"),a.fake=!0),a}function j(a,b,d,e){var f,h,o="modernizr",p=g("div"),q=i();if(parseInt(d,10))for(;d--;)f=g("div"),f.id=e?e[d]:o+(d+1),p.appendChild(f);return f=g("style"),f.type="text/css",f.id="s"+o,(q.fake?q:p).appendChild(f),q.appendChild(p),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),p.id=o,q.fake&&(q.style.background="",q.style.overflow="hidden",h=y.style.overflow,y.style.overflow="hidden",y.appendChild(q)),e=b(p,a),q.fake?(q.parentNode.removeChild(q),y.style.overflow=h,y.offsetHeight):p.parentNode.removeChild(p),!!e}function k(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function l(a,c,d){var e;if("getComputedStyle"in b){e=getComputedStyle.call(b,a,c);var f=b.console;if(null!==e)d&&(e=e.getPropertyValue(d));else if(f){var h=f.error?"error":"log";f[h].call(f,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else e=!c&&a.currentStyle&&a.currentStyle[d];return e}function m(a,c){var e=a.length;if("CSS"in b&&"supports"in b.CSS){for(;e--;)if(b.CSS.supports(k(a[e]),c))return!0;return!1}if("CSSSupportsRule"in b){for(var f=[];e--;)f.push("("+k(a[e])+":"+c+")");return f=f.join(" or "),j("@supports ("+f+") { #modernizr { position: absolute; } }",function(a){return"absolute"===l(a,null,"position")})}return d}function n(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function o(a,b,c,f){function o(){s&&(delete G.style,delete G.modElem)}if(f=!e(f,"undefined")&&f,!e(c,"undefined")){var r=m(a,c);if(!e(r,"undefined"))return r}for(var s,t,r,u,v,r=["modernizr","tspan","samp"];!G.style&&r.length;)s=!0,G.modElem=g(r.shift()),G.style=G.modElem.style;for(r=a.length,t=0;t<r;t++)if(u=a[t],v=G.style[u],h(u,"-")&&(u=n(u)),G.style[u]!==d){if(f||e(c,"undefined"))return o(),"pfx"!==b||u;try{G.style[u]=c}catch(a){}if(G.style[u]!==v)return o(),"pfx"!==b||u}return o(),!1}function p(a,b){return function(){return a.apply(b,arguments)}}function q(a,b,c){var d;for(var f in a)if(a[f]in b)return!1===c?a[f]:(d=b[a[f]],e(d,"function")?p(d,c||b):d);return!1}function r(a,b,c,d,f){var i=a.charAt(0).toUpperCase()+a.slice(1),j=(a+" "+E.join(i+" ")+i).split(" ");return e(b,"string")||e(b,"undefined")?o(j,b,d,f):(j=(a+" "+B.join(i+" ")+i).split(" "),q(j,b,c))}function s(a,b,c){return r(a,d,d,b,c)}function t(a,b){if("object"==typeof a)for(var c in a)I(a,c)&&t(c,a[c]);else{a=a.toLowerCase();c=a.split(".");var d=w[c[0]];if(2===c.length&&(d=d[c[1]]),void 0!==d)return w;b="function"==typeof b?b():b,1===c.length?w[c[0]]=b:(!w[c[0]]||w[c[0]]instanceof Boolean||(w[c[0]]=new Boolean(w[c[0]])),w[c[0]][c[1]]=b),f([(b&&!1!==b?"":"no-")+c.join("-")]),w._trigger(a,b)}return w}var u=[],v={_version:"3.11.4",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){u.push({name:a,fn:b,options:c})},addAsyncTest:function(a){u.push({name:null,fn:a})}},w=function(){};w.prototype=v,w=new w;var x=[],y=c.documentElement,z="svg"===y.nodeName.toLowerCase(),A="Moz O ms Webkit",B=v._config.usePrefixes?A.toLowerCase().split(" "):[];v._domPrefixes=B;var C=v._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];v._prefixes=C;var D=function(){function a(a,c){var e;return!!a&&(c&&"string"!=typeof c||(c=g(c||"div")),a="on"+a,e=a in c,!e&&b&&(c.setAttribute||(c=g("div")),c.setAttribute(a,""),e="function"==typeof c[a],c[a]!==d&&(c[a]=d),c.removeAttribute(a)),e)}var b=!("onblur"in y);return a}();v.hasEvent=D;var E=v._config.usePrefixes?A.split(" "):[];v._cssomPrefixes=E;var F={elem:g("modernizr")};w._q.push(function(){delete F.elem});var G={style:F.elem.style};w._q.unshift(function(){delete G.style}),v.testAllProps=r;var H=function(a){var c,e=C.length,f=b.CSSRule;if(void 0===f)return d;if(!a)return!1;if(a=a.replace(/^@/,""),(c=a.replace(/-/g,"_").toUpperCase()+"_RULE")in f)return"@"+a;for(var i=0;i<e;i++){var j=C[i];if(j.toUpperCase()+"_"+c in f)return"@-"+j.toLowerCase()+"-"+a}return!1};v.atRule=H;v.prefixed=function(a,b,c){return 0===a.indexOf("@")?H(a):(-1!==a.indexOf("-")&&(a=n(a)),b?r(a,b,c):r(a,"pfx"))};v.testAllProps=s;var I;v.testProp=function(a,b,c){return o([a],d,b,c)};!function(){var a={}.hasOwnProperty;I=e(a,"undefined")||e(a.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(b,c){return a.call(b,c)}}(),v._l={},v.on=function(a,b){this._l[a]||(this._l[a]=[]),this._l[a].push(b),w.hasOwnProperty(a)&&setTimeout(function(){w._trigger(a,w[a])},0)},v._trigger=function(a,b){if(this._l[a]){var c=this._l[a];setTimeout(function(){var a;for(a=0;a<c.length;a++)c[a](b)},0),delete this._l[a]}},w._q.push(function(){v.addTest=t}),w.addAsyncTest(function(){function a(a,b,c){function d(b){var d=!(!b||"load"!==b.type)&&1===e.width;t(a,"webp"===a&&d?new Boolean(d):d),c&&c(b)}var e=new Image;e.onerror=d,e.onload=d,e.src=b}var b=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],c=b.shift();a(c.name,c.uri,function(c){if(c&&"load"===c.type)for(c=0;c<b.length;c++)a(b[c].name,b[c].uri)})}),w.addTest("serviceworker","serviceWorker"in navigator),w.addTest("adownload",!b.externalHost&&"download"in g("a")),w.addTest("cssanimations",s("animationName","a",!0)),w.addTest("csstransitions",s("transition","all",!0)),(function(){var a,b,c,d;for(var f in u)if(u.hasOwnProperty(f)){if(a=[],b=u[f],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(c=e(b.fn,"function")?b.fn():b.fn,b=0;b<a.length;b++)d=a[b],d=d.split("."),1===d.length?w[d[0]]=c:(w[d[0]]&&(!w[d[0]]||w[d[0]]instanceof Boolean)||(w[d[0]]=new Boolean(w[d[0]])),w[d[0]][d[1]]=c),x.push((c?"":"no-")+d.join("-"))}})(),f(x),delete v.addTest,delete v.addAsyncTest;for(D=0;D<w._q.length;D++)w._q[D]();a.Modernizr=w}(window,window,document)}),null);
__d("WAWebAgentSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebAgentCollection","WAWebAgentModelUtils","WAWebMsgCollection","WAWebSchemaAgent","WAWebSyncdActionUtils","WAWebUnattributedMessageCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["agent:syncd: operation not supported"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["agent:syncd: agentAction.name is empty"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["agent:syncd: malformed mutation"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["agent:delayed-attribution: couldn't find Agent for message id::"," with device id::",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["agent:delayed-attribution: couldn't find message id::",""]);m=function(){return a};return a}function n(){(h||(h=b("Promise"))).resolve().then(function(){d("WAWebUnattributedMessageCollection").UnattributedMessageCollection.getModelsArray().forEach(function(a){var b=a.id;a=a.deviceId;var c=d("WAWebMsgCollection").MsgCollection.get(b);if(c==null){d("WALogger").DEV(m(),b);return}var e=d("WAWebAgentCollection").AgentCollection.getByDeviceId(a);if(e==null){d("WALogger").DEV(l(),b,a);return}c.agentId=String(e.id);d("WAWebUnattributedMessageCollection").UnattributedMessageCollection.remove(b)})})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.Agent};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[],c=[];a=a.map(function(a){try{var e=a.indexParts;e=e[1];e||d("WAWebSyncdActionUtils").throwInvalidActionIndex();if(a.operation==="remove"){c.push(e);return{actionState:d("WASyncdConst").SyncActionState.Success}}if(a.operation==="set"){var f;a=a.value.agentAction;if(!a){d("WALogger").DEV(k());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}f=d("WAWebAgentModelUtils").getFormattedAgentName((f=a.name)!=null?f:"",(f=a.deviceID)!=null?f:-1);f===""&&d("WALogger").DEV(j());b.push({id:e,name:f,deviceId:(e=a.deviceID)!=null?e:-1,isDeleted:Boolean(a.isDeleted)});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(i());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield d("WAWebSchemaAgent").getAgentTable().bulkCreateOrMerge(b);d("WAWebAgentCollection").AgentCollection.add(b,{merge:!0});yield d("WAWebSchemaAgent").getAgentTable().bulkRemove(c);d("WAWebAgentCollection").AgentCollection.remove(c);n();return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebApp.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={wrapper:"_aiwn",stripe:"_ap4q",isQR:"_aiwl",draggableHeader:"_aiwo",isMain:"_aiwm"};b=a;g["default"]=b}),98);
__d("WAWebBridgeInitialization",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){function a(){return new(d("WADynamicRouterAsync").DynamicRouter)()}g.makeBridge=a}),98);
__d("WAWebModelStorageInit",["WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[],b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.ROUTING_INFO);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.ROUTING_INFO,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.INITIAL_HISTORY_SYNCED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.INITIAL_HISTORY_SYNCED,value:b!=null});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.HISTORY_SYNC_STATUS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.HISTORY_SYNC_STATUS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.BLOCKLIST_HASH);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.BLOCKLIST_HASH,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CRITICAL_DATA_SYNCED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.ADV_SECRET_KEY);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.ADV_SECRET_KEY,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_UPGRADE_WAM_FLAG);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_UPGRADE_WAM_FLAG,value:b===!0});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_HISTORY_LAST_CHUNK_PROCESSED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_HISTORY_LAST_CHUNK_PROCESSED,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.UNARCHIVE_CHATS_SETTING);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.UNARCHIVE_CHATS_SETTING,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.ARCHIVE_V2_ENABLED_SETTING);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.ARCHIVE_V2_ENABLED_SETTING,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED,value:b===!0});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CHAT_THREAD_LOGGING_OFFSET);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_OFFSET,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CHAT_THREAD_LOGGING_SECRET);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_SECRET,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CHAT_THREAD_LOGGING_LAST_UPLOADED_START_TS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.PAIRING_TIMESTAMP);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.PAIRING_TIMESTAMP,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.RECENT_MAILBOX_AGE_DAYS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.RECENT_MAILBOX_AGE_DAYS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").MD_KEYS.MD_LOGIN_COOKIE_REQUEST_COMPLETE);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_LOGIN_COOKIE_REQUEST_COMPLETE,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.MOBILE_PLATFORM_DEPRECATED);b!=null&&a.push({key:d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MOBILE_PLATFORM,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.PRIMARY_FEATURES);b!=null&&a.push({key:d("WAWebUserPrefsKeys").KEYS.PRIMARY_FEATURES,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS);b!=null&&a.push({key:d("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS,value:b});b=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.INITIAL_HIST_BOUNDARY);b=i(b);b!=null&&a.push({key:d("WAWebUserPrefsKeys").HASHED_KEYS.INITIAL_HIST_BOUNDARY,value:b});return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.bulkSetItemsToIndexedDB(a)});return h.apply(this,arguments)}function i(a){if(typeof a==="object")return a;if(typeof a!=="string")return null;var b;try{b=JSON.parse(a)}catch(a){return null}if(b==null||typeof b!=="object"||b instanceof Array)return null;b;var c={};Object.entries(b).forEach(function(a){var b=a[0];a=a[1];typeof a==="number"&&(c[b]=a)});return c}g.migrateMDUserPrefsToIndexedDB=a}),98);
__d("WAWebRegistration",["Promise","WABase64","WALogger","WAWebCryptoCurve25519","WAWebCryptoLibraryUtilsApi","WAWebSignalKeyApi","WAWebSignalStoreApi","WAWebUserPrefsInfoStore","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["failed to refreshSignalCredentials: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["set routingInfo:"]);j=function(){return a};return a}function a(){var a=d("WAWebCryptoCurve25519").keyPair(),c=new Uint8Array(24);self.crypto.getRandomValues(c);return(h||(h=b("Promise"))).resolve(d("WAWebUserPrefsInfoStore").waNoiseInfo.set({recoveryToken:c.buffer,staticKeyPair:a,certificateChainBuffer:void 0}))}function k(){return c("WAWebCryptoLibraryUtilsApi").makeRegistrationId()}function e(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=k();yield d("WAWebSignalStoreApi").waSignalStore.clearCredential();var c=(yield d("WAWebSignalKeyApi").generateIdentityKeyPair());try{yield (h||(h=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.setRegistrationInfo({registrationId:a,identityKeyPair:c}),d("WAWebSignalStoreApi").waSignalStore.rotateSignedPreKey(d("WAWebCryptoCurve25519").toSignalCurveKeyPair(c),d("WAWebSignalKeyApi").generateSignedKeyPair)])}catch(a){d("WALogger").ERROR(i(),a);throw a}});return l.apply(this,arguments)}function f(a,b){a={domain:a,edgeRouting:b?d("WABase64").decodeB64(b):null};d("WALogger").LOG(j()).devConsole(a);return d("WAWebUserPrefsMultiDevice").setRoutingInfo(a)}g.refreshNoiseCredentials=a;g.refreshSignalCredentials=e;g.setRoutingInfo=f}),98);
__d("WAWebLaunchSocket",["Promise","WAComms","WAGzip","WALogger","WAWebABPropsUpdateFromStorage","WAWebBackendApi","WAWebBridgeInitialization","WAWebBrokerGlobalAppState","WAWebBuildConstants","WAWebCmd","WAWebCommsConfig","WAWebCommsHandleStanza","WAWebCryptoEncKeyHelper","WAWebDbRolloutUtil","WAWebEventSamplingCache","WAWebFtsClient","WAWebInitFromStorage","WAWebInvocationInterface","WAWebLazyLoadedMainRequires","WAWebModelStorage","WAWebModelStorageInit","WAWebPageLoadLogging","WAWebPushNotificationsOfflineBbApi","WAWebRegistration","WAWebSchemaVersions","WAWebSignalStorage","WAWebSocketModel","WAWebStartBackend","WAWebUserPrefsGeneral","WAWebUserPrefsIsLoggedIn","WAWebUserPrefsMultiDevice","WAWebWamOfflineResumeReporter","WAWebWorkerStorage","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["db: send schema versions to fts worker"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[launchSocket] launch socket for registration"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[launchSocket] launch socket for login"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["storageInitializationError triggered logout: ","."]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[launchSocket] entered legacy launchSocket flow"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[launchSocket] entered eager launchSocket flow"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[launchSocket] start with mutexComplete promise ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["reconnect_socket triggered, resetting socket loop"]);p=function(){return a};return a}d("WAWebCmd").Cmd.on("md_refresh_qr",function(){d("WAComms").stopComms(),q()});d("WAWebCmd").Cmd.on("reconnect_socket",function(){d("WALogger").LOG(p()),d("WAComms").forceAbortSocketConnection(),void d("WAComms").maybeResetSocketLoop()});function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebCommsConfig").getCommsConfig(void 0);d("WAComms").startComms(c("WAWebCommsHandleStanza"),a,function(a){return(h||(h=b("Promise"))).resolve(d("WAGzip").inflate(a))});yield d("WAComms").waitForConnection();return d("WAComms").startHandlingRequests()});return r.apply(this,arguments)}function a(a){d("WALogger").LOG(o(),a==null?"NULL":"not null");c("gkx")("26258")||(a!=null?d("WALogger").LOG(n()).sendLogs("intern-launchSocket-eager",{sampling:0}):d("WALogger").LOG(m()).sendLogs("intern-launchSocket-legacy",{sampling:0}));d("WAWebPageLoadLogging").startPageLoadQplMeasure("launchSocket");var e=d("WAWebBridgeInitialization").makeBridge();d("WAWebBackendApi").setApi(e);d("WAWebLazyLoadedMainRequires").requireSetFrontendHandlers().then(function(a){return a(e)});d("WAWebLazyLoadedMainRequires").requireSetWorkerSafeHandlers().then(function(a){return a(e)});d("WAWebFtsClient").ftsClient.initialize();return d("WAWebDbRolloutUtil").loadSchemaVersions().then(function(){return s()}).then(function(){return d("WAWebCryptoEncKeyHelper").initEncSalt()}).then(function(){return d("WAWebCryptoEncKeyHelper").initEncSaltForInvoker()}).then(function(){return d("WAWebSignalStorage").initialize()}).then(function(){return(h||(h=b("Promise"))).all([d("WAWebModelStorage").initialize(),a]).then(function(){return d("WAWebModelStorageInit").migrateMDUserPrefsToIndexedDB()})}).then(function(){return(h||(h=b("Promise"))).all([d("WAWebUserPrefsGeneral").getLogoutReason(),d("WAWebWorkerStorage").initialize(),d("WAWebUserPrefsGeneral").setAppVersionBase(d("WAWebBuildConstants").VERSION_BASE)])})["catch"](function(a){d("WALogger").ERROR(l(),(a==null?void 0:a.message)||(a==null?void 0:a.name)).tags("launch-socket"),d("WAWebCmd").Cmd.storageInitializationError()}).then(function(a){a=a==null?void 0:a[0];a&&d("WAWebSocketModel").Socket.logout(a.reason);if(c("WAWebBrokerGlobalAppState").isLogoutInProgress)throw c("err")("aborting launchSocket due to logout");if(d("WAWebUserPrefsMultiDevice").isRegistered()){d("WALogger").LOG(k());d("WAWebUserPrefsIsLoggedIn").setIsConnectedAsRegistered(!0);d("WAWebCmd").Cmd.initialLoadReady();return d("WAWebModelStorage").initialize()["catch"](function(){return d("WAWebCmd").Cmd.storageInitializationError()}).then(function(){return(h||(h=b("Promise"))).all([d("WAWebABPropsUpdateFromStorage").updateABPropsFromStorage(),d("WAWebEventSamplingCache").updateEventSamplingFromStorage()])}).then(function(){d("WAWebCmd").Cmd.abPropsLoaded(),d("WAWebInitFromStorage").restoreImportantMetaData()}).then(function(){return d("WAWebInitFromStorage").restoreBlocklist()}).then(function(){d("WAWebPushNotificationsOfflineBbApi").setStartCommsT(),d("WAWebPageLoadLogging").endPageLoadQplMeasure("launchSocket"),d("WAWebStartBackend").startBackend()})}d("WALogger").LOG(j());d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.setIsInitialSync();return(h||(h=b("Promise"))).all([d("WAWebRegistration").refreshNoiseCredentials(),d("WAWebRegistration").refreshSignalCredentials()]).then(function(){d("WAWebPageLoadLogging").endPageLoadQplMeasure("launchSocket"),q()})})}function s(){d("WALogger").LOG(i()),void d("WAWebInvocationInterface").get().setSchemaVersions(d("WAWebSchemaVersions").getSchemaVersions())}g.launchSocket=a}),98);
__d("WAWebAppMutex",["Promise","WACustomError","WAFilteredCatch","WALogger","WAPromiseTimeout","WAResolvable","WAWebABProps","WAWebAlarm","WAWebCmd","WAWebEventsWaitForEvent","WAWebL10N","WAWebLaunchSocket","WAWebPageLoadLogging","WAWebSocketModel","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebUserPrefsTabMutex","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mutex] setMutexBlockStrategy: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mutex] setPingTimeoutSeconds: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mutex] getPingTimeoutSeconds: missing value in userprefs, using default"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["app:_pingForOtherLocalSession mutex timeout after ","ms"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["app:_pingForOtherLocalSession stale mutex"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[mutex] shut down an existing instance of WA Web"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["app:takeoverLocal timeout"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex: setting shouldLaunchSocket: ",""]);p=function(){return a};return a}var q=10*60*1e3,r={INIT:"init",PING:"ping",PONG:"pong",TAKEOVER:"local-takeover"};a=function(){function a(){var a=this;this.$3=!1;this.$4=!0;this.$5=new(d("WAResolvable").Resolvable)();this.$7=function(){a.$8();var b=Date.now();d("WAWebUserPrefsTabMutex").setMutex(a.$1=r.INIT+"_"+b);a.$2=c("WAWebAlarm").setLocalTimeout(a.$7,b+q)};d("WAWebCmd").Cmd.on("ab_props_loaded",v);d("WAWebCmd").Cmd.on("on_ab_props_update",v)}var e=a.prototype;e.waitForCompletion=function(){return this.$5.promise};e.setShouldLaunchSocket=function(a){d("WALogger").DEV(p(),a),this.$4=a};e.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=0);this.$3||(d("WAWebPageLoadLogging").startPageLoadQplMeasure("acquire_mutex"),this.$3=!0);a=a+1;if(a>3)return!0;var b=d("WAWebUserPrefsTabMutex").getNoTakeover();d("WAWebUserPrefsTabMutex").setNoTakeover();var e=(yield this.$6());if(e){this.$7();d("WAWebPageLoadLogging").endPageLoadQplMeasure("acquire_mutex");this.$4&&(yield d("WAWebLaunchSocket").launchSocket(null));this.$5.resolve();void c("WAWebL10N").checkForLocaleMismatchBetweenCookieAndUserPref();return!1}if(b)return!0;throw a});function e(b){return a.apply(this,arguments)}return e}();e.takeoverLocal=function(a){var b=this;if(d("WAWebUserPrefsTabMutex").getMutex()){d("WAWebPageLoadLogging").startPageLoadQplMeasure("mutex_takeover");d("WAWebUserPrefsTabMutex").setMutex(r.TAKEOVER);return d("WAPromiseTimeout").promiseTimeout(c("WAWebEventsWaitForEvent")(window,"storage",d("WAWebUserPrefsTabMutex").takeoverFilter),3e4,"takeoverLocalTimeout").then(function(c){d("WAWebSocketModel").Socket.mustExitLoop=!1;d("WAWebUserPrefsTabMutex").removeMutex();d("WAWebPageLoadLogging").endPageLoadQplMeasure("mutex_takeover");return b.init(a)})["catch"](d("WAFilteredCatch").filteredCatch(d("WACustomError").TimeoutError,function(){d("WALogger").WARN(o());d("WAWebSocketModel").Socket.mustExitLoop=!1;d("WAWebUserPrefsTabMutex").removeMutex();d("WAWebPageLoadLogging").addPageLoadQplAnnotation({mutex_takeover_timeout:!0});d("WAWebPageLoadLogging").endPageLoadQplMeasure("mutex_takeover");return b.init(a)}))["finally"](function(){d("WALogger").ERROR(n())})}return this.init(a)};e.unloadMutex=function(){var a=d("WAWebUserPrefsTabMutex").getMutex();a&&this.$1&&a.includes(this.$1)&&d("WAWebUserPrefsTabMutex").removeMutex()};e.storagePong=function(a){if(!d("WAWebUserPrefsTabMutex").mutexFilter(a))return;a=d("WAWebUserPrefsTabMutex").parseMutex(a.newValue);if(!a)return;if(a===r.TAKEOVER){this.$8();d("WAWebSocketModel").Socket.exitLoop();d("WAWebUserPrefsTabMutex").localTakeoverSuccess();return!0}else a.indexOf(r.PING)===0&&d("WAWebUserPrefsTabMutex").setMutex(r.PONG+Math.random())};e.$8=function(){this.$2&&c("WAWebAlarm").clearTimeout(this.$2)};e.$6=function(){var a=d("WAWebUserPrefsTabMutex").getMutex();if(a){d("WAWebPageLoadLogging").startPageLoadQplMeasure("mutex_ping");a+="";var e=t()*1e3;if(a.indexOf("_")>0){a=a.split(".");a=parseInt(a[a.length-1],10);if(Number.isFinite(a)){var f=Date.now()-q*1.5;a<f&&(d("WALogger").LOG(m()),e=1e3)}}a=d("WAPromiseTimeout").promiseTimeout(c("WAWebEventsWaitForEvent")(window,"storage",d("WAWebUserPrefsTabMutex").mutexFilter),e,"waitForOtherLocalSessionTimeout").then(function(){return!1})["catch"](d("WAFilteredCatch").filteredCatch(d("WACustomError").TimeoutError,function(){d("WALogger").WARN(l(),e);d("WAWebPageLoadLogging").addPageLoadQplAnnotation({mutex_ping_timeout:!0});return!0}));a["finally"](function(){return d("WAWebPageLoadLogging").endPageLoadQplMeasure("mutex_ping")});d("WAWebUserPrefsTabMutex").setMutex(r.PING+Math.random());return a}return(h||(h=b("Promise"))).resolve(!0)};return a}();var s=10;function t(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.MUTEX_PING_TIMEOUT_SECONDS);if(typeof a==="number")return a;d("WALogger").DEV(k());return s}function u(a){d("WALogger").DEV(j(),a),c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.MUTEX_PING_TIMEOUT_SECONDS,a)}function v(){var a=d("WAWebABProps").getABPropConfigValue("web_mutex_ping_timeout_seconds");a!=null&&u(a);a=d("WAWebABProps").getABPropConfigValue("web_mutex_block_strategy");d("WALogger").LOG(i(),a);c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.MutexBlockStrategy,a)}e=new a();g["default"]=e}),98);
__d("WAWebClientExpiredDialog.react",["fbt","WAWebModal.react","WAWebSpinner.react","WAWebUpdater","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(){l(function(){d("WAWebUpdater").Updater.restart(!0).then(function(){d("WAWebUpdater").Updater.restart()})},[]);return k.jsxs(d("WAWebModal.react").Modal,{cover:!0,title:h._("__JHASH__bWpZgxUFgC9__JHASH__"),children:[k.jsx("div",{children:h._("__JHASH__L10niJOvrf4__JHASH__")}),k.jsx("div",{className:"x78zum5 xl56j7k x11fxgd9 x5th0yj x4n8cb0 x8zvzrc",children:k.jsx(d("WAWebSpinner.react").Spinner,{stroke:4,size:40,color:"highlight"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebConflict.react",["WAWebConfirmPopup.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.cancelText,c=a.children,e=a.okText,f=a.onCancel;a=a.onOK;return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,children:c,cancelText:b,onCancel:f,okText:e,onOK:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebUimUieItem.react",["react"],(function(a,b,c,d,e,f,g){var h,i;a=i||d("react");var j=h||(h=c("react"));b=a.forwardRef;var k=a.useImperativeHandle,l=a.useRef;e=b(function(a,b){a=a.children;var c=l();k(b,function(){return{getElement:function(){return c.current}}});return j.jsx("div",{ref:c,children:a})});g["default"]=e}),98);
__d("WAWebContextMenuManager.react",["WAWebCmd","WAWebDropdown.react","WAWebL10N","WAWebUimContext","WAWebUimUieItem.react","WAWebVelocityTransitionGroup","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.cloneElement,l=b.useCallback,m=b.useImperativeHandle,n=b.useLayoutEffect,o=b.useRef,p=b.useState,q={MENU:"MENU",TOOLTIP:"TOOLTIP"};e=j.forwardRef(a);function a(a,b){a=a.type;var e=o(null),f=o(null),g=p(null),h=g[0],i=g[1];g=p(null);var s=g[0],t=g[1];d("useWAWebListener").useListener(d("WAWebCmd").Cmd,a===q.MENU?"open_context_menu":"open_tooltip",function(a,b){var e,g;h==null?void 0:h.uim.pop();f.current=b;b=a.menuOptions;a=a.uim;var j=b.event;j==null?void 0:j.stopPropagation();var k=j==null?0:10;t(null);e=typeof (j==null?void 0:j.clientX)==="number"?j.clientX:(e=b.offsetX)!=null?e:0;j=typeof (j==null?void 0:j.clientY)==="number"?j.clientY:(j=b.offsetY)!=null?j:0;i(babelHelpers["extends"]({},b,{type:(g=b.type)!=null?g:d("WAWebDropdown.react").MenuType.Dropdown,originX:e,originY:j,offsetX:(g=b.offsetX)!=null?g:k,offsetY:(e=b.offsetY)!=null?e:k,dirX:(j=b.dirX)!=null?j:c("WAWebL10N").isRTL()?d("WAWebDropdown.react").DirX.LEFT:d("WAWebDropdown.react").DirX.RIGHT,dirY:(g=b.dirY)!=null?g:d("WAWebDropdown.react").DirY.BOTTOM,key:Math.random(),uim:a}))});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,a===q.MENU?"close_context_menu":"close_tooltip",function(a){(a==null||(h==null?void 0:h.uim)===a)&&(i(null),t(null))});n(function(){var a=e.current;if(h==null||a==null)return;if(s!=null)return;var b=a.clientWidth;a=a.clientHeight+10;t(r({anchor:h.anchor,temporaryMenuPosition:h,menuWidth:b,menuHeight:a}))},[h,s]);m(b,function(){return{isOpen:function(){return h!=null}}});g=l(function(a){if(a==null)return;f.current==null?void 0:f.current(a.getElement());f.current=null},[]);var u;if(h==null)u=j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown"});else{var v;a=h.menu;b=h.key;var w=h.type,x=h.autoFocus,y=h.findFirstItem,z=h.horizontal,A=h.theme,B=h.tooltipColorScheme;v=(v=s)!=null?v:h;var C=v.originX,D=v.originY,E=v.offsetX,F=v.offsetY,G=v.dirX;v=v.dirY;a=Array.isArray(a)?a.map(function(a){return k(a,{theme:A})}):a;u=j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:w===d("WAWebDropdown.react").MenuType.Picker?"dropdown-picker":"dropdown",children:j.jsx(d("WAWebDropdown.react").Dropdown,{ref:e,origin:{x:C+E,y:D+F},type:w,dirX:G,dirY:v,horizontal:z,autoFocus:x,findFirstItem:y,isTemporaryRender:s==null,tooltipColorScheme:B,children:j.jsx(c("WAWebUimUieItem.react"),{ref:g,children:a})},"key-"+b)})}return j.jsx(c("WAWebUimContext").Consumer,{children:function(a){return j.jsx(c("WAWebUimContext").Provider,{value:(h==null?void 0:h.uim)||a,children:u})}})}a.displayName=a.name+" [from "+f.id+"]";b=e;function r(a){var b=a.anchor,c=a.temporaryMenuPosition,e=a.menuWidth;a=a.menuHeight;var f=window.innerWidth,g=window.innerHeight,h=c.originX,i=c.originY,j=c.offsetX,k=c.offsetY,l=c.dirX;c=c.dirY;var m=h;h=h;var n=i;i=i;var o=0;if(b&&b instanceof HTMLElement){var p=b.getBoundingClientRect();m=p.left;h=p.right;i=p.bottom;n=p.top;o=b.offsetWidth}p=l;p===d("WAWebDropdown.react").DirX.RIGHT&&m+e>f&&h-e>0?p=d("WAWebDropdown.react").DirX.LEFT:p===d("WAWebDropdown.react").DirX.LEFT&&h-e<0&&m+e<f?p=d("WAWebDropdown.react").DirX.RIGHT:p===d("WAWebDropdown.react").DirX.CENTER&&(h+e/2>f?p=d("WAWebDropdown.react").DirX.LEFT:m-e/2<0&&(p=d("WAWebDropdown.react").DirX.RIGHT));l=c;l===d("WAWebDropdown.react").DirY.BOTTOM&&i+a+k>g&&n-a>0?l=d("WAWebDropdown.react").DirY.TOP:l===d("WAWebDropdown.react").DirY.TOP&&n-a<0&&i+a+k<g&&(l=d("WAWebDropdown.react").DirY.BOTTOM);l===d("WAWebDropdown.react").DirY.TOP?f=n:f=i;e=j;c=k;b||(p===d("WAWebDropdown.react").DirX.LEFT&&(e=0),l===d("WAWebDropdown.react").DirY.TOP&&(c=0));return{dirX:p,dirY:l,originX:s(p,m,h,o),originY:f,offsetX:e,offsetY:c}}function s(a,b,c,e){switch(a){case d("WAWebDropdown.react").DirX.RIGHT:return b;case d("WAWebDropdown.react").DirX.LEFT:return c;case d("WAWebDropdown.react").DirX.CENTER:return b+e/2}}g.Type=q;g.ContextMenuManager=b}),98);
__d("WAWebDeepLinkClickWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({DeepLinkClick:[1156,{deepLinkHasPhoneNumber:[2,a.TYPES.BOOLEAN],deepLinkHasText:[1,a.TYPES.BOOLEAN],deepLinkSessionId:[3,a.TYPES.STRING]},[1,1,1],"regular"]},{DeepLinkClick:[]});g.DeepLinkClickWamEvent=b}),98);
__d("WAWebDeprecated.react",["fbt","WAWebConfirmPopup.react","WAWebLogoutReasonConstants","WAWebSocketModel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.UserInitiated)};function a(){return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,cancelText:h._("__JHASH__3n1bF_cZdZK__JHASH__"),onCancel:k,okText:h._("__JHASH___sw1w0g68lI__JHASH__"),children:h._("__JHASH__xp5_DV0xD6g__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNotificationIcon",["WALogger","WAWebAssetLoader","WAWebAssetLoaderSingleton","WAWebFbtCommon","WAWebL10N","WAWebPwaDocumentMetadataUtils","WAWebUA","justknobx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error updating favicon: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Favicon updated: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Favicon skipped: "," because of newer favicon: ",""]);j=function(){return a};return a}function a(a){var b=[];a>0&&b.push("("+c("WAWebL10N").n(a)+")");b.push(c("WAWebFbtCommon")("WhatsApp").toString());b=b.join(" ");d("WAWebPwaDocumentMetadataUtils").setDocumentTitle(b);d("WAWebPwaDocumentMetadataUtils").isCurrentWebSessionInsidePwa()&&d("WAWebPwaDocumentMetadataUtils").setAppBadge(a);c("justknobx")._("2268")&&l(a)}var k;function l(a){if(d("WAWebUA").UA.isSafari)return;var b;a===-1?b="favicon-error2":a===0?b="favicon":a<10?b="f0"+a:a<100?b="f"+a:b="f00";k=b;(a=document.getElementById("favicon"))==null?void 0:a.remove();a={id:b,low:{"default":"/favicon/1x/"+b+"/"},high:{"default":"/favicon/2x/"+b+"/"}};void d("WAWebAssetLoaderSingleton").AssetLoader.loadAsset(a,d("WAWebAssetLoader").LOAD_PRIORITY.NOTIFICATION_ICON,!1).then(function(a){if(k!==b){d("WALogger").LOG(j(),b,k);return}var c=document.createElement("link");c.setAttribute("id","favicon");c.setAttribute("rel","shortcut icon");c.setAttribute("type","image/png");c.setAttribute("href",a);c.setAttribute("src",a);a=document.getElementsByTagName("head");(a==null?void 0:a[0])&&a[0].appendChild(c);d("WALogger").LOG(i(),b)})["catch"](function(a){d("WALogger").ERROR(h(),a).sendLogs("favicon-fetch-error")})}g.setTitleAndIcon=a;g.setIcon=l}),98);
__d("WAWebFavicon.react",["WAWebNotificationIcon","react"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){a=a.children;i(function(){d("WAWebNotificationIcon").setTitleAndIcon(0)},[]);return a}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;i(function(){d("WAWebNotificationIcon").setTitleAndIcon(-1)},[]);return a}b.displayName=b.name+" [from "+f.id+"]";g.DefaultFavicon=a;g.ErrorFavicon=b}),98);
__d("WAWebAutoLogoutGating",["WAWebBuildConstants","WAWebUA","err","gkx"],(function(a,b,c,d,e,f,g){function a(){return!1}function b(){return!1}function e(){if(!c("gkx")("26258"))return d("WAWebBuildConstants").DYN_ORIGIN+"?autologout=1";throw c("err")("feature is unsupported")}g.autoLogoutSupported=a;g.autoLogoutInIframFunctionAllowed=b;g.getAutoLogoutIframeUrl=e}),98);
__d("WAWebLandingHeader.react",["WAWebFbtCommon","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){return i.jsxs("div",{className:"landing-header",children:[i.jsx(j,{}),i.jsx("div",{className:"landing-headerTitle",children:c("WAWebFbtCommon")("WhatsApp Web")})]})}a.displayName=a.name+" [from "+f.id+"]";var j=function(){return i.jsx("span",{className:"x1rg5ohu x16dsc37",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"39",viewBox:"0 0 39 39",children:[i.jsx("path",{fill:"#00E676",d:"M10.7 32.8l.6.3c2.5 1.5 5.3 2.2 8.1 2.2 8.8 0 16-7.2 16-16 0-4.2-1.7-8.3-4.7-11.3s-7-4.7-11.3-4.7c-8.8 0-16 7.2-15.9 16.1 0 3 .9 5.9 2.4 8.4l.4.6-1.6 5.9 6-1.5z"}),i.jsx("path",{fill:"#FFF",d:"M32.4 6.4C29 2.9 24.3 1 19.5 1 9.3 1 1.1 9.3 1.2 19.4c0 3.2.9 6.3 2.4 9.1L1 38l9.7-2.5c2.7 1.5 5.7 2.2 8.7 2.2 10.1 0 18.3-8.3 18.3-18.4 0-4.9-1.9-9.5-5.3-12.9zM19.5 34.6c-2.7 0-5.4-.7-7.7-2.1l-.6-.3-5.8 1.5L6.9 28l-.4-.6c-4.4-7.1-2.3-16.5 4.9-20.9s16.5-2.3 20.9 4.9 2.3 16.5-4.9 20.9c-2.3 1.5-5.1 2.3-7.9 2.3zm8.8-11.1l-1.1-.5s-1.6-.7-2.6-1.2c-.1 0-.2-.1-.3-.1-.3 0-.5.1-.7.2 0 0-.1.1-1.5 1.7-.1.2-.3.3-.5.3h-.1c-.1 0-.3-.1-.4-.2l-.5-.2c-1.1-.5-2.1-1.1-2.9-1.9-.2-.2-.5-.4-.7-.6-.7-.7-1.4-1.5-1.9-2.4l-.1-.2c-.1-.1-.1-.2-.2-.4 0-.2 0-.4.1-.5 0 0 .4-.5.7-.8.2-.2.3-.5.5-.7.2-.3.3-.7.2-1-.1-.5-1.3-3.2-1.6-3.8-.2-.3-.4-.4-.7-.5h-1.1c-.2 0-.4.1-.6.1l-.1.1c-.2.1-.4.3-.6.4-.2.2-.3.4-.5.6-.7.9-1.1 2-1.1 3.1 0 .8.2 1.6.5 2.3l.1.3c.9 1.9 2.1 3.6 3.7 5.1l.4.4c.3.3.6.5.8.8 2.1 1.8 4.5 3.1 7.2 3.8.3.1.7.1 1 .2h1c.5 0 1.1-.2 1.5-.4.3-.2.5-.2.7-.4l.2-.2c.2-.2.4-.3.6-.5s.4-.4.5-.6c.2-.4.3-.9.4-1.4v-.7s-.1-.1-.3-.2z"})]})})};g["default"]=a}),98);
__d("WAWebLinkDeviceEvents",["WAWebEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.triggerRefreshAltLinkingCode=function(){this.trigger("link_device_events:refresh_alt_linking_code")};c.triggerErrorAltLinking=function(){this.trigger("link_device_events:error_alt_linking")};c.triggerPrimaryHelloReceived=function(){this.trigger("link_device_events:primary_hello_received")};return b}(c("WAWebEventEmitter"));b=new a();g.WAWebLinkDeviceEvents=b}),98);
__d("WAWebLinkDeviceAction",["WALogger","WASmaxMdGetCountryCodeRPC","WAWebAltDeviceLinkingApi","WAWebCmd","WAWebLinkDeviceEvents","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt device linking: sendGetCountryCodeRPC failed with error: ",""]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WASmaxMdGetCountryCodeRPC").sendGetCountryCodeRPC());return a.value.countryCodeIso}catch(a){d("WALogger").ERROR(h(),a).sendLogs("alt device linking: sendGetCountryCodeRPC failed")}});return i.apply(this,arguments)}function c(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebCmd").Cmd.refreshQR(),a.linkDeviceMethod===d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING?(yield d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking(),d("WAWebAltDeviceLinkingApi").setPairingType(d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING)):(yield d("WAWebAltDeviceLinkingApi").initializeQRLinking(),d("WAWebAltDeviceLinkingApi").setPairingType(d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE))});return j.apply(this,arguments)}function e(a,b){return d("WAWebAltDeviceLinkingApi").startAltLinkingFlow(a,b)}function f(a){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:refresh_alt_linking_code")}function k(a){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:force_manual_refresh")}function l(){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:error_alt_linking")}function m(){d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents.trigger("link_device_events:primary_hello_received")}g.getPreselectedCountryCodeIso=a;g.resetLinkDeviceState=c;g.genLinkDeviceCodeForPhoneNumber=e;g.refreshAltLinkingCode=f;g.forceManualRefresh=k;g.errorAltLinking=l;g.primaryHelloReceivedAltLinking=m}),98);
__d("WAWebWaDesktopIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="wa-desktop";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox,h=a.innerStyles;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox","innerStyles"]);var l;if(g){var m=g.x;m=m===void 0?0:m;var n=g.y;n=n===void 0?0:n;var o=g.width;o=o===void 0?0:o;g=g.height;g=g===void 0?0:g;l=[m,n,o,g].join(" ")}m=68;n=76;(e!=null||f!=null)&&(m=e,n=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(o=l)!=null?o:"0 0 76 68",height:m,width:n,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("rect",{x:9,y:14,width:58,height:38,fill:"#00A884"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 15H66V50.8837H10V15ZM7 50.8837V15C7 13.3431 8.34315 12 10 12H66C67.6569 12 69 13.3431 69 15V50.8837H76V52C76 54.2091 74.2091 56 72 56H66H10H4C1.79086 56 0 54.2091 0 52V50.8837H7Z",fill:"#54656F"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 15H66V50.8837H10V15ZM7 50.8837V15C7 13.3431 8.34315 12 10 12H66C67.6569 12 69 13.3431 69 15V50.8837H76V52C76 54.2091 74.2091 56 72 56H66H10H4C1.79086 56 0 54.2091 0 52V50.8837H7Z",fill:"black",fillOpacity:.6}),j.jsx("rect",{x:21,y:30,width:34,height:34,rx:2,fill:"#25D366",className:i(h==null?void 0:h.logo)}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.4479 52.1996L29.6118 55.3882L32.8004 54.5521L33.4624 54.9318C34.7977 55.6976 36.3448 56.1361 38 56.1361C43.0457 56.1361 47.1361 52.0457 47.1361 47C47.1361 41.9543 43.0457 37.8639 38 37.8639C32.9543 37.8639 28.8639 41.9543 28.8639 47C28.8639 48.6552 29.3024 50.2023 30.0682 51.5376L30.4479 52.1996ZM27 58L28.4514 52.4649C27.528 50.8549 27 48.9891 27 47C27 40.9249 31.9249 36 38 36C44.0751 36 49 40.9249 49 47C49 53.0751 44.0751 58 38 58C36.0109 58 34.1451 57.472 32.5351 56.5486L27 58Z",fill:"white"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.0401 49.2354C42.7664 49.0991 41.4208 48.4409 41.1697 48.3501C40.9187 48.2592 40.7365 48.2138 40.5542 48.4864C40.3719 48.7591 39.8472 49.3723 39.6875 49.5535C39.5279 49.7353 39.3682 49.7578 39.0945 49.6214C38.8209 49.4851 37.939 49.1978 36.8933 48.2706C36.0797 47.5488 35.5303 46.6577 35.3707 46.385C35.211 46.1124 35.3538 45.9651 35.4904 45.8298C35.6133 45.7076 35.764 45.5117 35.9011 45.3529C36.0382 45.1941 36.0834 45.0803 36.1748 44.899C36.2662 44.7172 36.2205 44.5585 36.1522 44.4221C36.0839 44.2858 35.5366 42.946 35.3081 42.4012C35.0859 41.8705 34.8601 41.9426 34.6926 41.9337C34.5329 41.9259 34.3506 41.9243 34.1679 41.9243C33.9851 41.9243 33.6888 41.9922 33.4378 42.2649C33.1867 42.5375 32.4797 43.1962 32.4797 44.5354C32.4797 45.8747 33.4604 47.1696 33.5975 47.3514C33.7345 47.5332 35.5276 50.2822 38.2731 51.4616C38.926 51.7421 39.4359 51.9098 39.8335 52.0351C40.4891 52.2425 41.0857 52.2133 41.5574 52.1432C42.0832 52.0649 43.1767 51.4846 43.4046 50.8489C43.6326 50.2132 43.6326 49.6679 43.5643 49.5545C43.496 49.4412 43.3133 49.3728 43.0396 49.2364L43.0401 49.2354Z",fill:"white"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WaDesktopIcon=a}),98);
__d("useWAWebDesktopUpsellQplImpression",["WAQplTypes","WAQuickPerformanceLogger","WAWebQplQuickPerformanceLoggerMarkerIds","asyncToGeneratorRuntime","react","useWAWebCallbackOnce"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useWAWebCallbackOnce")(j);i(function(){a&&void d("impression",b)},[d,a,b])}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{d("WAQuickPerformanceLogger").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,{annotations:{string:{context:a},bool:{showing_content_variation:b}}}),yield d("WAQuickPerformanceLogger").QPL.genMarkerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,d("WAQplTypes").QuickLogActionType.SUCCESS)}catch(a){}});return k.apply(this,arguments)}g.useWAWebDesktopUpsellQplImpression=a;g.logDesktopUpsellQplEvent=j}),98);
__d("WAWebDesktopUpsellLinkDeviceBanner.react",["fbt","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebFlex.react","WAWebUISpacing","WAWebWDSButton","WAWebWDSText.react","WAWebWaDesktopIcon","WAWebWamEnumWebcNativeUpsellCtaSourceType","asyncToGeneratorRuntime","justknobx","react","stylex","useWAWebDesktopUpsellQplImpression","useWAWebDesktopUpsellWamImpression"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={bannerWrapper:{marginTop:"xs9mwh0",$$css:!0},bannerContainer:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"xk1nh2v",borderEndColor:"x1l3ee1n",borderBottomColor:"xsbzixq",borderStartColor:"x8z2lm9",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb","@media screen and (max-width: 840px)_paddingStart":"x20dcy2","@media screen and (max-width: 840px)_paddingLeft":null,"@media screen and (max-width: 840px)_paddingRight":null,"@media screen and (max-width: 840px)_paddingEnd":"x8xnxqq",$$css:!0},bannerTextContainer:{"@media screen and (max-width: 840px)_paddingStart":"xfxdvre","@media screen and (max-width: 840px)_paddingLeft":null,"@media screen and (max-width: 840px)_paddingRight":null,"@media screen and (max-width: 840px)_paddingEnd":"x4eg47m",$$css:!0},bannerSubtext:{"@media screen and (max-width: 760px)_display":"x1kxj6np",$$css:!0},bannerAltBtn:{"@media screen and (max-width: 760px)_display":"x1kga5qe","@media screen and (max-width: 760px)_marginTop":"x1dz6z68","@media screen and (max-width: 760px)_width":"x12qy6y7","@media screen and (min-width: 761px)_display":"xbu14h7",$$css:!0},bannerBtn:{"@media screen and (max-width: 760px)_display":"x1kxj6np",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=o(a),e=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformAwareOsVersionCheck(a),f=p(a),g=f?d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER_2:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER;b=b===!0&&e===!0;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({source:g,isCtaVisible:b});d("useWAWebDesktopUpsellQplImpression").useWAWebDesktopUpsellQplImpression(b,f);return!b?null:k.jsx(d("WAWebFlex.react").FlexRow,{as:"aside",align:"center",justify:"center",xstyle:[d("WAWebUISpacing").uiMargin.bottom30,l.bannerWrapper],className:"light",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:(j||(j=c("stylex")))([d("WAWebUISpacing").uiPadding.vert24,d("WAWebUISpacing").uiPadding.horiz40,l.bannerContainer]),children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.top6,children:k.jsx(d("WAWebWaDesktopIcon").WaDesktopIcon,{height:55})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{className:j([d("WAWebUISpacing").uiPadding.horiz24,l.bannerTextContainer]),children:[k.jsx(d("WAWebFlex.react").FlexItem,{children:k.jsx(d("WAWebWDSText.react").WDSTextTitle,{color:"primary",xstyle:d("WAWebUISpacing").uiMargin.bottom2,children:d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellDownloadWhatsAppTitle()})}),k.jsx(d("WAWebFlex.react").FlexItem,{className:j([l.bannerSubtext]),children:k.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:n(a,f)})}),k.jsx(d("WAWebFlex.react").FlexRow,{className:j([l.bannerAltBtn]),align:"center",justify:"center",children:k.jsx(m,{isShowingContentVariation:f})})]}),k.jsx(d("WAWebFlex.react").FlexItem,{className:j([l.bannerBtn]),children:k.jsx(m,{isShowingContentVariation:f})})]})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var c=a.isShowingContentVariation,e=c?d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER_2:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("useWAWebDesktopUpsellQplImpression").logDesktopUpsellQplEvent("click",c),d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(e)});return function(){return a.apply(this,arguments)}}();return k.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:a,children:d("WAWebDesktopUpsellCommonStrings").getDesktopAppDownloadBtnLabel()})}m.displayName=m.name+" [from "+f.id+"]";function n(a,b){return b?a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__zejf0IXT_Fm__JHASH__"):h._("__JHASH__XPvXWy4l0Kz__JHASH__"):a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__78A70I-DUdX__JHASH__"):h._("__JHASH__Z9A-K36zEw9__JHASH__")}function o(a){var b=a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?c("justknobx")._("2450"):c("justknobx")._("2451");return a==null?!1:b}function p(a){var b=c("justknobx")._("2452");return a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?b===!0:!1}g["default"]=a}),226);
__d("WAWebLinkDeviceApiCmdTooltip.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={tip:"_ak0j",groupInviteTip:"_ak0i"};b=a;g["default"]=b}),98);
__d("WAWebLinkDeviceApiCmdTooltip.react",["fbt","WAWebApi","WAWebLinkDeviceApiCmdTooltip.scss","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.apiCmd;if(a)switch(a.resultType){case d("WAWebApi").APICmd.GROUP_INVITE:return j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").groupInviteTip,children:j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").tip,children:h._("__JHASH__V2jQigk9rxm__JHASH__")})});case d("WAWebApi").APICmd.MSG_SEND:return j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").groupInviteTip,children:j.jsx("div",{className:c("WAWebLinkDeviceApiCmdTooltip.scss").tip,children:h._("__JHASH__xgqds3iYboS__JHASH__")})})}return j.jsx(j.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g.LinkDeviceApiCmdTooltip=a}),226);
__d("WAWebLinkDeviceCodeView.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={landing:"_ao3b",headline:"_aj-8",listItem:"_aj-c",text:"_aj-7",hint:"_aj-e",qr:"_aj-d",toggle:"_akbn",linkDeviceCodeViewContainer:"_ak94",linkDeviceCodeWrapper:"_ak95",containsAlternateDeviceLinkNux:"_aj-6",linkCode:"_ak96",headlineSpacer:"_aj-9",subtitle:"_aj-a",screenreaderOnlySubtitle:"_alea",list:"_aj-b",hintContainer:"_amrn",qrViewWrapper:"_akk2",phoneNumberLinkCodeViewWrapper:"_akk3"};b=a;g["default"]=b}),98);
__d("WAWebLinkDeviceCodeView.react",["$InternalEnum","WAWebClassnames","WAWebClickable.react","WAWebDesktopUpsellLinkDeviceBanner.react","WAWebLinkDeviceApiCmdTooltip.react","WAWebLinkDeviceCodeView.scss","WAWebVelocityTransitionGroup","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["QR","PHONE_NUMBER_LINK_CODE"]);function a(a){var b,e=a.screenreaderOnlySubtitle,f=a.alternativeLinkDeviceMethodHint;return i.jsxs(i.Fragment,{children:[i.jsx(c("WAWebDesktopUpsellLinkDeviceBanner.react"),{}),i.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebLinkDeviceCodeView.scss").qrViewWrapper]=a.codeType===j.QR,b[c("WAWebLinkDeviceCodeView.scss").phoneNumberLinkCodeViewWrapper]=a.codeType===j.PHONE_NUMBER_LINK_CODE,b[c("WAWebLinkDeviceCodeView.scss").linkDeviceCodeViewContainer]=!0,b)),"data-testid":void 0,children:[a.banners,i.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebLinkDeviceCodeView.scss").containsAlternateDeviceLinkNux]=f!=null,b[c("WAWebLinkDeviceCodeView.scss").linkDeviceCodeWrapper]=!0,b)),children:[i.jsxs("div",{className:c("WAWebLinkDeviceCodeView.scss").text,children:[i.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("landing-title",c("WAWebLinkDeviceCodeView.scss").headline),children:a.title}),e==null?null:i.jsx(d("WAWebClickable.react").Clickable,{onClick:e.onClick,className:c("WAWebLinkDeviceCodeView.scss").screenreaderOnlySubtitle,children:e.node}),a.subtitle==null?i.jsx("div",{className:c("WAWebLinkDeviceCodeView.scss").headlineSpacer}):i.jsx("div",{className:c("WAWebLinkDeviceCodeView.scss").subtitle,children:a.subtitle}),i.jsx("ol",{id:a.a11yInstructionsDomId,className:c("WAWebLinkDeviceCodeView.scss").list,children:a.instructions.map(function(b,d){return i.jsx("li",{className:c("WAWebLinkDeviceCodeView.scss").listItem,children:b},a.instructionsKey+"#"+d)})})]}),i.jsxs("div",{className:c("WAWebLinkDeviceCodeView.scss").linkCode,children:[i.jsx(d("WAWebLinkDeviceApiCmdTooltip.react").LinkDeviceApiCmdTooltip,{apiCmd:a.apiCmd}),a.children]}),i.jsx(c("WAWebVelocityTransitionGroup"),{component:"div",transitionName:"scaleAndFade",className_DONOTUSE:c("WAWebLinkDeviceCodeView.scss").hintContainer,children:f!=null?i.jsx("div",{className:c("WAWebLinkDeviceCodeView.scss").hint,children:f}):null})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.LinkDeviceCodeViewCodeType=j;g.LinkDeviceCodeView=a}),98);
__d("WAWebLinkDeviceCommonInstructions.react",["fbt","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return h._("__JHASH__ygxRs1BT9LE__JHASH__")}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.showOptimizedContent;return a?h._("__JHASH__tkwMdTT7YYd__JHASH__",[h._implicitParam("=m2",j.jsx("strong",{children:h._("__JHASH__ub_vgxtmVrC__JHASH__",[h._implicitParam("=m1",j.jsx(k,{children:h._("__JHASH__gozjY89gxBv__JHASH__")}))])})),h._implicitParam("=m6",j.jsx("strong",{children:h._("__JHASH__wI8FEWy3u6J__JHASH__",[h._implicitParam("=m1",j.jsx(l,{children:h._("__JHASH__1Uu3A7bZRaj__JHASH__")}))])}))]):h._("__JHASH__ZMa-SdwRYo___JHASH__",[h._implicitParam("=m2",j.jsx("strong",{children:h._("__JHASH__Cr0vSuW4NdO__JHASH__",[h._implicitParam("=m1",j.jsx(k,{children:h._("__JHASH__tF1CLtZE5NO__JHASH__")}))])})),h._implicitParam("=m6",j.jsx("strong",{children:h._("__JHASH__G0QxZFBxqgJ__JHASH__",[h._implicitParam("=m1",j.jsx(l,{children:h._("__JHASH__23X1rcE0npS__JHASH__")}))])})),h._implicitParam("=m9",j.jsx("strong",{children:h._("__JHASH__1uRn94KpDu9__JHASH__")}))])}b.displayName=b.name+" [from "+f.id+"]";function d(a){a=a.showOptimizedContent;return a?h._("__JHASH__9AV4DOUqOYb__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._("__JHASH__nK9p2RECLYF__JHASH__")})),h._implicitParam("=m4",j.jsx("strong",{children:h._("__JHASH__QJNiQGQ8nR3__JHASH__")}))]):h._("__JHASH__SMs_4lBsibC__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._("__JHASH__bv04oT56hSs__JHASH__")}))])}d.displayName=d.name+" [from "+f.id+"]";var k=function(){return j.jsx("span",{className:"x1rg5ohu x16dsc37",children:j.jsxs("svg",{height:"24px",viewBox:"0 0 24 24",width:"24px",children:[j.jsx("rect",{fill:"#f2f2f2",height:"24",rx:"3",width:"24"}),j.jsx("path",{d:"m12 15.5c.825 0 1.5.675 1.5 1.5s-.675 1.5-1.5 1.5-1.5-.675-1.5-1.5.675-1.5 1.5-1.5zm0-2c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5zm0-5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",fill:"#818b90"})]})})},l=function(){return j.jsx("span",{className:"x1rg5ohu x16dsc37",children:j.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[j.jsx("rect",{fill:"#F2F2F2",width:"24",height:"24",rx:"3"}),j.jsx("path",{d:"M12 18.69c-1.08 0-2.1-.25-2.99-.71L11.43 14c.24.06.4.08.56.08.92 0 1.67-.59 1.99-1.59h4.62c-.26 3.49-3.05 6.2-6.6 6.2zm-1.04-6.67c0-.57.48-1.02 1.03-1.02.57 0 1.05.45 1.05 1.02 0 .57-.47 1.03-1.05 1.03-.54.01-1.03-.46-1.03-1.03zM5.4 12c0-2.29 1.08-4.28 2.78-5.49l2.39 4.08c-.42.42-.64.91-.64 1.44 0 .52.21 1 .65 1.44l-2.44 4C6.47 16.26 5.4 14.27 5.4 12zm8.57-.49c-.33-.97-1.08-1.54-1.99-1.54-.16 0-.32.02-.57.08L9.04 5.99c.89-.44 1.89-.69 2.96-.69 3.56 0 6.36 2.72 6.59 6.21h-4.62zM12 19.8c.22 0 .42-.02.65-.04l.44.84c.08.18.25.27.47.24.21-.03.33-.17.36-.38l.14-.93c.41-.11.82-.27 1.21-.44l.69.61c.15.15.33.17.54.07.17-.1.24-.27.2-.48l-.2-.92c.35-.24.69-.52.99-.82l.86.36c.2.08.37.05.53-.14.14-.15.15-.34.03-.52l-.5-.8c.25-.35.45-.73.63-1.12l.95.05c.21.01.37-.09.44-.29.07-.2.01-.38-.16-.51l-.73-.58c.1-.4.19-.83.22-1.27l.89-.28c.2-.07.31-.22.31-.43s-.11-.35-.31-.42l-.89-.28c-.03-.44-.12-.86-.22-1.27l.73-.59c.16-.12.22-.29.16-.5-.07-.2-.23-.31-.44-.29l-.95.04c-.18-.4-.39-.77-.63-1.12l.5-.8c.12-.17.1-.36-.03-.51-.16-.18-.33-.22-.53-.14l-.86.35c-.31-.3-.65-.58-.99-.82l.2-.91c.03-.22-.03-.4-.2-.49-.18-.1-.34-.09-.48.01l-.74.66c-.39-.18-.8-.32-1.21-.43l-.14-.93a.426.426 0 00-.36-.39c-.22-.03-.39.05-.47.22l-.44.84-.43-.02h-.22c-.22 0-.42.01-.65.03l-.44-.84c-.08-.17-.25-.25-.48-.22-.2.03-.33.17-.36.39l-.13.88c-.42.12-.83.26-1.22.44l-.69-.61c-.15-.15-.33-.17-.53-.06-.18.09-.24.26-.2.49l.2.91c-.36.24-.7.52-1 .82l-.86-.35c-.19-.09-.37-.05-.52.13-.14.15-.16.34-.04.51l.5.8c-.25.35-.45.72-.64 1.12l-.94-.04c-.21-.01-.37.1-.44.3-.07.2-.02.38.16.5l.73.59c-.1.41-.19.83-.22 1.27l-.89.29c-.21.07-.31.21-.31.42 0 .22.1.36.31.43l.89.28c.03.44.1.87.22 1.27l-.73.58c-.17.12-.22.31-.16.51.07.2.23.31.44.29l.94-.05c.18.39.39.77.63 1.12l-.5.8c-.12.18-.1.37.04.52.16.18.33.22.52.14l.86-.36c.3.31.64.58.99.82l-.2.92c-.04.22.03.39.2.49.2.1.38.08.54-.07l.69-.61c.39.17.8.33 1.21.44l.13.93c.03.21.16.35.37.39.22.03.39-.06.47-.24l.44-.84c.23.02.44.04.66.04z",fill:"#818b90"})]})})};g.LinkDeviceInstructionOpenWhatsAppOnPhone=a;g.LinkDeviceInstructionNavigateToSettings=b;g.LinkDeviceInstructionsTapLinkedDevices=d}),226);
__d("WAWebLinkDevicePhoneNumberCodeCells.react",["WAWebFlex.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={codeCellWrapper:{display:"x78zum5",boxSizing:"x9f619",width:"x10h3iyq",backgroundColor:"x12peec7",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x10i7gwu",borderEndColor:"xx4fpnl",borderBottomColor:"x157r7a7",borderStartColor:"xkuhyp4",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},hyphen:{textAlign:"x2b8uid",fontWeight:"xk50ysn",fontSize:"x579bpy",color:"xzwifym",$$css:!0}};function a(a){var b=a["aria-details"];a=a.code;a=String(a).split("");var e=a.slice(0,4),f=a.slice(4);return j.jsx("div",{"aria-details":b,"data-testid":void 0,"data-link-code":a,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",className:"light",children:[e.map(function(a,b){return j.jsx(l,{content:a},b+":"+a)}),j.jsx("span",{className:(i||(i=c("stylex")))(k.hyphen,d("WAWebUISpacing").uiPadding.all3),"aria-hidden":"true",children:"-"}),f.map(function(a,b){return j.jsx(l,{content:a},b+4+":"+a)})]})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.content;return j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[k.codeCellWrapper,d("WAWebUISpacing").uiMargin.horiz4,d("WAWebUISpacing").uiPadding.vert13],children:j.jsx("span",{className:"x2b8uid xk50ysn x1aueamr x1jzgpr8 xzwifym",children:a})})}l.displayName=l.name+" [from "+f.id+"]";g.LinkDevicePhoneNumberCodeCells=a}),98);
__d("WAWebLinkDevicePhoneNumberCodeScreen.react",["fbt","WALogger","WANullthrows","WAPhoneUtils","WATimeUtils","WAWebAltDeviceLinkingApi","WAWebClickableLink.react","WAWebCmd","WAWebLinkDeviceAction","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceCommonInstructions.react","WAWebLinkDeviceEvents","WAWebLinkDevicePhoneNumberCodeCells.react","WAWebModalSingleActionOpener","WAWebSpinner.react","justknobx","react","stylex","useWAWebListener","useWAWebOnUnmount","useWAWebStableCallback","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: canceling link code timers"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: regenerating link code because 6-minute-TTL expired"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: force manual refresh received"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: primary hello received, starting 1 minute timer for link code regeneration"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: regenerating link code..."]);p=function(){return a};return a}b=k||d("react");var q=i||(i=c("react")),r=b.useEffect,s=b.useState,t=5,u="link-device-phone-number-code-screen-instructions",v={codeContainer:{position:"x1n2onr6",display:"x78zum5",flex:"x1okw0bk",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},code:{width:"x14atkfc",height:"x1vd4hg5","@media only screen and (max-width : 900px)_height":"xrxr3ny",$$css:!0}};function a(a){var b=a.code,e=s(0),f=e[0],g=e[1];e=s(!0);var i=e[0],k=e[1];e=s(!1);var w=e[0],x=e[1];e=c("justknobx")._("2453");r(function(){k(!1),d("WAWebCmd").Cmd.initialLoadReady()},[]);var y=b==null||f>t,z=c("useWAWebStableCallback")(function(a){var b=f+1;(a==null?void 0:a.resetRefreshCount)?b=0:b=f+1;g(b);x(!1);b<=t&&(d("WALogger").LOG(p()),d("WAWebLinkDeviceAction").refreshAltLinkingCode())});b=d("useWAWebTimeout").useTimeout(function(){var a;(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("primary_hello_expire");z()},1*d("WATimeUtils").MINUTE_MILLISECONDS);var A=b[0],B=b[1];d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:primary_hello_received",function(){d("WALogger").LOG(o()),A()});d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:force_manual_refresh",function(){var a;d("WALogger").LOG(n());(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("force_manual_refresh");x(!0);d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking()});b=d("useWAWebTimeout").useTimeout(function(){var a;d("WALogger").LOG(m());(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("code_ttl_expire");z()},3.25*d("WATimeUtils").MINUTE_MILLISECONDS);var C=b[0],D=b[1];r(function(){y||C()},[C,y]);var E=c("useWAWebStableCallback")(function(){B(),D()});r(function(){(f>t||w)&&(E(),d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__4aKY9mN2v0x__JHASH__"),body:h._("__JHASH__xvqSnyYNOVs__JHASH__"),buttonText:h._("__JHASH__W5arSPU7qUE__JHASH__"),onDismiss:function(){return z({resetRefreshCount:!0})},cover:!0,shouldDismissWithoutButtonInteraction:!1}))},[f,w,z,E]);c("useWAWebOnUnmount")(function(){d("WALogger").LOG(l()),E()});return q.jsx(d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeView,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.PHONE_NUMBER_LINK_CODE,testid:void 0,apiCmd:a.apiCmd,title:h._("__JHASH__50_ZuogVJ1A__JHASH__"),subtitle:h._("__JHASH__NglCQvmNCUW__JHASH__",[h._implicitParam("=m2",q.jsx("strong",{dir:"ltr",children:h._("__JHASH__cNiCK8lfiQQ__JHASH__",[h._param("phone-number",d("WAPhoneUtils").formatPhone(a.phoneNumber))])})),h._implicitParam("=m5",q.jsx(c("WAWebClickableLink.react"),{className:"x1n68mz9",onClick:a.onClickEditPhoneNumber,children:h._("__JHASH__r8AmPULLPs-__JHASH__")}))]),instructionsKey:"qrcode",instructions:[q.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionOpenWhatsAppOnPhone,{},"step1"),q.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionNavigateToSettings,{showOptimizedContent:!e},"step2"),q.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionsTapLinkedDevices,{showOptimizedContent:!e},"step3"),q.jsx("span",{children:h._("__JHASH__J-D1kS0DPOM__JHASH__",[h._implicitParam("=m1",q.jsx("strong",{children:h._("__JHASH__Nav9OeC9OGx__JHASH__")}))])},"step4")],a11yInstructionsDomId:u,alternativeLinkDeviceMethodHint:q.jsx(c("WAWebClickableLink.react"),{className:"x1n68mz9",onClick:a.onClickLinkWithQr,children:h._("__JHASH__Pf1BXhk45DS__JHASH__")}),children:q.jsx("div",{className:(j||(j=c("stylex")))(v.codeContainer,!y&&v.code),dir:"ltr","aria-live":"polite","aria-atomic":"true","aria-label":h._("__JHASH__6eGVgqfJ2Uv__JHASH__"),children:i||y?q.jsx("div",{className:"x1tdqgrh x1l76qip x78zum5 x6s0dn4 xl56j7k",children:q.jsx(d("WAWebSpinner.react").Spinner,{})}):q.jsx(d("WAWebLinkDevicePhoneNumberCodeCells.react").LinkDevicePhoneNumberCodeCells,{code:c("WANullthrows")(a.code),"aria-details":u})})})}a.displayName=a.name+" [from "+f.id+"]";g.LinkWithPhoneNumberCodeScreen=a}),226);
__d("WAWebLinkDevicePhoneNumber.react",["fbt","$InternalEnum","WALogger","WANullthrows","WAWebAltDeviceLinkingApi","WAWebAltDeviceLinkingIq","WAWebLinkDeviceAction","WAWebLinkDeviceEvents","WAWebLinkDevicePhoneNumberCodeScreen.react","WAWebLinkDevicePhoneNumberEntryScreen.react","WAWebModalSingleActionOpener","WAWebNetworkStatus","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: Invalid state while linking phone number, phone number was null but tried to display code screen"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: unexpected error happened while starting flow: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: a companion-hello error happened while starting flow: ",""]);m=function(){return a};return a}var n=j||c("react"),o=(i||(i=d("react"))).useState,p=b("$InternalEnum").Mirrored(["STEP1_PHONE_NUMBER_ENTRY","STEP2_DISPLAY_CODE"]);function a(a){var e=o(p.STEP1_PHONE_NUMBER_ENTRY),f=e[0],g=e[1];e=o(null);var i=e[0],j=e[1];e=o(null);var q=e[0],r=e[1];e=o(!1);var s=e[0],t=e[1],u=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__QUpJir4HRxk__JHASH__"),body:h._("__JHASH__tgBcoFJ6Q6P__JHASH__"),onDismiss:function(){g(p.STEP1_PHONE_NUMBER_ENTRY)}})},v=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__zXJT295zSlT__JHASH__"),body:h._("__JHASH__DbQxgkiA0fU__JHASH__"),buttonText:h._("__JHASH__ScAqMdKkbaw__JHASH__"),onDismiss:function(){return a.onClickLinkWithQr()}})},w=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__rch_ch6Ihp1__JHASH__"),body:h._("__JHASH__MLzSe-PR4lG__JHASH__"),onDismiss:function(){return a.onClickLinkWithQr()}})},x=c("useWAWebStableCallback")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){j(a);t(!1);g(p.STEP2_DISPLAY_CODE);try{if(c("WAWebNetworkStatus").online){a=(yield d("WAWebLinkDeviceAction").genLinkDeviceCodeForPhoneNumber(a,b));r(a)}}catch(c){(b=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:b.addPoint("gen_code_exception");yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING});if(c instanceof d("WAWebAltDeviceLinkingIq").CompanionHelloError){d("WALogger").WARN(m(),c);switch((a=c.type)==null?void 0:a.name){case"IQErrorNonSupportedPrimary":g(p.STEP1_PHONE_NUMBER_ENTRY);t(!0);return;case"IQErrorFeatureNotAvailable":g(p.STEP1_PHONE_NUMBER_ENTRY);v();return;case"IQErrorRateOverlimit":g(p.STEP1_PHONE_NUMBER_ENTRY);w();return}}d("WALogger").ERROR(l(),c).sendLogs("alt pairing: unexpected error happened while starting flow");u()}});return function(b,c){return a.apply(this,arguments)}}()),y=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;if(f!==p.STEP2_DISPLAY_CODE||i==null)return;r(null);(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("refresh_code");yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING});yield x(i,!1)});return function(){return a.apply(this,arguments)}}();d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:refresh_alt_linking_code",y);d("useWAWebListener").useListener(c("WAWebNetworkStatus"),"change:online",function(){c("WAWebNetworkStatus").online?void y():r(null)});d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:error_alt_linking",u);i==null&&f!==p.STEP1_PHONE_NUMBER_ENTRY&&(d("WALogger").ERROR(k()).sendLogs("alt pairing: invalid ui state: null phone number in code screen"),g(p.STEP1_PHONE_NUMBER_ENTRY));switch(f){case p.STEP1_PHONE_NUMBER_ENTRY:return n.jsx(d("WAWebLinkDevicePhoneNumberEntryScreen.react").LinkWithPhoneNumberEntryScreen,babelHelpers["extends"]({initialPhoneNumber:i,showUpdatePrimaryAppBanner:s,onSubmitPhoneNumber:function(a){return x(a,!0)}},a));case p.STEP2_DISPLAY_CODE:return n.jsx(d("WAWebLinkDevicePhoneNumberCodeScreen.react").LinkWithPhoneNumberCodeScreen,{code:q,phoneNumber:c("WANullthrows")(i),onClickEditPhoneNumber:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING}),g(p.STEP1_PHONE_NUMBER_ENTRY),r(null)}),onClickLinkWithQr:a.onClickLinkWithQr,apiCmd:a.apiCmd})}}a.displayName=a.name+" [from "+f.id+"]";g.LinkWithPhoneNumber=a}),226);
__d("WAWebLinkDeviceQrVideo.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={video:"_ak5k",tutorialHeadline:"_ak5l",videoContainer:"_ak5n",hint:"_ak5m",container:"_ak5o",player:"_ak5i",poster:"_ak5g",hidden:"_ak5h",overlay:"_ak5f",button:"_ak5j",play:"_ak5p"};b=a;g["default"]=b}),98);
__d("WAWebRefreshLargeIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="refresh-large";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=48;m=48;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 48 48",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:"refresh-l-light"}),j.jsx("desc",{children:"Created with Sketch."}),j.jsx("defs",{}),j.jsx("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:j.jsx("g",{id:"ic_refresh_black_24px",fill:"currentColor",fillRule:"nonzero",children:j.jsx("path",{d:"M35.3,12.7 C32.4,9.8 28.42,8 24,8 C15.16,8 8.02,15.16 8.02,24 C8.02,32.84 15.16,40 24,40 C31.46,40 37.68,34.9 39.46,28 L35.3,28 C33.66,32.66 29.22,36 24,36 C17.38,36 12,30.62 12,24 C12,17.38 17.38,12 24,12 C27.32,12 30.28,13.38 32.44,15.56 L26,22 L40,22 L40,8 L35.3,12.7 Z",id:"Shape"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RefreshLargeIcon=a}),98);
__d("WAWebLinkDeviceQrVideo.react",["fbt","$InternalEnum","WAWebAssetLoaderDpiChangeDispatch","WAWebClassnames","WAWebExternalLink.react","WAWebFaqUrl","WAWebImg.react","WAWebLinkDeviceQrVideo.scss","WAWebRefreshLargeIcon","WAWebSpinner.react","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","bx","react","useWAWebDevicePixelRatio"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useRef,m=e.useState,n={low:c("bx").getURL(c("bx")("9566")),high:c("bx").getURL(c("bx")("9565"))},o={low:c("bx").getURL(c("bx")("9558")),high:c("bx").getURL(c("bx")("9557"))},p=b("$InternalEnum").Mirrored(["FIRST_OPEN","READY","LOADING","FIRST_PLAY","ENDED","REPLAY"]);function a(){var a=l(null),b=m(p.FIRST_OPEN),e=b[0],f=b[1];c("useWAWebDevicePixelRatio")();b=function(){f(p.READY)};var g=function(a){f(p.LOADING),a.stopPropagation(),a.preventDefault()},i=function(){e===p.LOADING&&f(p.FIRST_PLAY)},j=function(){f(p.ENDED)},r=function(){f(p.REPLAY);var b=a.current;b&&b.play()},s,t;e===p.FIRST_OPEN&&(s=k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").overlay,children:k.jsx(d("WAWebSpinner.react").Spinner,{size:32})}),t=b);b=e===p.FIRST_OPEN||e===p.READY||e===p.LOADING?k.jsx(c("WAWebImg.react"),{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebLinkDeviceQrVideo.scss").hidden]=e===p.FIRST_OPEN,b[c("WAWebLinkDeviceQrVideo.scss").poster]=!0,b)),src:o[c("WAWebAssetLoaderDpiChangeDispatch").currentRes],onLoad:t},"poster"):null;var u,v,w=n[c("WAWebAssetLoaderDpiChangeDispatch").currentRes];i=e!==p.FIRST_OPEN&&e!==p.READY?k.jsx("video",{autoPlay:!0,className:c("WAWebLinkDeviceQrVideo.scss").player,controls:!0,controlsList:"nodownload",onCanPlayThrough:i,onEnded:j,ref:a,children:k.jsx("source",{src:w,type:"video/mp4"})},c("WAWebAssetLoaderDpiChangeDispatch").currentRes):null;switch(e){case p.READY:v=g;u=k.jsx(q,{});break;case p.LOADING:u=k.jsx(d("WAWebSpinner.react").Spinner,{color:"white",size:32});break;case p.ENDED:v=r;u=k.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{});break;default:u=null,v=null}j=u?k.jsx(c("WAWebUnstyledButton.react"),{className_DONOTUSE:c("WAWebLinkDeviceQrVideo.scss").overlay,"aria-label":h._("__JHASH__q6NS7843evc__JHASH__"),onClick:v,children:k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").button,children:u})}):null;return k.jsxs("div",{className:c("WAWebLinkDeviceQrVideo.scss").video,children:[k.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("landing-title",c("WAWebLinkDeviceQrVideo.scss").tutorialHeadline),children:h._("__JHASH__udmxAySQquL__JHASH__")}),k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").hint,children:k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getLoginFaqUrl(),children:h._("__JHASH__ytLgja5uJGV__JHASH__")})}),k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").videoContainer,children:k.jsxs("div",{className:c("WAWebLinkDeviceQrVideo.scss").container,children:[k.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[s,j,b]}),i]})})]})}a.displayName=a.name+" [from "+f.id+"]";var q=function(){return k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").play,children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34",children:k.jsx("path",{fill:"#FFF",d:"M1 4.983v24.034a2.982 2.982 0 0 0 4.564 2.53L24.792 19.53a2.981 2.981 0 0 0 0-5.058L5.563 2.454A2.983 2.983 0 0 0 1 4.983z"})})})};g["default"]=a}),226);
__d("WAWebConnectionIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="connection";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=32;m=32;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 32 32",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 32 32",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M15.95,27.369L1.808,8.512c3.89-2.947,8.839-4.714,14.142-4.714 c5.304,0,10.254,1.768,14.142,4.714L15.95,27.369z M14.736,19.447h2.545v-2.545h-2.545V19.447z M14.736,14.357h2.545V7.912h-2.545 V14.357z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ConnectionIcon=a}),98);
__d("WAWebInfoTooltip.react",["WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={tooltipContainer:{position:"x10l6tqk",width:"xhwf2h4",top:"xdsb8wn",marginStart:"x1hl7nhr",$$css:!0},content:{position:"x1n2onr6",display:"x1rg5ohu",whiteSpace:"xeaf4i8",fontSize:"x1nxh6w3",lineHeight:"x1fc57z9",color:"x1tpmtvg",textAlign:"x2b8uid",textOverflow:"xlyipyv",boxShadow:"x1x28319",borderTopStartRadius:"xzp58vz",borderTopEndRadius:"xz6pen6",borderBottomEndRadius:"x1hij43t",borderBottomStartRadius:"x13yjgf2",backgroundColor:"x83z2og",":hover_backgroundColor":"x1z0qo99",$$css:!0}};function a(a){var b=a.children;a=a.id;return j.jsx("div",{role:"tooltip",id:a,className:(i||(i=c("stylex")))([k.tooltipContainer,d("WAWebUISpacing").paddingTop5]),children:j.jsx("div",{className:i([k.content,d("WAWebUISpacing").paddingHoriz12,d("WAWebUISpacing").paddingVert8]),children:j.jsx("span",{children:b})})},"info-tooltip")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebInfoIconWithToolTip.react",["WAWebInfoFilledIcon","WAWebInfoTooltip.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useRef,m=b.useState,n={container:{display:"x78zum5",position:"x10l6tqk",height:"xhvdbge",alignItems:"x6s0dn4",cursor:"x1ypdohk",$$css:!0}};function a(a){a=a.tooltip;var b=m(!1),e=b[0],f=b[1];b=l(null);var g="info-tooltip-id",h=[k.jsx(d("WAWebInfoFilledIcon").InfoFilledIcon,{},"info_icon")];e&&h.unshift(k.jsx(c("WAWebInfoTooltip.react"),{id:g,children:a}));return k.jsx("div",{ref:b,className:(i||(i=c("stylex")))([n.container,d("WAWebUISpacing").uiPadding.start5]),onMouseEnter:function(){f(!0)},onMouseLeave:function(){f(!1)},onFocus:function(){f(!0)},onBlur:function(){f(!1)},tabIndex:0,role:"dialog","aria-describedby":g,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceQrcode.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={landing:"_ao39",headline:"_ak20",listItem:"_ak21",text:"_ak22",hint:"_ak23",qr:"_ak24",toggle:"_ak25",hintText:"_akav",codeCopy:"_akax",qrcode:"_akau",codeLogo:"_akaz",idle:"_akay",qrButton:"_akas",qrButtonIcon:"_akat",icon:"_aka-",desktopUpsellBanner:"_akaw"};b=a;g["default"]=b}),98);
__d("WAWebLogoutReason.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={wrapper:"_ajya",icon:"_ajy9",textWrapper:"_ajyd",error:"_ajyb",warn:"_ajyc"};b=a;g["default"]=b}),98);
__d("WAWebLogoutReason.react",["fbt","WAWebActionLinkButterbar.react","WAWebClassnames","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebLogoutReason","WAWebLogoutReason.scss","WAWebLogoutReasonConstants","WAWebText_DONOTUSE.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={paragraph:{lineHeight:"x1u7k74",$$css:!0}},l=function(){return j.jsx("span",{className:c("WAWebLogoutReason.scss").icon,"data-testid":void 0,children:j.jsx("svg",{width:"44",height:"44",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{d:"M22.0002 0.314301C10.0422 0.314301 0.314453 10.0421 0.314453 22C0.314453 33.958 10.0422 43.6857 22.0002 43.6857C33.9581 43.6857 43.6859 33.958 43.6859 22C43.6859 10.0421 33.9581 0.314301 22.0002 0.314301ZM30.1502 28.5196L28.5197 30.1501L22.0002 23.6305L15.4806 30.1501L13.8501 28.5196L20.3709 22L13.8501 15.4805L15.4806 13.85L22.0002 20.3695L28.521 13.85L30.1515 15.4805L23.6307 22L30.1502 28.5196Z",fill:"currentColor"})})})},m=function(){return j.jsx("span",{className:c("WAWebLogoutReason.scss").icon,"data-testid":void 0,children:j.jsx("svg",{width:"44",height:"44",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM34.6473 31.164L25.2436 14.2344C25.1138 13.9995 24.9312 13.8053 24.7134 13.6705C24.4956 13.5357 24.2499 13.4649 24 13.4649C23.7501 13.4649 23.5044 13.5357 23.2866 13.6705C23.0687 13.8053 22.8861 13.9995 22.7564 14.2344L13.3527 31.164C13.2177 31.4068 13.144 31.6848 13.1392 31.9694C13.1344 32.254 13.1986 32.5349 13.3253 32.783C13.452 33.0312 13.6366 33.2377 13.86 33.3813C14.0834 33.5249 14.3376 33.6004 14.5964 33.6H33.4036C33.6624 33.6004 33.9166 33.5249 34.14 33.3813C34.3634 33.2377 34.548 33.0312 34.6747 32.783C34.8014 32.5349 34.8656 32.254 34.8608 31.9694C34.856 31.6848 34.7823 31.4068 34.6473 31.164ZM25.0909 19.2V26.4H22.9091V19.2H25.0909ZM22.9091 31.2V28.8H25.0909V31.2H22.9091Z",fill:"currentColor"})})})};function n(){var a=j.jsx(d("WAWebFlex.react").FlexColumn,{className:c("WAWebLogoutReason.scss").textWrapper,children:j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{size:"16",xstyle:k.paragraph,children:h._("__JHASH__b5A7QgdC8FN__JHASH__")})}),b=d("WAWebLogoutReason").getPrevCustomLogoutMessage();if(b!=null){var e=b.logoutMessageHeader;b=b.logoutMessageSubtext;a=j.jsxs(d("WAWebFlex.react").FlexColumn,{className:c("WAWebLogoutReason.scss").textWrapper,children:[e!=null&&j.jsx(d("WAWebText_DONOTUSE.react").TextHeader,{level:"1",xstyle:d("WAWebUISpacing").uiMargin.bottom5,size:"18",testid:void 0,children:e}),b!=null&&j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{testid:void 0,size:"16",children:b})]})}return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebLogoutReason.scss").wrapper,c("WAWebLogoutReason.scss").warn),children:[m(),a]})}n.displayName=n.name+" [from "+f.id+"]";function a(){var a=d("WAWebLogoutReason").getPrevLogoutReasonCode();if(a==null)return null;if(a===d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.ACCOUNT_LOCKED)return j.jsx(n,{});var b=o(a),e=b[0],f=b[1];if(e==null||e==="")return null;b=a===d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL;a=f!=null?j.jsxs(c("WAWebActionLinkButterbar.react"),{action:function(){d("WAWebExternalLink.react").openExternalLink(f)},children:[" ",h._("__JHASH__1X8_VuO9HeO__JHASH__")]}):null;return j.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebLogoutReason.scss").wrapper,b?c("WAWebLogoutReason.scss").error:c("WAWebLogoutReason.scss").warn),children:[b?l():m(),j.jsxs("div",{className:c("WAWebLogoutReason.scss").textWrapper,children:[j.jsx("div",{children:e}),a]})]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=null,c=null;switch(a){case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL:b=h._("__JHASH__4wX4qvNgSTd__JHASH__").toString();c=d("WAWebFaqUrl").getDBErrorFaqUrl();break;case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.SYNC_FAIL:b=h._("__JHASH__JfPa9WYB6PJ__JHASH__").toString();c=d("WAWebFaqUrl").getLinkDeviceFaqUrl();break;case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.INITIAL_HISTORY_SYNC_TIMEOUT:b=h._("__JHASH__K5rJ9qiSPJP__JHASH__").toString();c=d("WAWebFaqUrl").getLinkDeviceFaqUrl();break}return[b,c]}g["default"]=a}),226);
__d("WAWebWamQrCodeCount",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=!1,this.$2=0}var b=a.prototype;b.get=function(){return this.$2};b.$3=function(){this.$1&&(this.$1=!1,this.$2=0,this.initialDisplayDate=null)};b.inc=function(){this.$3();return this.set(this.$2+1)};b.set=function(a){this.$3();if(this.$2===a)return;a===1&&(this.initialDisplayDate=g());this.$2=a;return this.get()};b.reset=function(){this.$1=!0};return a}();b=new a();function g(){return Math.floor(window.performance.now())}f["default"]=b}),66);
__d("WAWebLinkDeviceQrcode.react",["fbt","Promise","WABase64","WALogger","WAWebAdvSignatureApi","WAWebAutoLogoutGating","WAWebCheckBox.react","WAWebClassnames","WAWebClickable.react","WAWebCmd","WAWebCompanionRegClientUtils","WAWebConfirmPopup.react","WAWebConnModel","WAWebConnectionIcon","WAWebCopyPasteSelectable.react","WAWebFrontendConstants","WAWebInfoIconWithToolTip.react","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceCommonInstructions.react","WAWebLinkDeviceQrcode.scss","WAWebLogoutReason.react","WAWebModalManager","WAWebNetworkStatus","WAWebQRCode.react","WAWebRefreshLargeIcon","WAWebSignalStoreApi","WAWebSocketConstants","WAWebSocketModel","WAWebSpinner.react","WAWebUISpacing","WAWebUserPrefsInfoStore","WAWebVelocityTransitionGroup","WAWebWamQrCodeCount","asyncToGeneratorRuntime","gkx","justknobx","react","stylex","useWAWebDebouncedCallback","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);m=function(){return a};return a}e=l||d("react");var n=j||(j=c("react")),o=e.useCallback,p=e.useEffect,q=e.useState;e={autoLogoutToggle:{display:"x78zum5",position:"x1n2onr6",$$css:!0}};function a(a){var b=q(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),e=b[0],f=b[1];b=q(!c("WAWebNetworkStatus").online);var g=b[0],i=b[1];b=q(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED);var j=b[0],k=b[1];b=c("justknobx")._("2453");var l=Boolean(d("WAWebAutoLogoutGating").autoLogoutInIframFunctionAllowed());l=q(l);var m=l[0];m=l[1];l=function(){};m=function(){f(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),i(!c("WAWebNetworkStatus").online),k(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED)};d("useWAWebListener").useListener(d("WAWebSocketModel").Socket,"change:state change:online",m);l=function(){d("WAWebCmd").Cmd.refreshQR()};g?m=n.jsx(r,{children:n.jsxs("div",{className:c("WAWebLinkDeviceQrcode.scss").qrButton,children:[n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").qrButtonIcon,children:n.jsx(d("WAWebConnectionIcon").ConnectionIcon,{})}),h._("__JHASH__OnvUeCP02Rm__JHASH__")]},"expiry")}):e?m=n.jsx(r,{children:n.jsxs("button",{className:c("WAWebLinkDeviceQrcode.scss").qrButton,onClick:l,children:[n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").qrButtonIcon,children:n.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{})}),h._("__JHASH__E4wdB2IInzG__JHASH__")]},"expiry")}):j?m=n.jsx(r,{}):m=n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").qrcode,children:n.jsx(d("WAWebSpinner.react").Spinner,{})});g=null;return n.jsxs(d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeView,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.QR,apiCmd:a.apiCmd,banners:n.jsx(c("WAWebLogoutReason.react"),{}),title:h._("__JHASH__jktImbB3n4-__JHASH__"),screenreaderOnlySubtitle:a.showAlternateDeviceLinkingNux?{onClick:a.onClickLinkWithPhoneNumber,node:n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").hintText,children:h._("__JHASH__BKDJEU1W7F9__JHASH__")})}:null,instructionsKey:"qrcode",instructions:[n.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionOpenWhatsAppOnPhone,{},"step1"),n.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionNavigateToSettings,{showOptimizedContent:!b},"step2"),n.jsx(d("WAWebLinkDeviceCommonInstructions.react").LinkDeviceInstructionsTapLinkedDevices,{showOptimizedContent:!b},"step3"),b===!0?n.jsx("span",{children:h._("__JHASH__jcem7QLns8o__JHASH__")},"step4"):n.jsx("span",{children:h._("__JHASH__iFvX1z-eeEA__JHASH__")},"step4")],alternativeLinkDeviceMethodHint:a.showAlternateDeviceLinkingNux?n.jsx(d("WAWebClickable.react").Clickable,{as:"span",dataTestId:"link-device-qrcode-alt-linking-hint",className:c("WAWebLinkDeviceQrcode.scss").hintText,onClick:a.onClickLinkWithPhoneNumber,children:h._("__JHASH__YVpigCek63N__JHASH__")}):null,children:[m,g]})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var e,f=a.children;a=q(!1);var g=a[0],h=a[1];a=q(null);var j=a[0],k=a[1],l=c("useWAWebDebouncedCallback")(function(){h(!0)},100),r=function(){if(d("WAWebConnModel").Conn.connected)return(i||(i=b("Promise"))).resolve(void 0);var a=d("WAWebConnModel").Conn.ref;return d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo().then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());if(!c||!c.staticKeyPair||!b){d("WALogger").ERROR(m()).sendLogs("Empty noiseInfo or empty regInfo");return null}c=d("WABase64").encodeB64(c.staticKeyPair.pubKey);b=d("WABase64").encodeB64(b.identityKeyPair.pubKey);var e=(yield d("WAWebAdvSignatureApi").getADVSecretKey());return a+","+c+","+b+","+e+","+d("WAWebCompanionRegClientUtils").DEVICE_PLATFORM});return function(a){return c.apply(this,arguments)}}())},t=o(function(){void r().then(function(a){if(a==null||a==="")return;k(a);c("WAWebWamQrCodeCount").inc()})},[k]);a=o(function(a){j!=null&&a!=null&&a.removeAttribute("title")},[j]);d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",t);p(function(){void t();d("WAWebCmd").Cmd.initialLoadReady();return function(){c("WAWebWamQrCodeCount").reset()}},[]);var u=function(){var a=window.getSelection(),b=document.getElementsByClassName(c("WAWebLinkDeviceQrcode.scss").codeCopy).item(0);b&&(a.selectAllChildren(b),document.execCommand("copy"));d("WAWebModalManager").ModalManager.close()},v=function(){g&&h(!1),l()},w=function(a){l.cancel(),h(!1)},x=function(a){a.stopPropagation(),a.preventDefault(),void r().then(function(a){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:u,okText:"Copy to Clipboard",children:n.jsx(d("WAWebCopyPasteSelectable.react").SelectableSpan,{className:c("WAWebLinkDeviceQrcode.scss").codeCopy,selectable:!0,children:a})}))})},y=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebLinkDeviceQrcode.scss").idle]=!!f,e[c("WAWebLinkDeviceQrcode.scss").qrcode]=!0,e)),z=g&&f==null?{cursor:"none"}:null,A=null;c("gkx")("26258")||(A=x);return j!=null&&n.jsx(d("WAWebQRCode.react").WAWebQRCode,{data:j,size:d("WAWebFrontendConstants").QR_EDGE,colorDark:"#122e31",onChange:a,children:function(a){return n.jsxs("div",{ref:a,"data-testid":void 0,className:y,"data-ref":j,onContextMenu:A,style:z,onMouseMove:v,onMouseLeave:w,children:[n.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"scale",children:f}),n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").codeLogo,children:n.jsx(s,{})})]})}})}var s=function(){return n.jsx("span",{className:c("WAWebLinkDeviceQrcode.scss").icon,children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",children:[n.jsx("path",{fill:"#FFF",d:"M6.525 43.936a29.596 29.596 0 0 1-3.039-13.075C3.494 14.568 16.755 1.313 33.05 1.313c7.904.004 15.328 3.082 20.91 8.666 5.581 5.586 8.653 13.01 8.65 20.907-.007 16.294-13.266 29.549-29.558 29.549a29.648 29.648 0 0 1-12.508-2.771L1.391 62.687l5.134-18.751z"}),n.jsx("path",{fill:"#123033",d:"M50.801 13.135c-4.739-4.742-11.039-7.354-17.752-7.357-13.837 0-25.094 11.253-25.099 25.085a25.039 25.039 0 0 0 3.349 12.541l-3.56 12.999 13.304-3.488a25.084 25.084 0 0 0 11.996 3.054h.011c13.83 0 25.088-11.256 25.095-25.087.002-6.703-2.607-13.005-7.344-17.747zM33.05 51.733h-.008a20.866 20.866 0 0 1-10.62-2.906l-.762-.452-7.894 2.07 2.108-7.694-.497-.789a20.802 20.802 0 0 1-3.189-11.097c.004-11.496 9.361-20.85 20.87-20.85a20.73 20.73 0 0 1 14.746 6.115 20.733 20.733 0 0 1 6.104 14.752c-.006 11.497-9.363 20.851-20.858 20.851z"}),n.jsx("path",{fill:"#123033",d:"M25.429 19.26a8.65 8.65 0 0 0-1.028.011 2.352 2.352 0 0 0-.95.255c-.221.114-.427.277-.75.582-.305.288-.481.54-.668.782a6.974 6.974 0 0 0-1.443 4.291l.001.003a8.243 8.243 0 0 0 .844 3.607c1.043 2.307 2.763 4.746 5.035 7.008a24.676 24.676 0 0 0 1.657 1.6 24.145 24.145 0 0 0 9.814 5.229s.751.179 1.391.218c.021.001.04.003.061.003a9.207 9.207 0 0 0 1.422-.033 5.086 5.086 0 0 0 2.129-.59c.423-.225.623-.337.978-.561 0 0 .11-.072.319-.23.345-.257.558-.438.845-.736.211-.22.394-.479.534-.772.2-.417.401-1.213.481-1.874.061-.505.042-.781.036-.952-.011-.275-.238-.558-.487-.678l-1.486-.668s-2.222-.967-3.581-1.587a1.278 1.278 0 0 0-.452-.104c-.341-.021-.723.068-.966.324v-.004c-.013-.001-.182.145-2.031 2.385-.102.122-.341.387-.754.362a1.086 1.086 0 0 1-.185-.029 3.402 3.402 0 0 1-.49-.17c-.316-.134-.427-.185-.643-.278l-.013-.006a15.361 15.361 0 0 1-4.013-2.556 15.88 15.88 0 0 1-.927-.885c-1.074-1.041-1.953-2.148-2.607-3.24-.035-.06-.09-.146-.15-.242-.107-.174-.225-.381-.262-.523-.095-.376.157-.678.157-.678s.622-.68.911-1.05c.278-.356.518-.704.671-.952.301-.484.39-.982.238-1.37a216.767 216.767 0 0 0-2.219-5.215c-.156-.339-.598-.589-1.005-.636a6.284 6.284 0 0 0-.414-.041"})]})})};g["default"]=a}),226);
__d("WAWebLinkDevice.react",["WAWebAltDeviceLinkingApi","WAWebAutoLogoutGating","WAWebCmd","WAWebConnModel","WAWebLandingHeader.react","WAWebLinkDeviceAction","WAWebLinkDevicePhoneNumber.react","WAWebLinkDeviceQrVideo.react","WAWebLinkDeviceQrcode.react","WAWebPageLoadLogging","WAWebThemeContext","WAWebUA","asyncToGeneratorRuntime","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useState;function a(a){var b=self.location!==self.parent.location;b=!1;b=l(b);var e=b[0];e=b[1];b=l(!1);e=b[0];b=b[1];d("WAWebThemeContext").useForceLightTheme();k(function(){d("WAWebPageLoadLogging").endPageLoadQpl(!0)});b=function(){};var f=function(a){};k(function(){},[]);f=null;var g;c("WAWebLinkDeviceQrVideo.react")&&(g=j.jsx(c("WAWebLinkDeviceQrVideo.react"),{}));return j.jsxs("div",{className:"landing-wrapper",children:[f,j.jsx("div",{className:"landing-wrapper-before"}),j.jsx(c("WAWebLandingHeader.react"),{}),!e&&j.jsxs("div",{className:"landing-window",children:[j.jsx("div",{className:"landing-main",children:j.jsx(m,babelHelpers["extends"]({onAutoLogoutToggle:b},a))}),g]})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var e=a.apiCmd;a=a.onAutoLogoutToggle;var f=d("WAWebUA").UA.isOculusBroswer,g=l(f),h=g[0],i=g[1];g=l(f);var k=g[0],m=g[1],n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:a?d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING:d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE}),m(a)});return function(b){return a.apply(this,arguments)}}();g=l(null);var o=g[0],p=g[1];d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(h&&k){void d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING}).then(function(){return i(!1)});return}var a=(yield d("WAWebLinkDeviceAction").getPreselectedCountryCodeIso());p(a)}),{once:!0});g=!d("WAWebAutoLogoutGating").autoLogoutInIframFunctionAllowed();return(g||f)&&k?j.jsx(d("WAWebLinkDevicePhoneNumber.react").LinkWithPhoneNumber,{apiCmd:e,initialCountryId:o,isLinkingPageLoading:h,onClickLinkWithQr:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null?void 0:a.preventDefault(),a==null?void 0:a.stopPropagation(),yield n(!1)});return function(b){return a.apply(this,arguments)}}()}):j.jsx(c("WAWebLinkDeviceQrcode.react"),{apiCmd:e,showAlternateDeviceLinkingNux:g,onAutoLogoutToggle:a,onClickLinkWithPhoneNumber:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null?void 0:a.preventDefault(),a==null?void 0:a.stopPropagation(),yield n(!0)});return function(b){return a.apply(this,arguments)}}()})}m.displayName=m.name+" [from "+f.id+"]";g.LinkDeviceScreen=a}),98);
__d("WAWebLockScreen.react",["fbt","WAPromiseDelays","WAWebABProps","WAWebButton.react","WAWebCmd","WAWebConnModel","WAWebDetailImage.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebLandingHeader.react","WAWebLockScreenResolver","WAWebPasswordInput.react","WAWebProfileImage.react","WAWebScreenLockErrorMessages","WAWebSocketModel","WAWebUISpacing","WAWebUserPrefsMultiDevice","WAWebUserPrefsScreenLock","WAWebWDSText.react","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebPersistentCounterAsync"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={pushnameText:{marginBottom:"x14ler8",$$css:!0},passcodeContainer:{width:"xdzyupr",$$css:!0},incorrectPasscode:{height:"x1qx5ct2",$$css:!0},logoutButton:{marginTop:"x1tfhste",$$css:!0}},n=82;function a(){var a=l(""),e=a[0],f=a[1];a=l(null);var g=a[0],i=a[1];a=l(!1);var j=a[0],o=a[1];a=l(!1);var p=a[0],q=a[1];a=c("useWAWebPersistentCounterAsync")(d("WAWebUserPrefsScreenLock").getScreenUnlockTryCount,d("WAWebUserPrefsScreenLock").setScreenUnlockTryCount);var r=a[0],s=r.count,t=r.loading;r=r.error;var u=a[1],v=a[2];s=(a=s)!=null?a:0;var w=s>=d("WAWebABProps").getABPropConfigValue("web_screen_lock_max_retries");a=s+1===d("WAWebABProps").getABPropConfigValue("web_screen_lock_max_retries");d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"correct_passcode_lock_screen",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){v()}));d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"incorrect_passcode_lock_screen",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){u(),o(!0),q(!1)}));s=function(a){f(a.currentTarget.value)};var x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){q(!0);yield d("WAPromiseDelays").delayMs(400);if(e===""){i(!0);q(!1);return}i(!1);d("WAWebLockScreenResolver").LockScreenResolvable.enterPasscode(e)});return function(){return a.apply(this,arguments)}}(),y=function(a){!w&&a.key==="Enter"&&x()};w&&d("WAWebSocketModel").Socket.logout();return k.jsxs("div",{className:"landing-wrapper",children:[k.jsx("div",{className:"landing-wrapper-before"}),k.jsx(c("WAWebLandingHeader.react"),{}),k.jsx("div",{className:"landing-window","data-testid":void 0,children:k.jsx("div",{className:"xa03szm x24d7kb x3urnb8 xay0mn9 xt48urr",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",className:"landing-main",children:[k.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom24],children:k.jsx(c("WAWebProfileImage.react"),{thumb:d("WAWebUserPrefsMultiDevice").getCachedProfilePicEURL(),size:n,quality:d("WAWebDetailImage.react").DetailImageQuality.High})}),k.jsx(d("WAWebWDSText.react").WDSTextLarge,{xstyle:m.pushnameText,children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:d("WAWebConnModel").Conn.pushname,ellipsify:!0,titlify:!0})}),k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.bottom16,children:k.jsx(d("WAWebWDSText.react").WDSTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:h._("__JHASH__qgIdFJ97fdy__JHASH__")})}),k.jsxs(c("WAWebFlexItem.react"),{xstyle:[m.passcodeContainer,d("WAWebUISpacing").uiMargin.bottom24],children:[k.jsx(c("WAWebPasswordInput.react"),{onChange:s,onKeyDown:y,required:!0,placeholder:h._("__JHASH__xKJi4GvQVx9__JHASH__").toString(),focusOnMount:!0,enableShowPassword:!0,testid:void 0}),k.jsx(d("WAWebWDSText.react").WDSTextSmall,{color:"critical",xstyle:[m.incorrectPasscode,d("WAWebUISpacing").uiMargin.top4,d("WAWebUISpacing").uiMargin.bottom10],role:"alert",children:d("WAWebScreenLockErrorMessages").getErrorMessage({emptyInputEntered:g,incorrectPasscode:j,onlyOneTryRemaining:a,triesExceeded:w})})]}),k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.bottom24,children:k.jsx(c("WAWebButton.react"),{type:"primary",onClick:function(){x()},disabled:p||w||t||r!=null,spinner:p,testid:void 0,children:h._("__JHASH__ODe3uHsIv1F__JHASH__")})}),k.jsx(d("WAWebWDSText.react").WDSTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:h._("__JHASH__4IOi_WOkdPh__JHASH__")}),k.jsx(d("WAWebWDSText.react").WDSTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.bottom6,children:h._("__JHASH__cbGxantkmY7__JHASH__")}),k.jsx(c("WAWebFlexItem.react"),{xstyle:m.logoutButton,children:k.jsx(c("WAWebButton.react"),{type:"secondary",onClick:function(){return d("WAWebSocketModel").Socket.logout()},children:h._("__JHASH__wtXSWvFZiBX__JHASH__")})})]})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLogoutLoadingScreen.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={background:"_al_7",mainWrapper:"_al_8",logoutTitle:"_al_9"};b=a;g["default"]=b}),98);
__d("WAWebLogoutLoadingScreen.react",["fbt","WAWebLogoutLoadingScreen.scss","WAWebSpinner.react","WAWebText_DONOTUSE.react","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return j.jsx("div",{className:c("WAWebLogoutLoadingScreen.scss").background,children:j.jsxs("div",{className:c("WAWebLogoutLoadingScreen.scss").mainWrapper,children:[j.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4,color:"highlight"}),j.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{className:c("WAWebLogoutLoadingScreen.scss").logoutTitle,size:"32",children:h._("__JHASH__Hbv3GKTwSY-__JHASH__")}),j.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:h._("__JHASH__U5XvKl53dy4__JHASH__")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebKeyboardRotateFocusModal.react",["WAWebKeyboardConstants","WAWebKeyboardTabUtils","react","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useRef,m={container:{position:"x10l6tqk",top:"x13vifvy",end:"xds687c",bottom:"x1ey2m1c",start:"x17qophe",$$css:!0}};b=k.forwardRef(a);function a(a,b){var e=a.children,f=a.onBlur;a=a.xstyle;var g=l(null);b=c("useMergeRefs")(b,g);var h=function(a){var b=g.current;if(!b)return;var c=a.shiftKey?d("WAWebKeyboardTabUtils").TabDirection.BACKWARD:d("WAWebKeyboardTabUtils").TabDirection.FORWARD;b=d("WAWebKeyboardTabUtils").getNextTabbableElement(b,c,d("WAWebKeyboardTabUtils").FocusType.TABBABLE);if(b==null)return;a.preventDefault();b.focus()},j=function(a){if(a.metaKey||a.ctrlKey)return;if(a.key===d("WAWebKeyboardConstants").KEYBOARD_EVENT_KEY_VALUE.TAB)return h(a)};return k.jsx("div",{ref:b,className:(i||(i=c("stylex")))(m.container,a),onKeyDown:j,tabIndex:"-1",onBlur:f,children:e})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebModalManagerImpl.react",["WAUpperFirst","WAWebFocusTracer","WAWebKeyboardRotateFocusModal.react","WAWebModalManager","WAWebPopover.react","WAWebUimContext","WAWebUimUie.react","WAWebVelocityTransitionGroup","lodash","react","react-dom","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.cloneElement,l=b.useRef,m=b.useState,n={DEFAULT:"modal",NONE:"none"},o="modal";e="media";b="alert";function a(a){var b,e,f=a.type,g=a.contextMenuRef,h=l(null),i=l(!1),p=m(void 0),q=p[0],r=p[1];p=m(null);var s=p[0],t=p[1];p=m(n.DEFAULT);var u=p[0],v=p[1];p=m(void 0);var w=p[0],x=p[1];p=m(!1);var y=p[0],z=p[1],A=function(){if(!h.current)return;var a=h.current.getElement();if(!a||a.contains(document.activeElement))return;c("WAWebFocusTracer").focus(a)},B=function(){if(!h.current)return;var a=h.current.getElement();if(!a)return;c("WAWebFocusTracer").focus(a)},C=function(a){var b;return(b=document.getElementById(d("WAWebPopover.react").ANCHOR_PORTAL_ID))==null?void 0:b.contains(a)},D=function(a){var b=a.relatedTarget,c=g==null?void 0:g.current;c=c?c.isOpen():!1;return b instanceof HTMLElement&&!a.currentTarget.contains(b)&&!C(b)&&!c&&i.current===!1};p=function(a){D(a)&&A()};var E=function(a,b){b===void 0&&(b={});var e=b.transition||n.DEFAULT;b=b;var g=b.uim,h=b.blockClose;q&&(e=n.NONE);var j=c("lodash").uniqueId("ModalManager"+f),l=a;f===o&&(l=k(a,{requestFocus:B}));i.current=!1;d("react-dom").unstable_batchedUpdates(function(){var a;r(l);t(j);v(e);x(g);z((a=h)!=null?a:!1)})},F=function(a){a(i.current===!0?!1:!!q)},G=function(a){if(!q)return;r(void 0);t(null);a&&v(a);i.current=!0},H=function(a){a===s&&(G(),d("WAWebModalManager").ModalManager.trigger("close_"+f))},I=function(a){a((a=h.current)==null?void 0:a.getElement())};(b=d("useWAWebListener")).useListener((e=d("WAWebModalManager")).ModalManager,"open_"+f,E);b.useListener(e.ModalManager,"exists_"+f,F);b.useListener(e.ModalManager,"close_"+f,G);b.useListener(e.ModalManager,"get_ref",I);var J;q&&(J=j.jsx(d("WAWebUimUie.react").UIE,{displayName:"Modal"+c("WAUpperFirst")(a.type),escapable:!y,ref:h,requestFocus:A,requestDismiss:H.bind(null,s),children:j.jsx(c("WAWebKeyboardRotateFocusModal.react"),{onBlur:p,children:q})},s));return j.jsx(c("WAWebUimContext").Consumer,{children:function(a){return j.jsx(c("WAWebUimContext").Provider,{value:w||a,children:j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:u,children:J})})}})}a.displayName=a.name+" [from "+f.id+"]";g.ModalType=o;g.MediaType=e;g.AlertType=b;g.ModalManagerComponent=a}),98);
__d("WAWebOffline.react",["fbt","WAWebModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return j.jsx(d("WAWebModal.react").Modal,{title:h._("__JHASH__OhLnEH2nl6O__JHASH__"),cover:!0,children:h._("__JHASH__wGw1nGH5taU__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProxied.react",["fbt","WAWebConfirmPopup.react","WAWebExternalLink.react","WAWebFaqUrl","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(){d("WAWebExternalLink.react").openExternalLink(d("WAWebFaqUrl").getCannotConnectFaqUrl())}function a(){return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,title:h._("__JHASH__9rkzpxJk0r2__JHASH__"),okText:h._("__JHASH__RR1bpeluTQm__JHASH__"),onOK:k,children:h._("__JHASH__jiAY6CW3tYp__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamEnumWebcPwaActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({INSTALL:1});f.WEBC_PWA_ACTION_TYPE=a}),66);
__d("WAWebWebcPwaEventWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcPwaActionType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcPwaEvent:[4116,{webcPwaAction:[2,d("WAWebWamEnumWebcPwaActionType").WEBC_PWA_ACTION_TYPE]},[1,1,1],"regular"]},{WebcPwaEvent:[]});g.WebcPwaEventWamEvent=a}),98);
__d("WAWebPwaEventListeners",["WAWebPwaDocumentMetadataUtils","WAWebWamEnumWebcPwaActionType","WAWebWamEnumWebcWebPlatformType","WAWebWamGlobals","WAWebWamPlatform","WAWebWebcPwaEventWamEvent"],(function(a,b,c,d,e,f,g){function a(){window.addEventListener("appinstalled",function(){new(d("WAWebWebcPwaEventWamEvent").WebcPwaEventWamEvent)({webcPwaAction:d("WAWebWamEnumWebcPwaActionType").WEBC_PWA_ACTION_TYPE.INSTALL}).commit()})}function b(){window.matchMedia("(display-mode: standalone)").addListener(function(){d("WAWebPwaDocumentMetadataUtils").setDocumentTitle(null),d("WAWebPwaDocumentMetadataUtils").setAppBadge(null),d("WAWebWamGlobals").Global.set({webcWebPlatform:d("WAWebWamEnumWebcWebPlatformType").WEBC_WEB_PLATFORM_TYPE[d("WAWebWamPlatform").getWamPlatform()]})})}g.registerPwaInstallListener=a;g.registerPwaDisplayModeListener=b}),98);
__d("WAWebPwaManifest",["WAWebBuildConstants","WAWebUA"],(function(a,b,c,d,e,f,g){function a(){if(d("WAWebUA").UA.os===d("WAWebUA").OS_TYPE.MAC){var a;(a=document.getElementById("whatsapp-pwa-manifest-link"))==null?void 0:a.setAttribute("href",d("WAWebBuildConstants").WEB_PUBLIC_PATH+"manifest-apple.json")}}g.updatePwaManifestOnMacOS=a}),98);
__d("WAWebSafariTakeover",["WALogger","WAWebSWBus","WAWebSWBusActions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["error: ",""]);h=function(){return a};return a}var i=!1;function a(){i=!0}function e(){return i}function f(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=navigator.serviceWorker;if(a==null?void 0:a.controller)try{a=(yield c("WAWebSWBus").request(a.controller,c("WAWebSWBusActions").ACTIVE_TAB));return a.some(function(a){return a.isActive===!0})}catch(a){d("WALogger").ERROR(h(),a).sendLogs("ACTIVE_TAB service worker call failed");return!1}return!1});return j.apply(this,arguments)}g.setTabActive=a;g.getIsTabActive=e;g.isAnotherTabActive=f}),98);
__d("WAWebSWBusInit",["Promise","WALogger","WAWebCmd","WAWebCrashlog","WAWebFeatureDetectionSwSupport","WAWebLazyLoadedMainRequires","WAWebLoggerImpl","WAWebSWBus","WAWebSWBusActions","WAWebSafariTakeover","WAWebSocketConstants","WAWebSocketModel","err"],(function(a,b,c,d,e,f,g){var h;function a(){var b=babelHelpers.taggedTemplateLiteralLoose(['Unable to add "error" event listener to service worker container, error: ',""]);a=function(){return b};return b}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ServiceWorker container error: ",""]);i=function(){return a};return a}function e(){var a=babelHelpers.taggedTemplateLiteralLoose(['Unable to add "controllerchange" event listener to service worker container, error: ',""]);e=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['Unable to add "error" event listener to service worker, error: ',""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ServiceWorker controller error: ",""]);k=function(){return a};return a}if(c("WAWebFeatureDetectionSwSupport").supported){var l=function(){try{var a=navigator.serviceWorker;(a==null?void 0:a.controller)&&a.controller.addEventListener("error",function(a){if(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNLAUNCHED)return;d("WALogger").WARN(k(),a.error)})}catch(a){d("WALogger").WARN(j(),a)}};try{f=navigator.serviceWorker;f&&f.addEventListener("controllerchange",function(a){l()})}catch(a){d("WALogger").WARN(e(),a)}try{g=navigator.serviceWorker;g&&g.addEventListener("error",function(a){if(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNLAUNCHED)return;d("WALogger").WARN(i(),a.error)})}catch(b){d("WALogger").WARN(a(),b)}l();var m=function(a,b){a.buffer.forEach(function(a){var c;c=(c=a.message[0])!=null?c:"";c="ServiceWorker ("+b+"): "+c;var e=a.level.match(/^(.*?)(?:Verbose)?$/i);e=n(e[1]);d("WAWebLoggerImpl").Logger.logImpl(e,c,a.error,a.attachedToSendLogs,a.extraTags)})};f=new(c("WAWebSWBus"))(function(a){var e,f=a.action,g=a.message;a=a.version;switch(f){case c("WAWebSWBusActions").REQUEST_STREAMING_INFO:case c("WAWebSWBusActions").EXP_BACKOFF:case c("WAWebSWBusActions").REQUEST_RMR:case c("WAWebSWBusActions").SEND_STREAMING_CHUNK:return(e=d("WAWebLazyLoadedMainRequires").requireHandleVideoStreamingRequest())==null?void 0:e.then(function(a){return a==null?void 0:a({action:f,message:g})});case c("WAWebSWBusActions").LOG:if(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNLAUNCHED)return;g&&m(g,a);return{test:!0};case c("WAWebSWBusActions").UPLOAD_LOGS:g&&m(g,a);return d("WAWebCrashlog").upload({reason:"Requested by Service Worker"}).then(function(){});case c("WAWebSWBusActions").ACTIVE_TAB:return{isActive:d("WAWebSafariTakeover").getIsTabActive()};case c("WAWebSWBusActions").HEARTBEAT:return g;default:return(h||(h=b("Promise"))).reject(c("err")("Invalid Action: "+f))}});f.init();d("WAWebCmd").Cmd.on("logout",function(){var a=navigator.serviceWorker;(a==null?void 0:a.controller)&&c("WAWebSWBus").request(a.controller,c("WAWebSWBusActions").LOGOUT)["catch"](function(){})})}function n(a){switch(a){case"info":return 1;case"log":return 2;case"warn":return 3;case"error":return 4}throw c("err")("Invalid level: "+a)}}),34);
__d("WAWebServiceUnavailable.react",["fbt","WAWebModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return j.jsx(d("WAWebModal.react").Modal,{title:h._("__JHASH__iqYqAmIomEj__JHASH__"),cover:!0,children:h._("__JHASH__exOMohO_Z4k__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSmbLearnMore.react",["fbt","WAWebClickableLink.react","WAWebExternalLink.react","WAWebL10N","WAWebURLUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k="https://www.whatsapp.com/legal/small-business-terms/";function a(){var a=c("WAWebURLUtils").build(k,{lg:c("WAWebL10N").getNormalizedLocale()}),b=function(b){b.preventDefault(),self.setTimeout(function(){return d("WAWebExternalLink.react").openExternalLink(a)},10)};return j.jsx(c("WAWebClickableLink.react"),{href:a,onClick:b,children:h._("__JHASH__RR1bpeluTQm__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLoadingScreen.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={container:"_alyo",web:"_alyp",containerFixed:"_alyq",graphic:"_alyr",logo:"_alys",dots:"_alyt",laptop:"_alyu",shimmering:"_alyv",shimmeringWWW:"_aqdy",initialLoad:"_alyw",logout:"_alyx",didYouKnow:"_alyy",organizing:"_alyz",progress:"_aly-",main:"_aly_",secondary:"_alz0",warning:"_alz1",showWarning:"_alz2",connecting:"_alz3",downloading:"_alz4"};b=a;g["default"]=b}),98);
__d("WAWebLoadingScreen.react",["fbt","$InternalEnum","WAWebButton.react","WAWebClassnames","WAWebFbtCommon","WAWebHistorySyncUIText","WAWebL10N","WAWebLoadingScreen.scss","WAWebProgressBar.react","WAWebThemeContext","cr:6007","react","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.memo,m=e.useEffect,n=b("$InternalEnum").Mirrored(["INITIAL_LOAD","CONNECTING","DOWNLOADING","ORGANIZING"]),o=b("$InternalEnum").Mirrored(["MULTI_STAGE","UNIFIED","UNIFIED_WITH_PROGRESS","LOGO"]);function a(a){var e,f;m(function(){var a=document.getElementById("initial_startup");(a==null?void 0:a.parentNode)&&a.parentNode.removeChild(a);a=document.getElementById("wa_web_initial_startup");(a==null?void 0:a.parentNode)&&a.parentNode.removeChild(a)},[]);var g=c("useWAWebForceUpdate")();d("useWAWebListener").useListener(c("WAWebL10N"),"locale_change",g);g=a.stage===n.INITIAL_LOAD;var i=a.stage===n.CONNECTING,j=a.stage===n.DOWNLOADING,l=a.stage===n.ORGANIZING,t=a.theme;t=t===void 0?o.MULTI_STAGE:t;i=t===o.LOGO?d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebLoadingScreen.scss").container,c("WAWebLoadingScreen.scss").initialLoad):d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebLoadingScreen.scss").containerFixed]=!a.debug,e[c("WAWebLoadingScreen.scss").initialLoad]=g,e[c("WAWebLoadingScreen.scss").connecting]=i,e[c("WAWebLoadingScreen.scss").downloading]=j,e[c("WAWebLoadingScreen.scss").organizing]=l,e[c("WAWebLoadingScreen.scss").web]=!0,e[c("WAWebLoadingScreen.scss").container]=!0,e));e=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebLoadingScreen.scss").showWarning]=j,e[c("WAWebLoadingScreen.scss").logout]=!0,e));j=d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebLoadingScreen.scss").showWarning]=j,f[c("WAWebLoadingScreen.scss").warning]=!0,f));var u,v;switch(t){case o.MULTI_STAGE:switch(a.stage){case n.INITIAL_LOAD:u=c("WAWebFbtCommon")("WhatsApp");break;case n.CONNECTING:u=h._("__JHASH__IRiaYmEAXw8__JHASH__");break;case n.DOWNLOADING:u=h._("__JHASH__mYOJjeEIq2e__JHASH__",[h._param("progress",a.progress)]);break;case n.ORGANIZING:u=h._("__JHASH__v76B1V7Bf3v__JHASH__");break}v=k.jsx(p,{});break;case o.UNIFIED:u=d("WAWebHistorySyncUIText").SYNC_LOADING();v=d("WAWebThemeContext").isLightTheme()?k.jsx(r,{}):k.jsx(s,{});break;case o.UNIFIED_WITH_PROGRESS:v=d("WAWebThemeContext").isLightTheme()?k.jsx(r,{}):k.jsx(s,{});switch(a.stage){case n.INITIAL_LOAD:case n.CONNECTING:u=d("WAWebHistorySyncUIText").SYNC_LOADING();break;case n.DOWNLOADING:case n.ORGANIZING:u=h._("__JHASH__H0AULKqVPmF__JHASH__",[h._param("percentage",c("WAWebL10N").n(a.progress))])}break;case o.LOGO:v=k.jsx(p,{});u=c("WAWebFbtCommon")("WhatsApp");break}return k.jsxs("div",{"data-testid":void 0,className:i,children:[k.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebLoadingScreen.scss").shimmeringWWW]=t===o.LOGO||t===o.MULTI_STAGE&&(g||l),f[c("WAWebLoadingScreen.scss").graphic]=!0,f)),children:v}),k.jsx("div",{className:t!==o.MULTI_STAGE?"x1n2onr6 x1m258z3 xuoj239 x1tfhste xk82a7y":c("WAWebLoadingScreen.scss").progress,children:k.jsx(c("WAWebProgressBar.react"),{value:a.progress,max:100})}),k.jsx("div",{className:c("WAWebLoadingScreen.scss").main,children:u}),k.jsxs("div",{className:c("WAWebLoadingScreen.scss").secondary,children:[k.jsx(q,{}),"\xa0",c("WAWebFbtCommon")("End-to-end encrypted")]}),b("cr:6007")?k.jsx("div",{className:c("WAWebLoadingScreen.scss").didYouKnow,children:k.jsx(b("cr:6007"),{})}):null,a.onLogout!=null&&k.jsx("div",{className:e,children:k.jsx(c("WAWebButton.react"),{type:"plain-white",onClick:a.onLogout,children:h._("__JHASH__3n1bF_cZdZK__JHASH__")})}),k.jsx("div",{className:j,children:h._("__JHASH__W3Kv9n3KpTs__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";var p=function(){return k.jsx("span",{children:k.jsxs("svg",{width:"250px",height:"52px",viewBox:"0 0 250 52",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[k.jsxs("g",{className:c("WAWebLoadingScreen.scss").dots,children:[k.jsx("circle",{fill:"#B6B6B6",cx:"65.7636689",cy:"21.1046108",r:"3.65625"}),k.jsx("circle",{fill:"#B6B6B6",cx:"81.0791876",cy:"19.3283142",r:"3.65625"}),k.jsx("circle",{fill:"#B6B6B6",cx:"96.3947063",cy:"17.7846275",r:"3.65625"}),k.jsx("circle",{fill:"#B6B6B6",cx:"111.710225",cy:"17.5274031",r:"3.65625"}),k.jsx("circle",{fill:"#B6B6B6",cx:"127.025744",cy:"17.6118619",r:"3.65625"}),k.jsx("circle",{fill:"#B6B6B6",cx:"142.341262",cy:"18.4196288",r:"3.65625"}),k.jsx("circle",{fill:"#B6B6B6",cx:"157.656781",cy:"19.9893339",r:"3.65625"}),k.jsx("circle",{fill:"#B6B6B6",cx:"172.9723",cy:"22.0657859",r:"3.65625"})]}),k.jsx("path",{className:c("WAWebLoadingScreen.scss").laptop,d:"M190.14097 4.7518926h48.227869l.281462-.00596781c1.058365-.00288774 2.664865.25185461 2.695721 2.87464716.142823 12.13996425 0 22.28077555 0 34.40910725 0 .06028-.024112.168784-.036168.217008l-16.394805-.0086927c-12.47317.0007215-24.136918.0136044-37.78743-.0033633l-.010915-6.2953341c-.030319-9.5718533-.105914-18.2714581.010915-28.31872515.033356-2.86867935 1.976535-2.91690333 3.013351-2.86867935zm20.097267 4.28597465l-19.256815-.00079524.002426 4.98254029c-.000422 6.5558423-.012657 12.8111695-.002954 19.3619492l.011919 4.9777941h46.536157l.008754-4.9777414c.010547-8.1882109.002637-15.913459.002637-24.3331514l-27.302124-.01059555zM179.195421 44.6572387c.397848-.036168.807752-.024112 1.2056-.024112 9.620684 0 19.241369-.012056 28.862053 0 .132616.4701838.54252 1.6393289 1.036816 1.6393289 3.255119.012056 4.510238 0 7.765357 0 .542519.036168.988591-1.1450331 1.133263-1.6513849 9.910029 0 19.820057.012056 29.730086.012056.084392.012056.265232.036168.349624.048224-.016075.2571945-.016075 1.0085894 0 2.2541846 0 1.4209691-1.193544 1.8201689-1.965128 2.1215688-.421959.1205599-.868031.1326159-1.289991.1928959h-63.560505c-.651024-.072336-1.350272-.108504-1.916904-.4701838-.566631-.2893439-1.000647-.7595278-1.350271-1.2779356v-2.8446419z",fill:"currentColor"}),k.jsx("path",{className:c("WAWebLoadingScreen.scss").logo,d:"M37.7314595,31.1612046 C37.0876293,30.8391042 33.9223475,29.2816062 33.332139,29.0666255 C32.7419305,28.8517683 32.3127104,28.7444016 31.8834903,29.3887258 C31.4542703,30.0332973 30.2204788,31.4835521 29.8447567,31.91339 C29.4692818,32.3428571 29.0936834,32.3968494 28.4499768,32.0745019 C27.8060232,31.7521544 25.7314595,31.0723707 23.272278,28.8787027 C21.3582085,27.171583 20.0661004,25.0632896 19.6905019,24.4185946 C19.315027,23.7741467 19.6505946,23.4257297 19.9729421,23.1046178 C20.2625483,22.8161235 20.6167722,22.352556 20.9386255,21.9767104 C21.2606023,21.6007413 21.3678456,21.3320154 21.5824556,20.9026718 C21.7970657,20.472834 21.6898224,20.0968649 21.528834,19.7746409 C21.3678456,19.452417 20.0801853,16.2831815 19.543722,14.993915 C19.0210965,13.7387491 18.4903166,13.9087567 18.0950733,13.8887413 C17.7199691,13.870085 17.2902548,13.8661313 16.8611583,13.8661313 C16.4319382,13.8661313 15.7343629,14.0272433 15.144278,14.6716911 C14.5540695,15.3163861 12.8908108,16.8740077 12.8908108,20.0429961 C12.8908108,23.2121081 15.1978996,26.2734826 15.5198765,26.7031969 C15.8417297,27.1330348 20.0597992,33.6360772 26.5184865,36.4250193 C28.05461,37.0883707 29.2539305,37.4846023 30.1888494,37.7811274 C31.7312742,38.2713822 33.1348263,38.2021931 34.2440772,38.0363861 C35.4810811,37.8515521 38.0533127,36.478888 38.5898996,34.9750116 C39.1263629,33.470888 39.1263629,32.1818687 38.9653745,31.91339 C38.8045097,31.6447876 38.3752896,31.4835521 37.7314595,31.1612046 M25.9838765,47.2013591 L25.9752278,47.2013591 C22.1322625,47.1998763 18.3629343,46.1674749 15.0745946,44.2160926 L14.2926332,43.7519074 L6.18674906,45.8782394 L8.35027028,37.9751042 L7.84111198,37.1648494 C5.69723552,33.7549343 4.56500386,29.8139923 4.56660833,25.767166 C4.57130502,13.9587954 14.1789652,4.35187645 25.9924016,4.35187645 C31.7128649,4.35385328 37.0902239,6.58458689 41.1338378,10.6327722 C45.1773282,14.680834 47.4028724,20.0618996 47.4007737,25.7843398 C47.3959539,37.5936988 37.7882934,47.2013591 25.9838765,47.2013591 M44.2112742,7.556695 C39.3464092,2.68614672 32.8767258,0.00271814672 25.9836293,0 C11.7809421,0 0.221652509,11.5584247 0.215969112,25.7654363 C0.21411583,30.3069652 1.40058687,34.7397683 3.65553668,38.6475984 L-4.61852778e-14,52 L13.6596757,48.4167413 C17.4233205,50.4695597 21.6607876,51.5516293 25.9733745,51.5531121 L25.9838765,51.5531121 L25.984,51.5531121 C40.1852046,51.5531121 51.7456062,39.9934517 51.7512912,25.7860695 C51.7538842,18.9011274 49.0761392,12.4271197 44.2112742,7.556695",fill:"currentColor"})]})})},q=function(){return k.jsx("span",{children:k.jsx("svg",{width:"10px",height:"12px",viewBox:"0 0 10 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M5.00847986,1.6 C6.38255462,1.6 7.50937014,2.67435859 7.5940156,4.02703389 L7.59911976,4.1906399 L7.599,5.462 L7.75719976,5.46214385 C8.34167974,5.46214385 8.81591972,5.94158383 8.81591972,6.53126381 L8.81591972,9.8834238 C8.81591972,10.4731038 8.34167974,10.9525438 7.75719976,10.9525438 L2.25767996,10.9525438 C1.67527998,10.9525438 1.2,10.4731038 1.2,9.8834238 L1.2,6.53126381 C1.2,5.94158383 1.67423998,5.46214385 2.25767996,5.46214385 L2.416,5.462 L2.41679995,4.1906399 C2.41679995,2.81636129 3.49135449,1.68973395 4.84478101,1.60510326 L5.00847986,1.6 Z M5.00847986,2.84799995 C4.31163824,2.84799995 3.73624912,3.38200845 3.6709675,4.06160439 L3.6647999,4.1906399 L3.663,5.462 L6.35,5.462 L6.35111981,4.1906399 C6.35111981,3.53817142 5.88169076,2.99180999 5.26310845,2.87228506 L5.13749818,2.85416626 L5.00847986,2.84799995 Z",fill:"currentColor"})})})},r=function(){return k.jsxs("svg",{width:"360",height:"189",viewBox:"0 0 360 189",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M263.973 169.512C296.928 158.399 321.88 127.034 318.305 81.6873C312.874 12.7907 246.61 -4.29994 205.331 15.9952C149.334 43.5266 142.242 48.0401 102.134 48.0401C72.2614 48.0401 41.8454 62.4603 38.0434 101.448C35.2875 129.708 46.373 154.375 87.3951 166.97C162.054 189.892 232.127 180.251 263.973 169.512Z",fill:"#DAF7F3"}),k.jsx("rect",{x:"0.350314",y:"0.491301",width:"36.3309",height:"71.7205",rx:"6.39808",transform:"matrix(0.986206 0.165525 -0.16491 0.986309 53.5541 83.2331)",fill:"#42CBA5",stroke:"#316474",strokeWidth:"0.853077"}),k.jsx("rect",{x:"0.353963",y:"0.496419",width:"36.322",height:"71.7116",rx:"6.39363",transform:"matrix(0.986206 0.165525 -0.16491 0.986309 53.9368 80.9482)",fill:"white",stroke:"#316474",strokeWidth:"0.861963"}),k.jsx("path",{d:"M86.853 93.0759L77.0579 151.659C76.6995 153.803 74.6715 155.249 72.5281 154.889L48.7185 150.893C46.5752 150.533 45.1282 148.504 45.4866 146.36L55.2817 87.7769C55.6401 85.6334 57.6681 84.1873 59.8115 84.5471L63.6109 85.1848L79.8216 87.9056L83.6211 88.5433C85.7644 88.903 87.2114 90.9323 86.853 93.0759Z",fill:"#EEFEFA",stroke:"#316474",strokeWidth:"0.861963"}),k.jsx("path",{d:"M58.4726 88.8221C58.3721 89.4244 58.7846 90.0018 59.3926 90.1059C60.0037 90.2105 60.5863 89.7985 60.6873 89.193C60.7878 88.5907 60.3753 88.0133 59.7674 87.9092C59.1562 87.8046 58.5736 88.2166 58.4726 88.8221Z",fill:"white",stroke:"#316474",strokeWidth:"0.853077"}),k.jsx("path",{d:"M111.421 117.587C111.208 115.535 109.372 114.046 107.321 114.262L80.1959 117.113C78.1442 117.329 76.6535 119.167 76.8665 121.219L77.9482 131.641C78.1612 133.693 79.9971 135.182 82.0488 134.966L119.624 131.017C119.884 130.99 119.976 130.658 119.767 130.501L120.285 129.811L119.767 130.501L114.076 126.232C112.861 125.321 112.081 123.944 111.924 122.433L111.421 117.587Z",fill:"#42CBA5",stroke:"#316474",strokeWidth:"1.72407"}),k.jsx("path",{d:"M81.8041 122.275C81.3306 122.324 80.9866 122.749 81.0358 123.222C81.0849 123.696 81.5086 124.039 81.9821 123.989L81.8041 122.275ZM105.64 121.503C106.113 121.453 106.457 121.029 106.408 120.555C106.359 120.082 105.935 119.738 105.462 119.788L105.64 121.503ZM81.9821 123.989L105.64 121.503L105.462 119.788L81.8041 122.275L81.9821 123.989Z",fill:"#33AF8D"}),k.jsx("path",{d:"M82.3842 127.866C81.9107 127.916 81.5667 128.34 81.6158 128.814C81.665 129.287 82.0887 129.631 82.5621 129.581L82.3842 127.866ZM106.22 127.094C106.693 127.045 107.037 126.62 106.988 126.147C106.939 125.673 106.515 125.33 106.042 125.38L106.22 127.094ZM82.5621 129.581L106.22 127.094L106.042 125.38L82.3842 127.866L82.5621 129.581Z",fill:"#33AF8D"}),k.jsx("path",{d:"M125.463 42.5443L286.19 25.6512L297.132 129.758L136.405 146.652L125.463 42.5443Z",fill:"#EEFEFA"}),k.jsx("path",{d:"M295.928 130.484L138.655 147.014C135.404 147.356 132.479 144.995 132.138 141.75L121.537 40.8838C121.196 37.6393 123.564 34.7219 126.816 34.3801L284.089 17.85C287.343 17.508 290.265 19.8695 290.606 23.114L301.207 123.981C301.548 127.225 299.182 130.142 295.928 130.484Z",fill:"white"}),k.jsx("path",{d:"M138.655 147.014C135.404 147.356 132.479 144.995 132.138 141.75L121.537 40.8838C121.196 37.6393 123.564 34.7219 126.816 34.3801L284.089 17.85C287.343 17.508 290.265 19.8695 290.606 23.114L301.207 123.981C301.548 127.225 299.182 130.142 295.928 130.484",stroke:"#316474"}),k.jsx("path",{d:"M290.245 125.898L143.148 141.359C140.368 141.651 137.899 139.694 137.619 137.032L127.978 45.2988C127.698 42.6368 129.705 40.2098 132.486 39.9174L279.583 24.457C282.366 24.1645 284.832 26.1212 285.112 28.7833L294.754 120.517C295.033 123.179 293.028 125.606 290.245 125.898Z",fill:"#EEFEFA",stroke:"#316474"}),k.jsx("path",{d:"M235.259 137.428L312.949 129.263L313.671 136.134C313.765 137.031 313.618 137.844 313.33 138.429C313.038 139.021 312.643 139.314 312.259 139.354L125.358 158.998C124.974 159.039 124.527 158.835 124.118 158.316C123.714 157.803 123.401 157.039 123.307 156.142L122.585 149.271L200.276 141.105C200.601 142.008 201.075 142.789 201.654 143.357C202.316 144.008 203.148 144.405 204.048 144.31L232.236 141.347C233.135 141.253 233.866 140.692 234.379 139.919C234.827 139.243 235.129 138.38 235.259 137.428Z",fill:"#42CBA5",stroke:"#316474"}),k.jsx("path",{d:"M235.423 136.375L314.707 128.042L315.153 132.281C315.256 133.261 314.544 134.14 313.564 134.243L122.992 154.273C122.012 154.376 121.133 153.664 121.03 152.684L120.585 148.445L199.87 140.112C200.564 141.391 201.971 142.206 203.517 142.043L232.258 139.023C233.802 138.86 235.009 137.772 235.423 136.375Z",fill:"white",stroke:"#316474"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M210.616 68.862C214.35 68.4875 218.104 69.5614 221.067 71.8379C224.102 74.1693 226.061 77.5173 226.598 81.2882C227.123 84.9707 226.202 88.7389 224.024 91.7717C221.635 95.0981 218.05 97.241 213.993 97.7845C213.854 97.8031 213.715 97.8198 213.575 97.8344C211.383 98.0649 209.159 97.8031 207.092 97.0715L199.621 99.5614C199.614 99.5636 199.607 99.565 199.6 99.5658C199.533 99.5727 199.473 99.5204 199.475 99.4512L199.962 91.6506C198.649 89.7697 197.797 87.5847 197.49 85.3032C196.972 81.4482 198 77.6213 200.383 74.5271C202.855 71.319 206.478 69.2968 210.544 68.8696L210.616 68.862ZM210.799 71.3833C210.682 71.3955 210.566 71.4094 210.449 71.4252C203.812 72.314 199.133 78.3879 200.017 84.9648C200.287 86.9731 201.068 88.8902 202.274 90.5089L202.536 90.8598L202.125 96.1616L207.191 94.4008L207.604 94.5618C209.408 95.2644 211.374 95.5254 213.311 95.3218C213.426 95.3097 213.541 95.2959 213.656 95.2805C220.292 94.3917 224.972 88.3179 224.088 81.7409C223.219 75.28 217.299 70.7001 210.799 71.3833ZM206.255 76.8888L206.27 76.8876C206.515 76.8694 206.761 76.8505 206.976 76.8437C207.239 76.8348 207.529 76.8254 207.85 77.4125C208.23 78.1097 209.078 79.8609 209.184 80.0365C209.289 80.2121 209.366 80.4206 209.262 80.6734C209.157 80.9259 209.107 81.0825 208.939 81.3091C208.771 81.5359 208.588 81.8135 208.435 81.9892C208.263 82.1849 208.087 82.3967 208.328 82.7458C208.57 83.095 209.396 84.2344 210.561 85.1202C212.058 86.2585 213.195 86.5666 213.65 86.7216C213.814 86.7776 213.948 86.7983 214.062 86.7864C214.218 86.7699 214.336 86.6921 214.443 86.5598C214.647 86.3064 215.25 85.4395 215.501 85.0434C215.633 84.8363 215.762 84.7541 215.911 84.7384C216.03 84.7259 216.162 84.756 216.316 84.7989C216.662 84.8955 218.535 85.6437 218.916 85.7988C219.298 85.9538 219.55 86.0269 219.653 86.172C219.756 86.3178 219.81 87.0481 219.567 87.9227C219.323 88.7976 217.882 89.7311 217.212 89.8421C217.016 89.8745 216.825 89.9223 216.572 89.9489C215.961 90.0131 214.992 89.9537 212.731 89.2576C208.884 88.0733 206.243 84.4473 206.041 84.2178C205.839 83.9878 204.393 82.3511 204.26 80.5558C204.128 78.7607 205.013 77.8072 205.323 77.4171C205.62 77.0429 205.993 76.9162 206.239 76.8903C206.25 76.8892 206.26 76.8883 206.27 76.8876C206.263 76.8881 206.258 76.8885 206.255 76.8888Z",fill:"#316474",fillOpacity:"0.24"}),k.jsx("path",{d:"M118.422 64.6861C118.641 62.6346 120.481 61.1464 122.533 61.3621L153.583 64.6256C155.635 64.8413 157.122 66.6791 156.903 68.7306L155.569 81.2676C155.351 83.3191 153.51 84.8073 151.459 84.5917L109.005 80.1296C108.745 80.1023 108.654 79.7705 108.864 79.6139L108.348 78.9241L108.864 79.6139L115.614 74.564C116.831 73.6532 117.614 72.2767 117.775 70.7657L118.422 64.6861Z",fill:"#42CBA5",stroke:"#316474",strokeWidth:"1.72407"}),k.jsx("path",{d:"M151.271 70.4778C151.745 70.5276 152.088 70.9517 152.037 71.4251C151.987 71.8986 151.562 72.242 151.089 72.1922L151.271 70.4778ZM124.871 69.4366C124.397 69.3868 124.054 68.9627 124.104 68.4893C124.155 68.0158 124.579 67.6724 125.053 67.7222L124.871 69.4366ZM151.089 72.1922L124.871 69.4366L125.053 67.7222L151.271 70.4778L151.089 72.1922Z",fill:"#33AF8D"}),k.jsx("path",{d:"M150.613 76.6728C151.086 76.7225 151.429 77.1467 151.379 77.6201C151.328 78.0935 150.904 78.4369 150.43 78.3872L150.613 76.6728ZM124.212 75.6315C123.738 75.5817 123.395 75.1576 123.446 74.6842C123.496 74.2108 123.921 73.8673 124.394 73.9171L124.212 75.6315ZM150.43 78.3872L124.212 75.6315L124.394 73.9171L150.613 76.6728L150.43 78.3872Z",fill:"#33AF8D"})]})},s=function(){return k.jsxs("svg",{width:"360",height:"189",viewBox:"0 0 360 189",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M263.973 169.512C296.928 158.399 321.88 127.034 318.305 81.6873C312.874 12.7907 246.61 -4.29994 205.331 15.9952C149.334 43.5266 142.242 48.0401 102.134 48.0401C72.2614 48.0401 41.8454 62.4603 38.0434 101.448C35.2875 129.708 46.373 154.375 87.3951 166.97C162.054 189.892 232.127 180.251 263.973 169.512Z",fill:"white",fillOpacity:"0.1"}),k.jsx("rect",{x:"0.350314",y:"0.491301",width:"36.3309",height:"71.7205",rx:"6.39808",transform:"matrix(0.986206 0.165525 -0.16491 0.986309 53.5536 83.2332)",fill:"#42CBA5",stroke:"#316474",strokeWidth:"0.853077"}),k.jsx("rect",{x:"0.353963",y:"0.496419",width:"36.322",height:"71.7116",rx:"6.39363",transform:"matrix(0.986206 0.165525 -0.16491 0.986309 53.9364 80.9482)",fill:"white",stroke:"#316474",strokeWidth:"0.861963"}),k.jsx("path",{d:"M86.8525 93.0759L77.0574 151.659C76.699 153.803 74.671 155.249 72.5277 154.889L48.718 150.893C46.5747 150.533 45.1277 148.504 45.4861 146.36L55.2812 87.777C55.6396 85.6334 57.6676 84.1873 59.811 84.5471L63.6105 85.1848L79.8212 87.9056L83.6206 88.5433C85.764 88.903 87.2109 90.9323 86.8525 93.0759Z",fill:"#EEFEFA",stroke:"#316474",strokeWidth:"0.861963"}),k.jsx("path",{d:"M58.4721 88.822C58.3716 89.4244 58.7841 90.0017 59.3921 90.1058C60.0032 90.2105 60.5858 89.7985 60.6868 89.193C60.7873 88.5906 60.3749 88.0133 59.7669 87.9092C59.1557 87.8046 58.5731 88.2166 58.4721 88.822Z",fill:"white",stroke:"#316474",strokeWidth:"0.853077"}),k.jsx("path",{d:"M111.421 117.587C111.208 115.535 109.372 114.046 107.321 114.262L80.1959 117.113C78.1442 117.329 76.6535 119.167 76.8665 121.219L77.9482 131.641C78.1612 133.693 79.9971 135.182 82.0488 134.966L119.624 131.017C119.884 130.99 119.976 130.658 119.767 130.501L120.285 129.811L119.767 130.501L114.076 126.232C112.861 125.321 112.081 123.944 111.924 122.433L111.421 117.587Z",fill:"#42CBA5",stroke:"#316474",strokeWidth:"1.72407"}),k.jsx("path",{d:"M81.8036 122.275C81.3301 122.324 80.9861 122.749 81.0353 123.222C81.0844 123.696 81.5081 124.039 81.9816 123.99L81.8036 122.275ZM105.639 121.503C106.113 121.453 106.457 121.029 106.407 120.555C106.358 120.082 105.935 119.738 105.461 119.788L105.639 121.503ZM81.9816 123.99L105.639 121.503L105.461 119.788L81.8036 122.275L81.9816 123.99Z",fill:"#33AF8D"}),k.jsx("path",{d:"M82.3837 127.866C81.9102 127.916 81.5662 128.34 81.6153 128.814C81.6645 129.287 82.0882 129.631 82.5616 129.581L82.3837 127.866ZM106.219 127.094C106.693 127.045 107.037 126.62 106.988 126.147C106.938 125.673 106.515 125.33 106.041 125.38L106.219 127.094ZM82.5616 129.581L106.219 127.094L106.041 125.38L82.3837 127.866L82.5616 129.581Z",fill:"#33AF8D"}),k.jsx("path",{d:"M125.463 42.5442L286.19 25.6511L297.132 129.758L136.405 146.651L125.463 42.5442Z",fill:"#EEFEFA"}),k.jsx("path",{d:"M295.927 130.484L138.654 147.015C135.404 147.356 132.479 144.995 132.138 141.751L121.536 40.8839C121.195 37.6393 123.564 34.7219 126.816 34.3801L284.089 17.85C287.343 17.508 290.264 19.8695 290.605 23.114L301.207 123.981C301.548 127.225 299.181 130.142 295.927 130.484Z",fill:"white"}),k.jsx("path",{d:"M138.654 147.015C135.404 147.356 132.479 144.995 132.138 141.751L121.536 40.8839C121.195 37.6393 123.564 34.7219 126.816 34.3801L284.089 17.85C287.343 17.508 290.264 19.8695 290.605 23.114L301.207 123.981C301.548 127.225 299.181 130.142 295.927 130.484",stroke:"#316474"}),k.jsx("path",{d:"M290.245 125.898L143.148 141.359C140.368 141.651 137.899 139.694 137.619 137.032L127.978 45.2989C127.698 42.6369 129.705 40.2098 132.486 39.9175L279.583 24.457C282.366 24.1645 284.832 26.1213 285.112 28.7834L294.754 120.517C295.033 123.179 293.028 125.606 290.245 125.898Z",fill:"#EEFEFA",stroke:"#316474"}),k.jsx("path",{d:"M235.259 137.428L312.949 129.263L313.671 136.134C313.765 137.031 313.618 137.844 313.33 138.429C313.038 139.021 312.643 139.314 312.259 139.354L125.358 158.998C124.974 159.039 124.527 158.835 124.118 158.316C123.714 157.803 123.401 157.039 123.307 156.142L122.585 149.271L200.276 141.105C200.601 142.008 201.075 142.789 201.654 143.357C202.316 144.008 203.148 144.405 204.048 144.31L232.236 141.347C233.135 141.253 233.866 140.692 234.379 139.919C234.827 139.243 235.129 138.38 235.259 137.428Z",fill:"#42CBA5",stroke:"#316474"}),k.jsx("path",{d:"M235.423 136.375L314.707 128.042L315.153 132.281C315.256 133.261 314.544 134.14 313.564 134.243L122.992 154.273C122.012 154.376 121.133 153.664 121.03 152.684L120.585 148.445L199.87 140.112C200.564 141.391 201.971 142.206 203.517 142.043L232.258 139.023C233.802 138.86 235.009 137.772 235.423 136.375Z",fill:"white",stroke:"#316474"}),k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M210.617 68.8619C214.35 68.4875 218.105 69.5614 221.068 71.8378C224.102 74.1693 226.062 77.5173 226.599 81.2882C227.123 84.9707 226.203 88.7389 224.024 91.7717C221.635 95.0981 218.051 97.241 213.993 97.7845C213.854 97.8031 213.715 97.8197 213.576 97.8344C211.383 98.0649 209.159 97.8031 207.093 97.0715L199.622 99.5614C199.614 99.5636 199.607 99.565 199.6 99.5658C199.534 99.5727 199.474 99.5204 199.476 99.4512L199.962 91.6506C198.65 89.7697 197.798 87.5847 197.491 85.3032C196.973 81.4482 198 77.6213 200.384 74.5271C202.856 71.319 206.479 69.2968 210.544 68.8696L210.617 68.8619ZM210.799 71.3833C210.683 71.3955 210.566 71.4094 210.449 71.4252C203.813 72.314 199.133 78.3879 200.018 84.9648C200.288 86.9731 201.068 88.8902 202.274 90.5089L202.536 90.8598L202.126 96.1615L207.191 94.4007L207.604 94.5618C209.408 95.2644 211.374 95.5254 213.311 95.3218C213.426 95.3097 213.542 95.2959 213.656 95.2805C220.293 94.3917 224.972 88.3179 224.088 81.7409C223.219 75.28 217.299 70.7001 210.799 71.3833ZM206.255 76.8888L206.271 76.8876C206.516 76.8694 206.761 76.8505 206.976 76.8437C207.239 76.8348 207.53 76.8254 207.85 77.4125C208.231 78.1097 209.079 79.8609 209.184 80.0365C209.29 80.2121 209.367 80.4206 209.262 80.6734C209.157 80.9259 209.107 81.0825 208.94 81.3091C208.771 81.5359 208.588 81.8135 208.435 81.9892C208.264 82.1849 208.087 82.3967 208.329 82.7458C208.57 83.095 209.396 84.2344 210.561 85.1202C212.059 86.2585 213.196 86.5666 213.651 86.7216C213.815 86.7776 213.949 86.7983 214.062 86.7863C214.218 86.7699 214.336 86.6921 214.443 86.5598C214.647 86.3064 215.251 85.4395 215.502 85.0434C215.633 84.8363 215.763 84.7541 215.912 84.7384C216.031 84.7259 216.162 84.756 216.316 84.7989C216.662 84.8955 218.536 85.6437 218.917 85.7988C219.298 85.9538 219.55 86.0269 219.654 86.172C219.757 86.3178 219.81 87.0481 219.567 87.9227C219.323 88.7976 217.882 89.7311 217.213 89.8421C217.016 89.8745 216.825 89.9223 216.572 89.9489C215.962 90.0131 214.992 89.9537 212.731 89.2576C208.885 88.0733 206.243 84.4473 206.042 84.2178C205.84 83.9878 204.394 82.3511 204.261 80.5558C204.128 78.7607 205.013 77.8072 205.324 77.4171C205.621 77.0429 205.993 76.9162 206.24 76.8903C206.25 76.8892 206.261 76.8883 206.271 76.8876C206.264 76.8881 206.259 76.8885 206.255 76.8888Z",fill:"#316474",fillOpacity:"0.24"}),k.jsx("path",{d:"M118.423 64.686C118.641 62.6345 120.481 61.1463 122.533 61.3619L153.584 64.6255C155.636 64.8412 157.122 66.679 156.904 68.7305L155.569 81.2675C155.351 83.319 153.511 84.8072 151.459 84.5915L109.006 80.1295C108.746 80.1022 108.655 79.7704 108.864 79.6138L108.348 78.924L108.864 79.6138L115.614 74.5639C116.832 73.653 117.615 72.2766 117.776 70.7656L118.423 64.686Z",fill:"#42CBA5",stroke:"#316474",strokeWidth:"1.72407"}),k.jsx("path",{d:"M151.271 70.4778C151.744 70.5275 152.087 70.9517 152.037 71.4251C151.987 71.8985 151.562 72.2419 151.088 72.1922L151.271 70.4778ZM124.87 69.4365C124.397 69.3867 124.054 68.9626 124.104 68.4892C124.154 68.0158 124.579 67.6723 125.052 67.7221L124.87 69.4365ZM151.088 72.1922L124.87 69.4365L125.052 67.7221L151.271 70.4778L151.088 72.1922Z",fill:"#33AF8D"}),k.jsx("path",{d:"M150.613 76.6727C151.086 76.7225 151.429 77.1466 151.379 77.62C151.328 78.0934 150.904 78.4369 150.43 78.3871L150.613 76.6727ZM124.212 75.6314C123.738 75.5817 123.395 75.1575 123.446 74.6841C123.496 74.2107 123.921 73.8673 124.394 73.917L124.212 75.6314ZM150.43 78.3871L124.212 75.6314L124.394 73.917L150.613 76.6727L150.43 78.3871Z",fill:"#33AF8D"})]})};e=l(a);g.Stage=n;g.LoadingScreenTheme=o;g.LoadingScreen=e}),226);
__d("WAWebDebouncedLoadingScreen.react",["$InternalEnum","WALogger","WAPromiseDelays","WAWebCmd","WAWebLoadingScreen.react","WAWebOfflineHandler","WAWebSocketModel","WAWebUserPrefsHistorySync","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["DebouncedLoadingScreen: "," - ends minimum display time"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["DebouncedLoadingScreen: "," - starts minimum display time"]);k=function(){return a};return a}e=i||d("react");var l=h||(h=c("react")),m=e.useCallback,n=e.useEffect,o=e.useRef,p=e.useState,q=500,r=1500,s=450,t=800,u=450,v=b("$InternalEnum").Mirrored(["INITIAL_LOAD","CONNECTING","FAKE_FILL","DOWNLOADING","ORGANIZING"]),w=b("$InternalEnum").Mirrored(["NOT_STARTED","STARTED","PAST_MIN_TIME"]);function a(a){var e=a.initialLoadReady,f=a.onLogout,g=a.onReady,h=c("useWAWebUnmountSignal")(),i=o(!1);a=p(e?d("WAWebLoadingScreen.react").Stage.CONNECTING:d("WAWebLoadingScreen.react").Stage.INITIAL_LOAD);var x=a[0],y=a[1];a=p(d("WAWebUserPrefsHistorySync").getInitialHistorySyncCompleteLocalStorage());a=a[0];var z=p({INITIAL_LOAD:e?w.PAST_MIN_TIME:w.NOT_STARTED,CONNECTING:w.NOT_STARTED,FAKE_FILL:w.NOT_STARTED,DOWNLOADING:w.NOT_STARTED,ORGANIZING:w.NOT_STARTED}),A=z[0],B=z[1];z=p(0);var C=z[0],D=z[1];z=p(null);var E=z[0],F=z[1];z=function(){var a=d("WAWebOfflineHandler").OfflineMessageHandler.getHasMessagesToDownload();E==null&&a!=null&&F(a);a===!0&&(A.CONNECTING===w.PAST_MIN_TIME&&D(d("WAWebOfflineHandler").OfflineMessageHandler.getOfflineDeliveryProgress()))};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"offline_progress_update",z);var G=m(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){B(function(b){return babelHelpers["extends"]({},b,(b={},b[a]=w.STARTED,b))});d("WALogger").LOG(k(),a);yield d("WAPromiseDelays").delayMs(b);if(h.aborted)return;B(function(b){return babelHelpers["extends"]({},b,(b={},b[a]=w.PAST_MIN_TIME,b))});d("WALogger").LOG(j(),a)});return function(b,c){return a.apply(this,arguments)}}(),[h]),H=A.CONNECTING,I=A.DOWNLOADING,J=A.ORGANIZING,K=A.FAKE_FILL,L=A.INITIAL_LOAD;n(function(){if(J===w.PAST_MIN_TIME)i.current||(g(),i.current=!0);else if(I===w.PAST_MIN_TIME&&C>=100&&J===w.NOT_STARTED)d("WAPromiseDelays").delayMs(u).then(function(){if(h.aborted)return;y(d("WAWebLoadingScreen.react").Stage.ORGANIZING);G(v.ORGANIZING,t)});else if(H===w.PAST_MIN_TIME&&E!=null&&I===w.NOT_STARTED&&K===w.NOT_STARTED){var a=d("WAWebOfflineHandler").OfflineMessageHandler.getFinishedDownloading();E&&!a?(y(d("WAWebLoadingScreen.react").Stage.DOWNLOADING),D(d("WAWebOfflineHandler").OfflineMessageHandler.getOfflineDeliveryProgress()),G(v.DOWNLOADING,s)):(D(100),G(v.FAKE_FILL,u).then(function(){if(h.aborted)return;d("WAWebSocketModel").Socket.hasSynced?i.current||(g(),i.current=!0):(y(d("WAWebLoadingScreen.react").Stage.ORGANIZING),G(v.ORGANIZING,t))}))}else e&&L===w.PAST_MIN_TIME&&H===w.NOT_STARTED?(y(d("WAWebLoadingScreen.react").Stage.CONNECTING),G(v.CONNECTING,r)):L===w.NOT_STARTED&&G(v.INITIAL_LOAD,q)},[C,g,E,G,h,e,H,I,J,K,L]);z=d("WAWebLoadingScreen.react").LoadingScreenTheme.MULTI_STAGE;e&&(!a?z=d("WAWebLoadingScreen.react").LoadingScreenTheme.UNIFIED:E===!0?z=d("WAWebLoadingScreen.react").LoadingScreenTheme.UNIFIED_WITH_PROGRESS:z=d("WAWebLoadingScreen.react").LoadingScreenTheme.LOGO);return l.jsx(d("WAWebLoadingScreen.react").LoadingScreen,{stage:x,progress:C,onLogout:f,theme:z})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStartupMd.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={startup:"_ao3d",textTip:"_al-c",divider:"_al-b"};b=a;g["default"]=b}),98);
__d("WAWebStartupMd.react",["fbt","WALogger","WAWebConfirmPopup.react","WAWebDebouncedLoadingScreen.react","WAWebSocketModel","WAWebStartupMd.scss","WAWebStreamModel","react","useWAWebForceUpdate","useWAWebInterval","useWAWebListener","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Startup: user selected logout"]);k=function(){return a};return a}var l=j||c("react"),m=(i||(i=d("react"))).useEffect;function a(a){var b=a.initialLoadReady;a=a.onReady;var e=c("useWAWebForceUpdate")(),f,g;d("useWAWebListener").useListener(d("WAWebStreamModel").Stream,"change:displayInfo",e);e=c("useWAWebInterval")(e,1e3);e=e[0];e=d("useWAWebTimeout").useTimeout(e,6e3);var i=e[0];e=d("WAWebStreamModel").Stream.displayInfo;m(function(){i();var a=document.getElementById("initial_startup");(a==null?void 0:a.parentNode)&&a.parentNode.removeChild(a);a=document.getElementById("wa_web_initial_startup");(a==null?void 0:a.parentNode)&&a.parentNode.removeChild(a)},[]);var j=function(){d("WALogger").LOG(k()),d("WAWebSocketModel").Socket.logout()};switch(e){case d("WAWebStreamModel").StreamInfo.OPENING:case d("WAWebStreamModel").StreamInfo.PAIRING:case d("WAWebStreamModel").StreamInfo.TIMEOUT:f=h._("__JHASH__weKSIEgSRNQ__JHASH__");g=h._("__JHASH__wGw1nGH5taU__JHASH__");break;case d("WAWebStreamModel").StreamInfo.SYNCING:case d("WAWebStreamModel").StreamInfo.CONNECTING:return l.jsx(c("WAWebDebouncedLoadingScreen.react"),{initialLoadReady:b,onReady:a,onLogout:j});default:return d("WAWebStreamModel").Stream.mode===d("WAWebStreamModel").StreamMode.MAIN?l.jsx(c("WAWebDebouncedLoadingScreen.react"),{initialLoadReady:b,onReady:a,onLogout:j}):null}return l.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,title:f,cancelText:h._("__JHASH__3n1bF_cZdZK__JHASH__"),onCancel:j,children:[l.jsx("hr",{className:c("WAWebStartupMd.scss").divider}),l.jsx("div",{className:c("WAWebStartupMd.scss").textTip,children:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCreateBugnubTaskUrl",["WAWebBuildConstants","WAWebConnModel","WAWebMobilePlatforms","WAWebUA","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=d("WAWebUserPrefsMeUser").getMaybeMeUser())==null?void 0:b.user;var c=null;switch(d("WAWebConnModel").Conn.platform){case d("WAWebMobilePlatforms").PLATFORMS.ANDROID:c="Android";break;case d("WAWebMobilePlatforms").PLATFORMS.IPHONE:c="iPhone";break;case d("WAWebMobilePlatforms").PLATFORMS.SMBA:c="SMB - Android";break;case d("WAWebMobilePlatforms").PLATFORMS.SMBI:c="SMB - iPhone";break;default:c="Choose an option"}var e="";switch(d("WAWebUA").UA.browser){case d("WAWebUA").BROWSER_TYPE.CHROME:e="Chrome";break;case d("WAWebUA").BROWSER_TYPE.SAFARI:e="Safari";break;case d("WAWebUA").BROWSER_TYPE.FIREFOX:e="Firefox";break;case d("WAWebUA").BROWSER_TYPE.EDGE:e="Microsoft Edge";break;case d("WAWebUA").BROWSER_TYPE.OPERA:e="Opera"}var f="Web (Browser)";c=["Description:\n","Link to crash logs","https://www.internalfb.com/intern/bunny/?q=waflb+"+b,"time of log: "+new Date().toString()+"\n","Primary Platform: "+c];e!==""&&c.push("Browser: "+e);a!=null&&c.push("Error string:",""+a);e=(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb());f={first_question:"Messaging",platform:f,version:""+d("WAWebBuildConstants").VERSION_STR+(e?" (joined beta)":""),bug:c.join("\n"),logs:"I understand and give consent",number:(a=b)!=null?a:""};e=encodeURIComponent(JSON.stringify(f));return"https://www.internalfb.com/butterfly/form/777724432837431?default_responses="+e});return h.apply(this,arguments)}g.createBugnubTaskUrl=a}),98);
__d("WAWebOpenBugReportForm",["WAWebCrashlog","WAWebCreateBugnubTaskUrl","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebCrashlog").upload({reason:"Manual task creation",immediate:!0,isHighPri:!0}),window.open(yield d("WAWebCreateBugnubTaskUrl").createBugnubTaskUrl(a))});return h.apply(this,arguments)}g.openBugReportForm=a}),98);
__d("WAWebToastManagerImpl",["WAHash","WAWebCmd","WAWebCopyToClipboard","WAWebL10N","WAWebOpenBugReportForm","WAWebSetRefCache","WAWebToast.react","WAWebToastManager","WAWebUA","WAWebVelocityTransitionGroup","asyncToGeneratorRuntime","lodash","react","stylex","useWAWebLazyRef","useWAWebListener","useWAWebOnUnmount","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.cloneElement,m=e.useEffect,n=e.useRef,o=e.useState,p={slide0:{transform:"xnn1q72",$$css:!0},slide1:{transform:"xvav9fi",$$css:!0},slide2:{transform:"x8r675y",$$css:!0},slide3:{opacity:"xg01cxk",transform:"x1o6clbr",$$css:!0},wrapper:{opacity:"x1hc1fzr",bottom:"x1ey2m1c",lineHeight:"xzl6hoh",marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",minHeight:"xjwf9q1",position:"x10l6tqk",zIndex:"x1omtkq1",transition:"x1alf9jy",$$css:!0},center:{start:"xtzzx4i",left:null,right:null,marginStart:"x1mh8g0r",marginLeft:null,marginRight:null,marginEnd:"x11i5rnm",maxWidth:"x65f84u",$$css:!0},transformLeft:{transform:"xuuh30",$$css:!0},transformRight:{transform:"xitnhlw",$$css:!0},right:{end:"xds687c",left:null,right:null,$$css:!0}},q=3,r=5*1e3;function a(){var a=c("useWAWebLazyRef")(function(){return new Map()}),e=function(b,c){c?a.current.set(b,c):a.current["delete"](b)},f=c("useWAWebLazyRef")(function(){return new(c("WAWebSetRefCache"))(e)}),g=n(null),h=o({}),j=h[0],s=h[1],t=c("useWAWebPrevious")(j),w=function(b,c){var d,e=(d=b.props.id)!=null?d:v();d=a.current.get(e);d?d.restartDelay==null?void 0:d.restartDelay():s(function(a){return babelHelpers["extends"]({},a,(a={},a[e]={toast:b,position:c,id:e},a))})};h=function(a){j[a]&&s(function(b){return c("lodash").omit(b,a)})};d("useWAWebListener").useListener(d("WAWebToastManager").ToastManager,"open_toast",w);d("useWAWebListener").useListener(d("WAWebToastManager").ToastManager,"close_toast",h);h=null;var x=c("useWAWebLazyRef")(function(){return new Map()});c("useWAWebOnUnmount")(function(){x.current.forEach(function(a){return self.clearTimeout(a)})});d("useWAWebListener").useListener(h,"window_error",function(a){var e=c("WAHash")(a);if(x.current.has(e))return;var f=self.setTimeout(function(){x.current["delete"](e)},r);x.current.set(e,f);w(k.jsx(d("WAWebToast.react").Toast,{msg:u(a),action:[{actionText:"Copy",onAction:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(a)}},{actionText:"Report",onAction:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebOpenBugReportForm").openBugReportForm(a)});function e(){return c.apply(this,arguments)}return e}()}]}))});m(function(){var a;g.current=Object.keys((a=t)!=null?a:{}).length>Object.keys(j).length},[j,t]);var y=g.current;h=c("lodash").sortBy(j,["toast","id"]).reverse().map(function(a,b){var e=a.toast,g=a.position;a=a.id;return k.jsx("div",{className:(i||(i=c("stylex")))(p.wrapper,g===d("WAWebToastManager").ToastPosition.CENTER&&p.center,g===d("WAWebToastManager").ToastPosition.RIGHT&&p.right,b===0&&y&&p.slide0,b===1&&p.slide1,b===2&&p.slide2,b>=q&&p.slide3),children:k.jsx("div",{className:i(g===d("WAWebToastManager").ToastPosition.CENTER&&(c("WAWebL10N").isRTL()?p.transformRight:p.transformLeft)),children:l(e,{ref:f.current.getRefSetter(a),id:a})})},a)});var z=d("WAWebUA").UA.isTrident?"fade_sifo":"toast-transition";return k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:z,children:h})}a.displayName=a.name+" [from "+f.id+"]";var s="\ud83d\uded1",t=200;function u(a){a=a.length>t?a.slice(0,t)+"...":a;return s+" "+a}function v(a){return c("lodash").uniqueId(a||"toast")}g.ToastManagerComponent=a}),98);
__d("WAWebTos.react",["fbt","WAWebConfirmPopup.react","WAWebLogoutReasonConstants","WAWebSocketModel","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.UserInitiated)};function a(a){var b=a.children;a=a.description;return j.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{cover:!0,cancelText:h._("__JHASH__3n1bF_cZdZK__JHASH__"),onCancel:k,okText:h._("__JHASH___sw1w0g68lI__JHASH__"),children:[a,"\xa0",b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebApp.react",["fbt","invariant","$InternalEnum","Promise","WAComms","WALogger","WAMemoizeOne","WANullthrows","WAPromiseTimeout","WAShiftTimer","WAWeb-moment","WAWebAlarm","WAWebApi","WAWebApiParse","WAWebApp.scss","WAWebAppMutex","WAWebAssetLoader","WAWebAssetLoaderSingleton","WAWebBizGatingUtils","WAWebBrokerGlobalAppState","WAWebChatPreferenceCollection","WAWebClassnames","WAWebClientExpiredDialog.react","WAWebClock","WAWebCmd","WAWebConfirmPopup.react","WAWebConflict.react","WAWebConnModel","WAWebContextMenuManager.react","WAWebCrashlog","WAWebDeepLinkClickWamEvent","WAWebDeprecated.react","WAWebEmojiAssetLoaderCompletionTracker","WAWebErrorBoundary.react","WAWebEventsWaitForEvent","WAWebExternalLink.react","WAWebFaqUrl","WAWebFavicon.react","WAWebFbtCommon","WAWebKeyboardContext","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebLaunchSocket","WAWebLazyLoadedMainRequires","WAWebLinkDevice.react","WAWebListenerHoc_DEPRECATED","WAWebLockScreen.react","WAWebLoggerImpl","WAWebLogoutLoadingScreen.react","WAWebLogoutReasonConstants","WAWebMiscGatingUtils","WAWebModalManager","WAWebModalManagerImpl.react","WAWebMsgCollection","WAWebOffline.react","WAWebPageLoadLogging","WAWebPopover.react","WAWebProxied.react","WAWebPwaEventListeners","WAWebPwaManifest","WAWebSWBusInit","WAWebSafariTakeover","WAWebServerPropsModel","WAWebServiceUnavailable.react","WAWebSmbLearnMore.react","WAWebSocketModel","WAWebStartupMd.react","WAWebStorageCmd","WAWebStreamModel","WAWebStylesEnv","WAWebSystemTheme","WAWebThemeContext","WAWebToastManagerImpl","WAWebTos.react","WAWebUA","WAWebURLUtils","WAWebUim","WAWebUimUie.react","WAWebUpdater","WAWebUpdaterUpdatePoll","WAWebUserPrefsGeneral","WAWebUserPrefsInfoStore","WAWebUserPrefsKeys","WAWebUserPrefsLocales","WAWebUserPrefsMeUser","WAWebUserPrefsScreenLock","WAWebUserPrefsStore","WAWebWAWCStorage","WAWebWDSGatingUtils","WAWebWallpaper","WAWebWamOfflineResumeReporter","WAWebWamPageLoadReporter","asyncToGeneratorRuntime","cr:6013","err","gkx","once","react"],(function(a,b,c,d,e,f,g,h,i){var j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Banned accounts: user selected logout"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local Clock: ",", Skew: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["App:registerYesterdayTimer:rerenderUI relative timestamps"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["db: closed due to take over"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to open indexeddb: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Modified a created iframe element to include sandbox attributes for security fix."]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["App: prerendering: page is active"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["App: prerendering: error while listening for prerenderingchange"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["App: prerendering: waiting for page to activate"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["App:componentDidMount:visibilityState: ",""]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["App:componentDidMount:rerenderUI locale change"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[md takeover] tab taken over. stopping comms"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["[unsupported takeover] refreshing page with unsupported takeover"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["DebouncedLoadingScreen: Ready for main screen"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["[md takeover] refreshing page on takeover"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIM Print Failed!"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["Focus at time of upload:"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["main:execApiCmd:",""]);D=function(){return a};return a}var E=l||d("react"),F=k||(k=c("react")),G=E.Component,H=E.createRef,I=(E=b("cr:6013"))==null?void 0:E.Bugnub;c("gkx")("26262")&&b("WAWebSWBusInit");var J=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.MutexBlockStrategy)===1,K=b("$InternalEnum").Mirrored(["CLIENT_EXPIRED_DIALOG","ANOTHER_SESSION","UNSUPPORTED_TAKEOVER","QR","SYNCING","OFFLINE","PROXYBLOCK","CONFLICT","TOS_BLOCK","SMB_TOS_BLOCK","DEPRECATED_VERSION","MAIN","STARTUP","TEMP_BAN","LOGOUT","SCREEN_LOCK","SERVICE_UNAVAILABLE"]),L,M=!1,N=!1;function O(a){a==="initialPanelMountTRecorded"&&(M=!0),a==="initialPanelRenderTRecorded"&&(N=!0),M&&N&&d("WAWebWamPageLoadReporter").onInitialRenderComplete()}var P=c("once")(function(){d("WAWebWamPageLoadReporter").saveInitialPanelMountTime(Date.now()),O("initialPanelMountTRecorded")});function a(){return L!=null&&L.hasPending()}function e(){d("WAComms").closeSocketAndPreventRetry()}function Q(){d("WAComms").socketLoopIteration()}function R(a){var b=a.cmdAndData,c=a.isExternal;a=a.sessionId;var e=b.resultType,f=b.data;d("WALogger").LOG(D(),e).devConsole(f);L!=null||i(0,56382);if(e==="ADVERTISE"||e==="MANAGE_ADS")return!1;e;return L.execApiCmd({cmdData:b,isExternal:c,sessionId:a})}function S(a){a=a;while(a){var b;b=a instanceof HTMLElement&&((b=a.dataset)==null?void 0:b.nohandle);if(b)return!1;a=a.parentElement}return!0}function T(){d("WAWebCmd").Cmd.logSocketSummary();d("WALogger").LOG(C());try{d("WAWebUim").UIM.pprint(!0)}catch(a){d("WALogger").WARN(B()).devConsole(a)}return{platform:d("WAWebConnModel").Conn.platform,ref:d("WAWebConnModel").Conn.ref}}E=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.contextMenuRef=H(),e.animate=!0,e.state={mode:d("WAWebStreamModel").Stream.mode,updating:d("WAWebStreamModel").Stream.clientExpired,hardExpired:d("WAWebStreamModel").Stream.hardExpired,anotherSession:!1,takingOver:!1,isUnsupportedTakeover:!1,apiCmd:void 0,locale:c("WAWebL10N").getLocale(),mainLoaded:!1,theme:d("WAWebThemeContext").getTheme(),systemThemeMode:d("WAWebUserPrefsGeneral").getSystemThemeMode(),isKeyboardUser:!1,initialLoadReady:!1,startLogout:!1,stayInSync:!d("WAWebSocketModel").Socket.hasSynced,screenLocked:!1,screenLockFeatureSupported:!1},e.$8=function(a){e.state.isKeyboardUser!==a&&e.setState({isKeyboardUser:a})},e.$11={up:function(){return e.$8(!0)},down:function(){return e.$8(!0)},left:function(){return e.$8(!0)},right:function(){return e.$8(!0)},home:function(){return e.$8(!0)},end:function(){return e.$8(!0)},"command+up":function(){return e.$8(!0)},"command+down":function(){return e.$8(!0)},pageUp:function(){return e.$8(!0)},pageDown:function(){return e.$8(!0)},tab:function(){return e.$8(!0)},"shift+tab":function(){return e.$8(!0)},"shift+?":function(){return e.$8(!0)}},e.$12=new(d("WAShiftTimer").ShiftTimer)(function(a){a!==e.state.mode&&e.setState({mode:a})}),e.$3=function(){var a=d("WAWebStreamModel").Stream.mode;if(e.state.mode===d("WAWebStreamModel").StreamMode.MAIN){e.$12.forceRunNow(a);return}e.$12.onOrBefore(0,a)},e.$1=function(){e.state.updating!==d("WAWebStreamModel").Stream.clientExpired&&e.setState({updating:d("WAWebStreamModel").Stream.clientExpired})},e.$2=function(){e.setState({hardExpired:d("WAWebStreamModel").Stream.hardExpired})},e.$15=function(a){a.detail!==0&&e.$8(!1),d("WAWebCmd").Cmd.windowMouseDown(a)},e.$16=function(a){d("WAWebCmd").Cmd.windowClick(a)},e.$7=function(a){var b=a.target;if(!b)return;if(b.nodeName!=="A")return;var c=b.getAttribute("href");if(!c)return;if(!S(b))return;b=d("WAWebApiParse").parseAPICmd(c);if(b.resultType==="INVALID"||b.resultType==="ADVERTISE"||b.resultType==="MANAGE_ADS")return;b.resultType;c=e.$14();e.$13()&&R({cmdAndData:b,isExternal:!0,sessionId:c})&&(e.$17(b,c),a.preventDefault())},e.$17=function(a,b){if(a.resultType===d("WAWebApi").APICmd.GROUP_INVITE)new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!1,deepLinkHasText:!0}).commit();else if(a.resultType===d("WAWebApi").APICmd.MSG_SEND){var c=a.data.phone,e=a.data.text;new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!!c,deepLinkHasText:!!e,deepLinkSessionId:b}).commit()}else a.resultType===d("WAWebApi").APICmd.CATALOG?new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!0,deepLinkHasText:!1}).commit():a.resultType===d("WAWebApi").APICmd.PRODUCT&&new(d("WAWebDeepLinkClickWamEvent").DeepLinkClickWamEvent)({deepLinkHasPhoneNumber:!0,deepLinkHasText:!1}).commit()},e.$10=function(a){if(e.state.theme===a)return;for(var b of d("WAWebThemeContext").THEME_ASSETS[a])d("WAWebAssetLoaderSingleton").AssetLoader.loadAsset(b,d("WAWebAssetLoader").LOAD_PRIORITY.THEME_ASSET_LOAD,!1);if(d("WAWebServerPropsModel").ServerProps.wallpapersV2){b=c("WAWebChatPreferenceCollection").get("defaultPreference");if(b&&d("WAWebWallpaper").DEFAULT_CHAT_WALLPAPER!==b.wallpaperColor){var f=d("WAWebWallpaper").toggleWallpaperColor(b.wallpaperColor,e.state.theme);b.set("wallpaperColor",f)}}d("WAWebThemeContext").setTheme(a);e.setState({theme:a})},e.$19=function(a){d("WAWebUserPrefsGeneral").setSystemThemeMode(a),e.setState({systemThemeMode:a})},e.$20=function(){d("WALogger").LOG(A()),window.location.reload()},e.$21=function(){d("WALogger").LOG(z()),e.setState({stayInSync:!1})},e.$22=function(){d("WALogger").LOG(y()),window.location.reload()},e.$24=c("WAMemoizeOne")(function(a){var b=a.theme;a=a.systemThemeMode;return{theme:b,setTheme:e.$10,systemThemeMode:a,setSystemThemeMode:e.$19}}),b)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.componentDidMount=function(){var a=this;d("WAWebCrashlog").registerCrashlogUploadInformationalLoggingFunction(T);c("gkx")("26264")&&(d("WAWebPwaEventListeners").registerPwaDisplayModeListener(),d("WAWebPwaEventListeners").registerPwaInstallListener(),d("WAWebPwaManifest").updatePwaManifestOnMacOS());c("gkx")("26258")||d("WAWebLoggerImpl").Logger.registerErrorNotificationListener(function(a){d("WAWebCmd").Cmd.windowError(a)});c("WAWebAppMutex").setShouldLaunchSocket(!J);J&&void d("WAWebLaunchSocket").launchSocket(c("WAWebAppMutex").waitForCompletion());var e=this.state.theme;d("WAWebThemeContext").applyThemeToUI(e);$().then(function(a){d("WAWebAssetLoaderSingleton").AssetLoader.setPlatform(a),d("WAWebAssetLoaderSingleton").AssetLoader.loadInitialAssets(d("WAWebThemeContext").THEME_ASSETS[e])});W().then(function(){d("WAWebCmd").Cmd.mainLoaded(),a.setState({mainLoaded:!0})}).then(function(){return(j||(j=b("Promise"))).all([d("WAWebLazyLoadedMainRequires").requireEmojiAssetMapCreator(),d("WAWebLazyLoadedMainRequires").requireEmojiConfig(),$()])}).then(function(a){var b=a[0],c=a[1];a=a[2];d("WAWebAssetLoaderSingleton").AssetLoader.setPlatform(a);d("WAWebAssetLoaderSingleton").AssetLoader.initEmojiAsset(b(c));d("WAWebEmojiAssetLoaderCompletionTracker").emojiCompletionTracker.beginPreloadFallback()});var f=this.props.listeners;f.add(d("WAWebCmd").Cmd,"initial_load_ready",function(){a.setState({initialLoadReady:!0})});f.add(d("WAWebStorageCmd").StorageCmd,"storage_not_enough_space",function(){d("WAWebModalManager").ModalManager.open(F.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.StorageQuotaExceeded)},okText:c("WAWebFbtCommon")("OK"),children:h._("__JHASH__RUpeYjV5Hel__JHASH__")}))});f.add(d("WAWebCmd").Cmd,"account_temporarily_banned",function(b){a.setState({temporaryBan:b})});f.add(d("WAWebCmd").Cmd,"service_unavailable_503",function(){a.setState({serviceUnavailable:!0})});f.add(d("WAWebCmd").Cmd,"starting_logout",function(){a.setState({startLogout:!0})});d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineStartT();f.add(window,"beforeunload",function(){(d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab==null?void 0:d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab())||c("WAWebAppMutex").unloadMutex()});f.add(window,"unload",function(){(d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab==null?void 0:d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab())||c("WAWebAppMutex").unloadMutex()});f.add(window,"storage",function(b){b=c("WAWebAppMutex").storagePong(b);b&&(d("WALogger").LOG(x()),d("WAComms").closeSocketAndPreventRetry(),d("WAWebLoggerImpl").Logger.onTakeOver(),a.setState({takingOver:!1,anotherSession:!0}))});f.add(d("WAWebStreamModel").Stream,"change:clientExpired",this.$1);f.add(d("WAWebStreamModel").Stream,"change:hardExpired",this.$2);f.add(d("WAWebStreamModel").Stream,"change:mode",this.$3);f.add(d("WAWebCmd").Cmd,"open_lock_screen_modal",function(){a.setState({screenLocked:!0})});f.add(d("WAWebCmd").Cmd,"correct_passcode_lock_screen",function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("WAWebMsgCollection").MsgCollection.decryptAndSetModels(b),a.setState({screenLocked:!1,stayInSync:!1})});return function(a){return c.apply(this,arguments)}}());f.add(d("WAWebCmd").Cmd,"ab_props_loaded",function(){a.setState({screenLockFeatureSupported:d("WAWebMiscGatingUtils").screenLockFeatureSupported()})});this.state.screenLockFeatureSupported&&d("WAWebUserPrefsScreenLock").getScreenLockEnabled()&&d("WAWebUserPrefsInfoStore").waNoiseInfo.cachedPasscodeDerivedKey==null&&this.setState({screenLocked:!0});if(c("WAWebURLUtils").canMuckHistory()){var g=d("WAWebApiParse").parseAPICmd(window.location.href);if(g.resultType!==d("WAWebApi").APICmd.INVALID&&g.resultType!=="ADVERTISE"&&g.resultType!=="MANAGE_ADS"&&g.resultType!=="MESSAGE_YOURSELF"&&g.resultType!=="EDIT_PROFILE_PICTURE"){var i=g.data.url;delete g.data.url;this.$4(g);window.history.replaceState({},"",i)}}f.add(c("WAWebL10N"),"locale_change",function(b){b=b.loc;d("WALogger").LOG(w());d("WAWebUserPrefsLocales").setLangPref(b);d("WAWebClock").Clock.initIs24HourBasedOnLocale();a.animate=!1;a.setState({locale:c("WAWebL10N").getLocale()+"#"+c("WAWeb-moment").locale()})});this.$5();d("WALogger").LOG(v(),document.visibilityState);document.prerendering===!0?(d("WALogger").LOG(u()),c("WAWebEventsWaitForEvent")(document,"prerenderingchange")["catch"](function(){d("WALogger").LOG(t())})["finally"](function(){d("WALogger").LOG(s()),void a.$6(0)})):document.visibilityState!=="visible"?d("WAPromiseTimeout").promiseTimeout(c("WAWebEventsWaitForEvent")(document,"visibilitychange"),5e3).then(function(){return a.$6(0)})["catch"](function(){return a.$6(0)}):this.$6(0);this.props.listeners.add(window,"click",this.$7,{capture:!0});this.props.listeners.add(window,"blur",function(){a.$8(!1)});d("WAWebUpdaterUpdatePoll").updatePoll.poll(d("WAWebUpdaterUpdatePoll").checkForUpdates);this.$9();document.createElement=function(a){return function(b,c){c===void 0&&(c={});if(b.toLowerCase()==="iframe"){d("WALogger").WARN(r());var e=a(b,c);e.sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox";return e}return a(b,c)}}(document.createElement.bind(document));this.props.listeners.add(c("WAWebSystemTheme"),"system_theme_change",function(b){a.state.systemThemeMode&&a.$10(b)})};f.componentDidUpdate=function(a,b){b.anotherSession===!0&&this.state.anotherSession===!1?c("WAWebWAWCStorage").openDB()["catch"](function(a){d("WALogger").WARN(q(),a)}):b.anotherSession===!1&&this.state.anotherSession===!0&&c("WAWebWAWCStorage").idb().then(function(a){c("WAWebBrokerGlobalAppState").takeOver=!0,a.close(),d("WALogger").LOG(p())})["catch"](function(){}),this.$4(this.state.apiCmd),this.state.mode!==d("WAWebStreamModel").StreamMode.MAIN&&(this.animate=!0),this.$9()};f.componentWillUnmount=function(){this.$12.cancel()};f.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=this;b===void 0&&(b=!1);if(d("WAWebUA").UA.isLocalStorageBroken){var f=(yield d("WAWebSafariTakeover").isAnotherTabActive());if(f){d("WAWebLoggerImpl").Logger.onTakeOver();this.setState({isUnsupportedTakeover:!0});try{d("WAComms").stopComms()}catch(a){}return}}d("WAWebSafariTakeover").setTabActive();b&&d("WAWebUpdater").Updater.shouldForceUpdateOnTakeOver()&&d("WAWebUpdater").Updater.restart();f=b?c("WAWebAppMutex").takeoverLocal(a):c("WAWebAppMutex").init(a);b=(yield f["catch"](function(a){e.setState({takingOver:!0});return e.$6(a,!0)}));d("WAWebLoggerImpl").Logger.isTakeOver=b;this.setState({takingOver:!1,anotherSession:b})});function e(b,c){return a.apply(this,arguments)}return e}();f.$4=function(a){if(!a)return;if(a.resultType==="ADVERTISE"||a.resultType==="MANAGE_ADS")return;a.resultType;if(this.$13()){var b=this.$14();R({cmdAndData:a,isExternal:!0,sessionId:b});this.state.apiCmd!=null&&this.setState({apiCmd:null});return}a!==this.state.apiCmd&&this.setState({apiCmd:a})};f.$13=function(){return L!=null&&Z(this.state)===K.MAIN};f.$9=function(){this.state.mode!==d("WAWebStreamModel").StreamMode.SYNCING&&P()};f.$5=function(){var a=this;c("WAWebAlarm").setLocalTimeout(function(){d("WALogger").LOG(o()),d("WALogger").LOG(n(),Date.now(),d("WAWebClock").Clock.getSkew()),d("WAWebCmd").Cmd.midnight(),a.$5()},c("WAWeb-moment")().endOf("day").valueOf())};f.$18=function(a){var b=d("WAWebUserPrefsMeUser").getMaybeMeUser().user;switch(a){case 101:return h._("__JHASH__91QlvH6APxR__JHASH__",[h._param("phone",b)]);case 102:return h._("__JHASH__tNPU5EfuExD__JHASH__");case 103:return h._("__JHASH__4L6P-fwJYcF__JHASH__",[h._param("phone",b)]);case 104:return h._("__JHASH__-o2jIJ6VTm6__JHASH__");case 106:return h._("__JHASH__ZcYd7lTRWIR__JHASH__");default:return h._("__JHASH__q_tlnqAVgeu__JHASH__")}};f.$23=function(){var a=this,b=Z(this.state);switch(b){case K.CLIENT_EXPIRED_DIALOG:return{ui:F.jsx(d("WAWebFavicon.react").DefaultFavicon,{children:F.jsx(c("WAWebClientExpiredDialog.react"),{})}),requiresBackendCheck:!1};case K.ANOTHER_SESSION:var e;this.state.takingOver?(b=function(){},e=h._("__JHASH__IRiaYmEAXw8__JHASH__")):(b=function(){a.$20()},e=h._("__JHASH__1R6w_U9TBBp__JHASH__"));return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebConflict.react"),{cancelText:c("WAWebFbtCommon")("Close"),onCancel:window.open.bind(window,"https://www.whatsapp.com/","_self"),okText:e,onOK:b,children:h._("__JHASH__ycGhtbp8Bgc__JHASH__")})}),requiresBackendCheck:!1};case K.UNSUPPORTED_TAKEOVER:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebConflict.react"),{okText:h._("__JHASH__zbNMtbyTq97__JHASH__"),onOK:this.$22,children:h._("__JHASH__wwtwk3nCUOr__JHASH__")})}),requiresBackendCheck:!1};case K.SERVICE_UNAVAILABLE:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebServiceUnavailable.react"),{})}),requiresBackendCheck:!1};case K.TEMP_BAN:e=this.state.temporaryBan||{};b=e.code;var f=e.expire,g=e.message;e=e.url;g=(g=g)!=null?g:this.$18(b);b=c("WAWeb-moment").duration(f,"seconds").humanize();return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsxs(c("WAWebConflict.react"),{cancelText:h._("__JHASH__3n1bF_cZdZK__JHASH__"),onCancel:function(){d("WALogger").LOG(m()),d("WAWebSocketModel").Socket.logout()},okText:h._("__JHASH__ofSKbj4p0iW__JHASH__"),onOK:window.open.bind(window,(f=e)!=null?f:d("WAWebFaqUrl").getFaqUrl()),children:[F.jsx("div",{children:g}),F.jsx("div",{children:h._("__JHASH__MMb6-pq3iee__JHASH__",[h._param("duration",b)])})]})}),requiresBackendCheck:!0};case K.QR:return{ui:F.jsxs(d("WAWebFavicon.react").DefaultFavicon,{children:[F.jsx(d("WAWebModalManagerImpl.react").ModalManagerComponent,{type:d("WAWebModalManagerImpl.react").ModalType},"modal-manager"),F.jsx(d("WAWebLinkDevice.react").LinkDeviceScreen,{apiCmd:this.state.apiCmd},"qr-code")]}),extraClasses:c("WAWebApp.scss").isQR,requiresBackendCheck:!0};case K.STARTUP:case K.SYNCING:e=F.jsx(c("WAWebStartupMd.react"),{initialLoadReady:this.state.initialLoadReady,onReady:this.$21});c("gkx")("26258")||(e=[F.jsx(d("WAWebModalManagerImpl.react").ModalManagerComponent,{type:d("WAWebModalManagerImpl.react").ModalType},"modal-manager"),F.jsx(c("WAWebStartupMd.react"),{initialLoadReady:this.state.initialLoadReady,onReady:this.$21},"start-up")]);return{ui:F.jsx(d("WAWebFavicon.react").DefaultFavicon,{children:e}),requiresBackendCheck:!0};case K.OFFLINE:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebOffline.react"),{})}),requiresBackendCheck:!0};case K.PROXYBLOCK:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebProxied.react"),{})}),requiresBackendCheck:!0};case K.CONFLICT:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebConflict.react"),{cancelText:h._("__JHASH__3n1bF_cZdZK__JHASH__"),onCancel:function(){return d("WAWebSocketModel").Socket.logout()},okText:h._("__JHASH__1R6w_U9TBBp__JHASH__"),onOK:function(){return d("WAWebSocketModel").Socket.takeover()},children:h._("__JHASH__imlCCn7AkN2__JHASH__")})}),requiresBackendCheck:!0};case K.TOS_BLOCK:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebTos.react"),{description:h._("__JHASH__ZKk5BXEY1xF__JHASH__")})}),requiresBackendCheck:!0};case K.SMB_TOS_BLOCK:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebTos.react"),{description:h._("__JHASH__ENyJ8_tocpV__JHASH__"),children:F.jsx(c("WAWebSmbLearnMore.react"),{})})}),requiresBackendCheck:!0};case K.DEPRECATED_VERSION:return{ui:F.jsx(d("WAWebFavicon.react").ErrorFavicon,{children:F.jsx(c("WAWebDeprecated.react"),{})}),requiresBackendCheck:!0};case K.LOGOUT:return{ui:F.jsxs(d("WAWebFavicon.react").DefaultFavicon,{children:[F.jsx(d("WAWebModalManagerImpl.react").ModalManagerComponent,{type:d("WAWebModalManagerImpl.react").ModalType},"modal-manager"),F.jsx(c("WAWebLogoutLoadingScreen.react"),{},"logout")]}),requiresBackendCheck:!0};case K.SCREEN_LOCK:return{ui:F.jsx(c("WAWebLockScreen.react"),{}),requiresBackendCheck:!0};case K.MAIN:f=c("WANullthrows")(L);g=f.MainComponent;return{ui:[F.jsx(d("WAWebToastManagerImpl").ToastManagerComponent,{},"toast-manager"),F.jsx((b=d("WAWebModalManagerImpl.react")).ModalManagerComponent,{contextMenuRef:this.contextMenuRef,type:b.ModalType},"main-modal-manager"),F.jsx(b.ModalManagerComponent,{type:b.MediaType},"media-modal-manager"),F.jsx(b.ModalManagerComponent,{type:b.AlertType},"alert-modal-manager"),F.jsx((e=d("WAWebContextMenuManager.react")).ContextMenuManager,{ref:this.contextMenuRef,type:e.Type.MENU},"context-menu-manager"),F.jsx(e.ContextMenuManager,{type:e.Type.TOOLTIP},"tooltip-manager"),F.jsx(d("WAWebEmojiAssetLoaderCompletionTracker").InitialEmojisCompletionContext.Provider,{value:d("WAWebEmojiAssetLoaderCompletionTracker").emojiCompletionTracker,children:F.jsx(g,{conn:d("WAWebConnModel").Conn,animate:this.animate})},"main")],extraClasses:c("WAWebApp.scss").isMain,requiresBackendCheck:!0}}};f.$14=function(){var a=d("WAWebBizGatingUtils").smbClickToChatLoggingEnabled()?Math.floor(2147483648*Math.random()).toString():void 0;return a};f.render=function(){aa(this.state);var a=this.state.isKeyboardUser,b=this.$23(),e=b.ui,f=b.extraClasses;b=b.requiresBackendCheck;var g=d("WAWebWDSGatingUtils").materialRefreshEnabled();g=d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebApp.scss").wrapper,f,(f={"app-wrapper-web":!0,"safari-fix":(f=d("WAWebStylesEnv")).hasSafariFix,"font-fix":f.hasFontFix,"os-ltr":f.isOSLTR,"os-rtl":f.isOSRTL,"os-mac":f.isOSMac,"os-win":f.isOSWin,"keyboard-user":a},f[c("WAWebApp.scss").stripe]=!g,f));b&&L!=null&&L.notificationBackend.shutdownAsNeeded();var h;c("gkx")("26265")&&(h=F.jsx("div",{className:c("WAWebApp.scss").draggableHeader}));var i;c("gkx")("26258")||(i=I?F.jsx(I,{}):null);f=Z(this.state);b=f===K.STARTUP||f===K.SYNCING;f=b?"loading-screen":this.state.locale;return F.jsx(d("WAWebThemeContext").ThemeContext.Provider,{value:this.$24({theme:this.state.theme,systemThemeMode:this.state.systemThemeMode}),children:F.jsx(c("WAWebKeyboardContext").Provider,{value:{isKeyboardUser:a,setIsKeyboardUser:this.$8},children:F.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"app-wrapper",children:F.jsx(d("WAWebUimUie.react").UIE,{displayName:"App",uimState:d("WAWebUim").UIMState.INACTIVE,children:F.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:this.$11,className:g,tabIndex:null,onMouseDownCapture:this.$15,onClickCapture:this.$16,children:[F.jsx(d("WAWebPopover.react").PopoverPortalBucket,{}),i,h,e]},f)})})})})};return e}(G);var U=d("WAWebListenerHoc_DEPRECATED").ListenerHOC(E);function V(){return F.jsx(U,{})}V.displayName=V.name+" [from "+f.id+"]";function W(){return X.apply(this,arguments)}function X(){X=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=b("Promise"))).all([d("WAWebLazyLoadedMainRequires").requireMain(),$()])),c=a[0];a=a[1];d("WAWebWamPageLoadReporter").mainScriptTimer.start();L=c(a);d("WAWebWamPageLoadReporter").mainScriptTimer.end()});return X.apply(this,arguments)}function Y(a){return a!==K.SYNCING}function Z(a){var b,e=a.anotherSession,f=a.isUnsupportedTakeover,g=a.updating,h=a.hardExpired,i=a.mainLoaded,j=a.mode,k=a.screenLocked;if((b=a.temporaryBan)==null?void 0:b.banned)return K.TEMP_BAN;if(a.serviceUnavailable===!0)return K.SERVICE_UNAVAILABLE;if(a.startLogout)return K.LOGOUT;if(g||h)return K.CLIENT_EXPIRED_DIALOG;if(f)return K.UNSUPPORTED_TAKEOVER;if(e)return K.ANOTHER_SESSION;if(k)return K.SCREEN_LOCK;switch(j){case d("WAWebStreamModel").StreamMode.QR:return K.QR;case d("WAWebStreamModel").StreamMode.SYNCING:return K.SYNCING;case d("WAWebStreamModel").StreamMode.OFFLINE:return K.OFFLINE;case d("WAWebStreamModel").StreamMode.PROXYBLOCK:return K.PROXYBLOCK;case d("WAWebStreamModel").StreamMode.CONFLICT:return K.CONFLICT;case d("WAWebStreamModel").StreamMode.TOS_BLOCK:return K.TOS_BLOCK;case d("WAWebStreamModel").StreamMode.SMB_TOS_BLOCK:return K.SMB_TOS_BLOCK;case d("WAWebStreamModel").StreamMode.DEPRECATED_VERSION:return K.DEPRECATED_VERSION;case d("WAWebStreamModel").StreamMode.MAIN:if(!i)return K.STARTUP;return a.stayInSync?K.SYNCING:K.MAIN}throw c("err")("app:render Error invalid StreamMode: "+j)}function aa(a){if(d("WAWebWamPageLoadReporter").initialScreenTimer.hasStarted())return;a=Z(a);if(!Y(a))return;d("WAWebWamPageLoadReporter").setInitialScreen(a);d("WAWebWamPageLoadReporter").initialScreenTimer.start();d("WAWebPageLoadLogging").addPageLoadQplPoint("webc_initial_panel_mount_start_t");window.requestAnimationFrame(function(){d("WAWebWamPageLoadReporter").initialScreenTimer.end(),d("WAWebPageLoadLogging").addPageLoadQplPoint("webc_initial_panel_render_t"),O("initialPanelRenderTRecorded")})}function $(){return d("WAWebConnModel").Conn.platform?(j||(j=b("Promise"))).resolve(d("WAWebConnModel").Conn.platform):new(j||(j=b("Promise")))(function(a){var b=function b(){var c=d("WAWebConnModel").Conn.platform;if(c==null)return;d("WAWebConnModel").Conn.off("change:platform",b);a(c)};d("WAWebConnModel").Conn.on("change:platform",b)})}g.hasPending=a;g.closeSocketBeforeUnload=e;g.forceReconnectSocketLoopIfUnloadFails=Q;g.AppWrapper=U;g.App=V}),226);
__d("WAWebAppSwInitializer",["Promise","WALogger","WAWebABProps","WAWebFeatureDetectionSwSupport","WAWebPwaDocumentMetadataUtils","WAWebSwUpdater","WAWebUA","asyncToGeneratorRuntime","gkx","justknobx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["service-worker-unregistration-failure: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["service-worker-unregistration-failure: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unregister invalid service worker: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["service-worker-registration-failure: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["service-worker-unregistration-failure: ",""]);m=function(){return a};return a}function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;if(!c("gkx")("26262")||s())return q();if(!c("WAWebFeatureDetectionSwSupport").supported||window.navigator.serviceWorker==null)return;((a=window.navigator.serviceWorker)==null?void 0:a.controller)&&(yield d("WAWebSwUpdater").updateSw());if(!c("gkx")("26258")&&((a=window.navigator.serviceWorker)==null?void 0:a.controller)){a=(yield window.navigator.serviceWorker.getRegistrations==null?void 0:window.navigator.serviceWorker.getRegistrations());if(a){var e=[];for(a of a)a.scope!==window.location.origin+window.location.pathname&&e.push(a.unregister()["catch"](function(a){d("WALogger").ERROR(m(),a.stack).devConsole(a).sendLogs("service-worker-unregistration-failure")}));yield (h||(h=b("Promise"))).all(e)}}c("justknobx")._("2157")&&(yield o());if(!((a=window.navigator.serviceWorker)==null?void 0:a.controller))try{e="/sw.js";yield window.navigator.serviceWorker.register(e,{scope:"/"})}catch(a){d("WALogger").ERROR(l(),a.stack).devConsole(a).sendLogs("service-worker-registration-failure",{sampling:.001})}});return n.apply(this,arguments)}function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(yield (a=window.navigator.serviceWorker)==null?void 0:a.getRegistrations==null?void 0:a.getRegistrations());if(a){var c=[];for(a of a){var e;if((e=a.active)==null?void 0:(e=e.scriptURL)==null?void 0:e.endsWith("/serviceworker.js")){d("WALogger").LOG(k(),(e=a.active)==null?void 0:e.scriptURL);c.push(a.unregister()["catch"](function(a){d("WALogger").ERROR(j(),a.stack).devConsole(a).sendLogs("service-worker-unregistration-failure")}))}}yield (h||(h=b("Promise"))).all(c)}});return p.apply(this,arguments)}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(yield (a=window.navigator.serviceWorker)==null?void 0:a.getRegistrations==null?void 0:a.getRegistrations());if(a){var c=[];for(a of a)c.push(a.unregister()["catch"](function(a){d("WALogger").ERROR(i(),a.stack).devConsole(a).sendLogs("service-worker-unregistration-failure")}));yield (h||(h=b("Promise"))).all(c)}});return r.apply(this,arguments)}function s(){return d("WAWebABProps").getABPropConfigValue("web_disable_sw_on_safari_pwa")&&d("WAWebUA").UA.isSafari&&d("WAWebPwaDocumentMetadataUtils").isCurrentWebSessionInsidePwa()}g.initializeSw=a;g.shouldDisableSwForSafariPwa=s}),98);
__d("WAWebBrokerBackendInterface",["WAWebBrokerGlobalAppState","WAWebCrashlog","WAWebInvocationDispatcher"],(function(a,b,c,d,e,f,g){a={setLogoutState:function(a){c("WAWebBrokerGlobalAppState").isLogoutInProgress=a;return c("WAWebInvocationDispatcher").invoke("setLogoutState",[a])},sendLogs:function(a,b){return d("WAWebCrashlog").sendLogs(a,{sampling:b==null?void 0:b.sampling})},deleteDbEncKeyCache:function(){return c("WAWebInvocationDispatcher").invoke("deleteDbEncKeyCache",[])},initDatabaseEncnKey:function(a){return c("WAWebInvocationDispatcher").invoke("initDatabaseEncnKey",[a])},generateFinalDbEncryptionAndFtsKey:function(a){return c("WAWebInvocationDispatcher").invoke("generateFinalDbEncryptionAndFtsKey",[a])},setSchemaVersions:function(a){return c("WAWebInvocationDispatcher").invoke("setSchemaVersions",[a])}};b=a;g["default"]=b}),98);
__d("WAWebArchiveSettingSync",["Promise","WALogger","WASyncAction.pb","WASyncdAction","WASyncdConst","WAWebAndroidUnsupportedActionsSync","WAWebApiActiveMessageRanges","WAWebChatCollection","WAWebMessageRangeUtils","WAWebModelStorageUtils","WAWebSchemaActiveMessageRanges","WAWebSchemaChat","WAWebSettingsGetters","WAWebSettingsModel","WAWebSyncdDb","WAWebUserPrefsMultiDevice","WAWebWidFactory","asyncToGeneratorRuntime","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Update some chats as side effects for setting 'off'"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Updating chats side effects for setting 'off'"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Update some chats as side effects for setting 'on'"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Update chats side effects for setting 'on': Iteration took ","ms"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Unsupported rangeEnclosedType ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["unarchive "," as ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Archive_Setting_Sync: Updating chats side effects for setting 'on'"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["archive setting sync: no mutations"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["archive setting sync: operation not supported"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set unarchiveChatsSetting to ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set ArchiveV2Enabled to true"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["archive setting sync: malformed mutation"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["binarySyncAction should not be null"]);u=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return 4};f.getAction=function(){return d("WASyncdConst").Actions.UnarchiveChatsSetting};f.decodeValue=function(a){if(a.binarySyncData){var b=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,a.binarySyncData);if(b.value)return b.value}else{if(!a.binarySyncAction){d("WALogger").ERROR(u()).tags("syncd").sendLogs("syncd binarySyncAction should not be null");throw c("err")("binarySyncAction should not be null")}return d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionValueSpec,a.binarySyncAction)}};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;c("WAWebAndroidUnsupportedActionsSync").updatePrimaryAllowsAllMutationsFlag("other mutation");var g=e.setMutationsPendingToPersist;if(a.length>0){e=a[a.length-1];try{a=[];if(e.operation==="set"){e=e.value;e=e.unarchiveChatsSetting;if((e==null?void 0:e.unarchiveChats)==null){d("WALogger").WARN(t());return[{actionState:d("WASyncdConst").SyncActionState.Malformed}]}var h=e.unarchiveChats;e=(yield d("WAWebUserPrefsMultiDevice").getArchiveV2EnabledSetting());e||(yield d("WAWebUserPrefsMultiDevice").setArchiveV2EnabledSetting(!0),c("WAWebSettingsModel").archive=babelHelpers["extends"]({},d("WAWebSettingsGetters").getArchive(c("WAWebSettingsModel")),{enabled:!0}),d("WALogger").DEV(s()));yield d("WAWebUserPrefsMultiDevice").setUnarchiveChatsSetting(h);c("WAWebSettingsModel").archive=babelHelpers["extends"]({},d("WAWebSettingsGetters").getArchive(c("WAWebSettingsModel")),{classic:h});d("WALogger").DEV(r(),h);yield d("WAWebModelStorageUtils").getStorage().lock(["message","chat","sync-actions","active-message-ranges"],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a=(yield f.updateSideEffectOnChats(h,g)),yield d("WAWebSchemaChat").getChatTable().bulkCreateOrMerge(a)}));a.forEach(function(a){var b=d("WAWebWidFactory").createWid(a.id);b=d("WAWebChatCollection").ChatCollection.get(b);b&&(b.archive=a.archive)});return[{actionState:d("WASyncdConst").SyncActionState.Success}]}d("WALogger").WARN(q());return[{actionState:d("WASyncdConst").SyncActionState.Unsupported}]}catch(a){return[{actionState:d("WASyncdConst").SyncActionState.Failed}]}}d("WALogger").WARN(p());return[{actionState:d("WASyncdConst").SyncActionState.Failed}]});function e(b,c){return a.apply(this,arguments)}return e}();f.$ArchiveSettingSync1=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=this,e=[];d("WALogger").DEV(o());var f=self.performance.now(),g=(yield d("WAWebSchemaChat").getChatTable().all());g=g.filter(function(a){return a.archive}).map(function(a){return a.id});var i=(yield (h||(h=b("Promise"))).all(g.map(function(a){return d("WAWebApiActiveMessageRanges").getActiveMessageRanges(a)}))),j=i.flat().filter(function(a){return a.action===d("WAWebSchemaActiveMessageRanges").ActiveRangeAction.Archive}).map(function(a){return a.chatId});i=g.filter(function(a){return!j.includes(a)});g=(yield h.all(i.map(function(c){c=d("WAWebWidFactory").createWid(c);var e=JSON.stringify([d("WASyncdConst").Actions.Archive,c.toString({legacy:!0})]);c=a.find(function(a){return a.index===e});return c?(h||(h=b("Promise"))).resolve(c):d("WAWebSyncdDb").getSyncAction(e)})));i=g.filter(function(a){if(!a)return!1;var b=c.decodeValue(a).archiveChatAction;return[d("WASyncdConst").SyncActionState.Success,d("WASyncdConst").SyncActionState.Orphan].includes(a.actionState)&&(b==null?void 0:b.archived)&&b.messageRange}).map(function(a){var b=a&&c.decodeValue(a).archiveChatAction;a=a?JSON.parse(a.index)[1]:"";return[a,b==null?void 0:b.messageRange]});var p=new Map(i);g=Array.from(p.keys());var q=(yield h.all(g.map(function(a){return d("WAWebMessageRangeUtils").constructMessageRange(d("WAWebWidFactory").createWid(a),!1)})));g.forEach(function(a,b){b=q[b];var c=p.get(a);if(c){b=d("WAWebMessageRangeUtils").compareMessageRanges(b,c);if(b===d("WAWebMessageRangeUtils").MessageRangeEncloseType.RangeAEnclosesRangeB||b===d("WAWebMessageRangeUtils").MessageRangeEncloseType.RangesNotEnclosing){d("WALogger").DEV(n(),a,b);c=d("WAWebWidFactory").createWid(a);e.push({id:c.toString({legacy:!1}),archive:!1})}else d("WALogger").WARN(m(),b).sendLogs("ArchiveSettingSync setting true rangeEnclosedType unsupported")}});i=self.performance.now();d("WALogger").DEV(l(),i-f);e.length>0&&d("WALogger").DEV(k());return e});function c(b){return a.apply(this,arguments)}return c}();f.$ArchiveSettingSync2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,c=[];d("WALogger").DEV(j());var e=(yield d("WAWebSyncdDb").getSyncActionsRows(["action"],[d("WASyncdConst").Actions.Archive]));a=a.filter(function(a){return a.action===d("WASyncdConst").Actions.Archive});var f=a.map(function(a){return a.index});e=e.filter(function(a){return!f.includes(a.index)});e=[].concat(e,a);a=e.filter(function(a){if(a.actionState===d("WASyncdConst").SyncActionState.Success){a=b.decodeValue(a);return(a=a.archiveChatAction)==null?void 0:a.archived}return!1});a.forEach(function(a){a=JSON.parse(a.index)[1];a=d("WAWebWidFactory").createWid(a);c.push({id:a.toString({legacy:!1}),archive:!0})});c.length>0&&d("WALogger").DEV(i());return c});function c(b){return a.apply(this,arguments)}return c}();f.updateSideEffectOnChats=function(a,b){return a?this.$ArchiveSettingSync1(b):this.$ArchiveSettingSync2(b)};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebChatAssignmentOpenedStatusSync",["WALogger","WASyncdAction","WASyncdConst","WAWebBizChatAssignmentOpenedAction","WAWebChatAssignmentCollection","WAWebSyncdActionUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat_assignment_opened_status:syncd: operation not supported"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat_assignment_opened_status:syncd: malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat_assignment_opened_status:syncd: malformed mutation"]);j=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return d("WASyncdConst").CHAT_ASSIGNMENT_SYNC_VERSION};e.getAction=function(){return d("WASyncdConst").Actions.ChatAssignmentOpenedStatus};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];a=a.map(function(a){try{var c=a.indexParts,e=c[1];c=c[2];(e==null||c==null)&&d("WAWebSyncdActionUtils").throwInvalidActionIndex();if(a.operation==="set"){a=a.value.chatAssignmentOpenedStatus;if(!a){d("WALogger").DEV(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=a.chatOpened;if(a==null){d("WALogger").DEV(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var f=e+"_"+c,g=d("WAWebChatAssignmentCollection").ChatAssignmentCollection.get(f);if(g==null)return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:f,modelType:d("WASyncdConst").SyncModelType.ChatAssignment}};b.push({id:f,chatId:e,agentId:c,chatOpenedByAgent:a});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(h());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield d("WAWebBizChatAssignmentOpenedAction").updateLocalOpenedState(b);return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebChatAssignmentSync",["WALogger","WASyncdAction","WASyncdConst","WASyncdOrphan","WAWebAgentCollection","WAWebBizChatAssignmentAction","WAWebChatAssignmentCollection","WAWebChatCollection","WAWebSchemaChatAssignment","WAWebSyncBootstrap","WAWebSyncdActionUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat_assignment:syncd: operation not supported"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat_assignment:syncd: malformed mutation"]);i=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return d("WASyncdConst").CHAT_ASSIGNMENT_SYNC_VERSION};f.getAction=function(){return d("WASyncdConst").Actions.ChatAssignment};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[],e=[],f=[],g=a.map(function(a){try{var g=a.indexParts,j=g[1];j||d("WAWebSyncdActionUtils").throwInvalidActionIndex();if(a.operation==="set"){g=a.value.chatAssignment;if(!g){d("WALogger").DEV(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var k=(g=g.deviceAgentID)!=null?g:"";g=d("WAWebAgentCollection").AgentCollection.get(k);if(k!==""&&g==null)return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:k,modelType:d("WASyncdConst").SyncModelType.Agent}};var l=d("WAWebWidFactory").createWid(j),m=d("WAWebChatCollection").ChatCollection.get(l.toString());if(m==null)return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelType:d("WASyncdConst").SyncModelType.Chat,modelId:l.toString()}};d("WAWebChatAssignmentCollection").ChatAssignmentCollection.getAgentCollectionForChatId(l).filter(function(a){return a.id!==k}).forEach(function(a){return e.push(j+"_"+a.id)});k!==""&&b.push({id:j+"_"+k,chatId:j,agentId:k,chatOpenedByAgent:!1});c("WAWebSyncBootstrap").isSyncDBootstrapInProcess()||f.push({chatId:l,agent:g,timestamp:Math.floor(a.timestamp/1e3)});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(h());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield d("WAWebSchemaChatAssignment").getChatAssignmentTable().bulkCreateOrMerge(b);d("WAWebChatAssignmentCollection").ChatAssignmentCollection.processChatAssignments(b);yield d("WAWebSchemaChatAssignment").getChatAssignmentTable().bulkRemove(e);d("WAWebChatAssignmentCollection").ChatAssignmentCollection.remove(e);d("WAWebBizChatAssignmentAction").createChatAssignmentSystemMsgs(f);d("WAWebBizChatAssignmentAction").triggerChatAssignmentNotification(b,a.map(function(a){return a.timestamp}).join("-"));a=b.map(function(a){return a.id.toString()});d("WASyncdOrphan").checkOrphanChatAssignments(a);return g});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebChatLockSettingsSync",["WALogger","WAProtobufsUserPassword.pb","WASyncdAction","WASyncdConst","WAWebChatLockSettings","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: received mutations but could not parse"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: saving chatlock settings"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: transformer args missing"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: transformer type incompatible"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: secret data missing"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: hideLockedChats is null"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: malformed mutation: settings is null"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["ChatLockSettingsSync: operation not supported: ",""]);o=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.ChatLockSettings};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(o(),a.operation);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=a.value.chatLockSettings;if(a==null){d("WALogger").WARN(n());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var c=a.secretCode;a=a.hideLockedChats;if(a==null){d("WALogger").WARN(m());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b={hideLockedChats:a,secretCode:null};if(c!=null){a=c.transformedData;var e=c.transformer,f=c.transformerArg;c=c.encoding;if(f==null||e==null||a==null||c==null){d("WALogger").WARN(l());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(e!==d("WAProtobufsUserPassword.pb").UserPassword$Transformer.PBKDF2_HMAC_SHA512){d("WALogger").WARN(k());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}f=f.reduce(function(a,b){if(b.value==null)return a;b.key==="iterations"?a.iterations=b.value.asUnsignedInteger:b.key==="salt"&&(a.salt=b.value.asBlob);return a},{});if(f.iterations==null||f.salt==null){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b.secretCode={iterations:f.iterations,encoding:c,salt:f.salt,transformer:e,data:a}}return{actionState:d("WASyncdConst").SyncActionState.Success}});if(b!=null){d("WALogger").LOG(i()).devConsole({chatlockSettings:b,mutations:a});var e=d("WAWebChatLockSettings").getChatLockSettings();e.updateAndSave(b)}else d("WALogger").WARN(h()).devConsole(a);return c});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebContactSync",["Promise","WABaseGlobals","WAJids","WALogger","WAServerSync.pb","WASyncdAction","WASyncdActionUtils","WASyncdConst","WASyncdOrphan","WATimeUtils","WAWebApiContact","WAWebBotGating","WAWebContactCollection","WAWebContactShortName","WAWebDeleteStatusAction","WAWebLidContactsGatingUtils","WAWebSyncContactsJob","WAWebSyncdActionUtils","WAWebUpdateLidMetadataJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: added "," contacts, removed "," contacts"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handler done"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: before pn job"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handler after save"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handler after loop"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["contact sync: operation not supported"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["contact sync: malformed mutation"]);o=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 2};e.getAction=function(){return d("WASyncdConst").Actions.Contact};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){e===void 0&&(e=!1);var f=[],g=[],p=[],q=d("WAWebLidContactsGatingUtils").isLidStorageEnabled();c=(yield (h||(h=b("Promise"))).all(a.map(function(a){try{var b=a.indexParts;b=b[1];b||d("WAWebSyncdActionUtils").throwInvalidActionIndex();var c=d("WAWebWidFactory").createUserWid(b);if(a.operation==="set"){var e=a.value.contactAction;if(!e){d("WALogger").WARN(o());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(c.isUser()&&c.isLid()&&!q)return{actionState:d("WASyncdConst").SyncActionState.Skipped};b={id:b,name:e.fullName||"",shortName:e.firstName||((b=d("WAWebContactShortName").getShortName(e.fullName))!=null?b:""),type:"in",syncToAddressbook:e.saveOnPrimaryAddressbook,isAddressBookContact:1,isContactSyncCompleted:0};if(c.isUser()&&!c.isLid()&&e.lidJid!=null){e=d("WAWebWidFactory").createUserWid(e.lidJid,"lid");p.push({lid:e,pn:d("WAWebWidFactory").toUserWid(c)})}f.push(b);d("WAWebContactCollection").ContactCollection.add(babelHelpers["extends"]({},b,{id:c}),{merge:!0});d("WAWebSyncContactsJob").syncNewContact(c);return{actionState:d("WASyncdConst").SyncActionState.Success}}if(a.operation==="remove"){if(c.isUser()&&c.isLid()&&!q)return{actionState:d("WASyncdConst").SyncActionState.Skipped};if(d("WAWebBotGating").isBotReceiveEnabled()&&c.isBot())return{actionState:d("WASyncdConst").SyncActionState.Skipped};e=d("WAWebContactCollection").ContactCollection.get(c);e!=null&&e.setNotMyContact();g.push(c);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(n());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}})));d("WALogger").LOG(m());yield d("WAWebApiContact").createOrMergeAddressBookContacts(f);d("WALogger").LOG(l());e===!0&&(yield d("WABaseGlobals").getDbImpls().writeSyncdLog(d("WASyncdConst").CollectionName.CriticalUnblockLow,"handler after save"));d("WASyncdOrphan").checkOrphanUserStatusMutes(f.map(function(a){return a.id}));if(g.length>0){a=g.map(function(a){return a.isLid()?d("WAJids").toLidUserJid(a.user):d("WAJids").toPhoneUserJid(a.user)});yield d("WAWebApiContact").setNotAddressBookContacts(a);d("WAWebDeleteStatusAction").clearStatusForRemovedContact()}d("WALogger").LOG(k());void d("WAWebUpdateLidMetadataJob").createLidPnMappingsJob(p,!0);d("WALogger").LOG(j());e===!0&&(yield d("WABaseGlobals").getDbImpls().writeSyncdLog(d("WASyncdConst").CollectionName.CriticalUnblockLow,"handler done"));d("WALogger").DEV(i(),f.length,g.length);return c});function c(b,c,d){return a.apply(this,arguments)}return c}();e.getContactSyncMutation=function(a,b,c,e,f,g){g===void 0&&(g=!1);var h=d("WATimeUtils").unixTimeMs();b={contactAction:{fullName:(b=b)!=null?b:void 0,firstName:(b=c)!=null?b:void 0,lidJid:f?f.toString({legacy:!0}):void 0,saveOnPrimaryAddressbook:(c=e)!=null?c:void 0}};return d("WASyncdActionUtils").buildPendingMutation({collection:d("WASyncdConst").CollectionName.CriticalUnblockLow,indexArgs:[a.toString({legacy:!0})],operation:g?d("WAServerSync.pb").SyncdMutation$SyncdOperation.REMOVE:d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET,version:this.getVersion(),value:b,timestamp:h,action:this.getAction()})};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebCustomPaymentMethodsSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebBackendApi","WAWebMobilePlatforms","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: successfully synced payment methods"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: operation not supported"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: operation not supported, user does not pass ABProp"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Custom Payment Methods sync: operation not supported, app is not SMB"]);l=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.CustomPaymentMethods};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebMobilePlatforms").isSMB()!==!0){d("WALogger").WARN(l());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}if(d("WAWebABProps").getABPropConfigValue("payments_br_pix_phase_1_seller_sync_enabled")!==!0){d("WALogger").WARN(k());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=(a=a.value.customPaymentMethodsAction)==null?void 0:a.customPaymentMethods;if(a==null){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WAWebBackendApi").frontendFireAndForget("setCustomPaymentMethods",{customPaymentMethods:a});d("WALogger").DEV(h());return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebDBFavoriteDatabaseApi",["WAWebBackendApi","WAWebSchemaFavorite","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebSchemaFavorite").getFavoriteTable().bulkCreateOrReplace(a),d("WAWebBackendApi").frontendFireAndForget("addOrEditFavorites",{favorites:a})});return h.apply(this,arguments)}function c(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebSchemaFavorite").getFavoriteTable().clear(),yield d("WAWebSchemaFavorite").getFavoriteTable().bulkCreateOrReplace(a),d("WAWebBackendApi").frontendFireAndForget("setFavorites",{favorites:a})});return i.apply(this,arguments)}function e(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebSchemaFavorite").getFavoriteTable().bulkRemove(a),d("WAWebBackendApi").frontendFireAndForget("removeFavorites",{favoriteIds:a})});return j.apply(this,arguments)}g.addOrEditFavorites=a;g.setFavorites=c;g.removeFavorites=e}),98);
__d("WAWebFavoritesSync",["WALogger","WANullthrows","WASyncdAction","WASyncdConst","WAWebDBFavoriteDatabaseApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Favorites sync: successfully set favorites to ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["favorites sync: malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["favorites sync: operation not supported"]);j=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return 1};f.getAction=function(){return d("WASyncdConst").Actions.Favorites};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.map(function(a){var c;if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}c=(c=a.value.favorites)==null?void 0:c.favorites;if(c==null){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}(b==null||a.timestamp>b.timestamp)&&(b=a);return{actionState:d("WASyncdConst").SyncActionState.Success}});if(b!=null){var e;e=c("WANullthrows")((e=b.value.favorites)==null?void 0:e.favorites).reduce(function(a,b){b=b.id;b!=null&&a.push({id:b});return a},[]);e!=null&&(yield d("WAWebDBFavoriteDatabaseApi").setFavorites(e));d("WALogger").DEV(h(),e)}return a});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebLabelJidSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebBizLabelItemParentType","WAWebBizLabelUtils","WAWebChatCollection","WAWebChatModel","WAWebSchemaChat","WAWebSchemaLabelAssociation","WAWebSyncdActionUtils","WAWebSyncdUtils","WAWebWamEnumMdSyncdCriticalEventCode","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["label jid sync: unsupported operation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["label jid sync: malformed mutation"]);j=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return d("WASyncdConst").LABEL_ASSOCIATION_SYNC_VERSION};f.getAction=function(){return d("WASyncdConst").Actions.LabelJid};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=new Set(),f=[],g=[];a=(yield (h||(h=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){var b=a.indexParts;a=a.value;var h=b[1];b=b[2];(!h||!b)&&d("WAWebSyncdActionUtils").throwInvalidActionIndex();a=(a=a.labelAssociationAction)==null?void 0:a.labeled;if(a==null){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(!c("WAWebWid").isWid(b)){d("WAWebSyncdUtils").uploadCriticalEventMetric(d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.ACTION_INVALID_INDEX_DATA);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b=d("WAWebWidFactory").createWid(b);var k=b.toString(),l={labelId:h,associationId:k,type:d("WAWebSchemaLabelAssociation").LabelAssociationType.Jid};if(a){a=e.has(k);if(!a){var m=(yield d("WAWebSchemaChat").getChatTable().get(k,!1));m&&(e.add(k),a=!0)}m=a?null:new(d("WAWebChatModel").Chat)({id:b});f.push(l);m&&(d("WAWebSchemaChat").getChatTable().create(babelHelpers["extends"]({},m.toJSON(),{id:k})),e.add(k),d("WAWebChatCollection").ChatCollection.add(m));d("WAWebBizLabelUtils").addToLabelCollection(k,[h],d("WAWebBizLabelItemParentType").LabelItemParentType.Chat)}else g.push(l),d("WAWebBizLabelUtils").removeLabelFromCollection(k,h,d("WAWebBizLabelItemParentType").LabelItemParentType.Chat);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}())));yield d("WAWebSchemaLabelAssociation").getLabelAssociationTable().bulkRemove(g.map(function(a){return[a.labelId,a.associationId,a.type]}));yield d("WAWebSchemaLabelAssociation").getLabelAssociationTable().bulkCreateOrReplace(f);return a});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebLabelMessageSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebBizLabelItemParentType","WAWebBizLabelUtils","WAWebSchemaLabelAssociation","WAWebSchemaMessage","WAWebSyncdActionUtils","WAWebSyncdUtils","WAWebWamEnumMdSyncdCriticalEventCode","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["label message sync: operation not supported"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["label message sync: malformed mutation"]);j=function(){return a};return a}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Set();yield d("WAWebSchemaMessage").getMessageTable().bulkGet(a.map(function(a){a=a.indexParts;var b=a[2],e=a[3],f=a[4];a=a[5];if(!b||!e||!f||!a)return null;return!c("WAWebWid").isWid(b)?null:(b=d("WAWebSyncdActionUtils").syncKeyToMsgKey(b,e,f,a))==null?void 0:b.toString()}).filter(Boolean)).then(function(a){return a.forEach(function(a){a&&b.add(a.id)})});return b});return l.apply(this,arguments)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return d("WASyncdConst").LABEL_ASSOCIATION_SYNC_VERSION};e.getAction=function(){return d("WASyncdConst").Actions.LabelMessage};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=[],e=[],f=(yield k(a));a=(yield (h||(h=b("Promise"))).all(a.map(function(a){try{if(a.operation==="set"){var b=a.indexParts;a=a.value;var g=b[1],h=b[2],k=b[3],l=b[4];b=b[5];(!g||!h||!k||!l||!b)&&d("WAWebSyncdActionUtils").throwInvalidActionIndex();a=(a=a.labelAssociationAction)==null?void 0:a.labeled;if(a==null){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}h=d("WAWebSyncdActionUtils").syncKeyToMsgKey(h,k,l,b);if(!h){d("WAWebSyncdUtils").uploadCriticalEventMetric(d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.ACTION_INVALID_INDEX_DATA);return{actionState:d("WASyncdConst").SyncActionState.Malformed}}if(!f.has(h.toString()))return{actionState:d("WASyncdConst").SyncActionState.Orphan,orphanModel:{modelId:h.toString(),modelType:d("WASyncdConst").SyncModelType.Msg}};k={labelId:g,associationId:h.toString(),type:d("WAWebSchemaLabelAssociation").LabelAssociationType.Message};a?(c.push(k),d("WAWebBizLabelUtils").addToLabelCollection(h.toString(),[g],d("WAWebBizLabelItemParentType").LabelItemParentType.Msg)):(e.push(k),d("WAWebBizLabelUtils").removeLabelFromCollection(h.toString(),g,d("WAWebBizLabelItemParentType").LabelItemParentType.Msg));return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}})));yield d("WAWebSchemaLabelAssociation").getLabelAssociationTable().bulkRemove(e.map(function(a){return[a.labelId,a.associationId,a.type]}));yield d("WAWebSchemaLabelAssociation").getLabelAssociationTable().bulkCreateOrReplace(c);return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebDBLabelsReorder",["Promise","WALogger","WAWebModelStorageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] updateLabelsSortOrder: updating storage failed"]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebModelStorageUtils").getStorage().lock(["label"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=c[0],f=a.reduce(function(a,b,c){a.set(b,c);return a},new Map([]));try{c=a.map(function(a){return String(a)});c=(yield e.bulkGet(c));var g=[];c.forEach(function(a){if(a==null)return;var b=f.get(Number(a.id));b!=null&&g.push(e.merge(a.id,{orderIndex:b}))});return(h||(h=b("Promise"))).all(g)}catch(a){d("WALogger").ERROR(i()).devConsole(a).tags("labels").sendLogs("labels-db-update-failed");throw a}});return function(a){return c.apply(this,arguments)}}())});return j.apply(this,arguments)}g.updateLabelsSortOrder=a}),98);
__d("WAWebLabelReorderingSync",["Promise","WALogger","WAPromiseEach","WASyncdAction","WASyncdConst","WAWebBackendApi","WAWebBizGatingUtils","WAWebDBLabelsReorder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: operation failed"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: operation not supported"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: operation successful"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reordering sync: malformed mutation"]);l=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 3};e.getAction=function(){return d("WASyncdConst").Actions.LabelReordering};e.applyMutations=function(a){return!d("WAWebBizGatingUtils").isLabelReorderingSyncFromPrimaryEnabled()?(h||(h=b("Promise"))).resolve([{actionState:d("WASyncdConst").SyncActionState.Skipped}]):d("WAPromiseEach").promiseEach(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.value;a=a==null?void 0:a.labelReorderingAction;if(a==null||a.sortedLabelIds==null||Array.isArray(a.sortedLabelIds)===!1||a.sortedLabelIds.length===0){d("WALogger").WARN(l());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}yield d("WAWebDBLabelsReorder").updateLabelsSortOrder(a.sortedLabelIds);d("WALogger").LOG(k());d("WAWebBackendApi").frontendFireAndForget("reorderLabels",{sortedLabelIds:a.sortedLabelIds});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){d("WALogger").WARN(i()).verbose().devConsole(a);return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}())};return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebLocaleSettingSync",["Promise","WALogger","WASyncdAction","WASyncdConst","WAWebL10N","WAWebL10NConstants","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["locale setting sync: operation not supported"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: successfully set locale to ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["locale setting sync: malformed mutation"]);k=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return 3};f.getAction=function(){return d("WASyncdConst").Actions.LocaleSetting};f.applyMutations=function(a){return(h||(h=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(a.operation==="set"){a=a.value;a=a.localeSetting;if(!a){d("WALogger").WARN(k());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var b=a.locale;yield c("WAWebL10N").setLocale(b,d("WAWebL10NConstants").L10N_PRIORITY.PHONE);d("WALogger").DEV(j(),a.locale);return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});return function(b){return a.apply(this,arguments)}}()))};return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebUserPrefsMerchantPaymentPartner",["WASyncAction.pb","WAWebUserPrefsCustomPaymentMethods","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsTypes"],(function(a,b,c,d,e,f,g){function h(){var a=c("WAWebUserPrefsLocalStorage")==null?void 0:c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(d("WAWebUserPrefsKeys").KEYS.MERCHANT_PAYMENT_PARTNER);return a}function a(){var a=h();return i(a)&&a?a:null}function i(a){if(!a)return!1;var b=a.status,c=a.country,e=a.credential_id;a=a.gateway_name;if(b===d("WAWebUserPrefsTypes").PaymentPartnerStatusType.ACTIVE)return d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(c)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(e)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(a);else if(b===d("WAWebUserPrefsTypes").PaymentPartnerStatusType.INACTIVE)return d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(c)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(e,!0)&&d("WAWebUserPrefsCustomPaymentMethods").isStringFieldValid(a,!0);return!1}function b(a){var b=a.status===d("WASyncAction.pb").SyncActionValue$MerchantPaymentPartnerAction$Status.ACTIVE?d("WAWebUserPrefsTypes").PaymentPartnerStatusType.ACTIVE:d("WAWebUserPrefsTypes").PaymentPartnerStatusType.INACTIVE;b={status:b,country:a.country,gateway_name:a.gatewayName,credential_id:a.credentialId};c("WAWebUserPrefsLocalStorage").setItemToLocalStorage(d("WAWebUserPrefsKeys").KEYS.MERCHANT_PAYMENT_PARTNER,b)}function e(){var a=h();return i(a)}f={getPaymentPartner:a,isPaymentPartnerValid:e,setMerchantPaymentPartner:b};g["default"]=f}),98);
__d("WAWebMerchantPaymentPartnerSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebMobilePlatforms","WAWebUserPrefsMerchantPaymentPartner","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: successfully synced payment methods"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync:malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: operation not supported"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: operation not supported, user does not pass ABProp"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Merchant Payment Partner sync: operation not supported, app is not SMB"]);l=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.MerchantPaymentPartner};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebMobilePlatforms").isSMB()!==!0){d("WALogger").WARN(l());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}if(d("WAWebABProps").getABPropConfigValue("payments_br_merchant_psp_account_status_sync")!==!0){d("WALogger").WARN(k());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=a.value.merchantPaymentPartnerAction;if(a==null){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}c("WAWebUserPrefsMerchantPaymentPartner").setMerchantPaymentPartner(a);d("WALogger").DEV(h());return{actionState:d("WASyncdConst").SyncActionState.Success}})});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();Object.freeze(e);f=e;g["default"]=f}),98);
__d("WAWebPaymentInfoSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebBackendApi","WAWebMobilePlatforms","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: successfully set cpi info"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["cpi payment info sync: malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: operation not supported"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: operation not supported, user does not pass ABProp"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["payment info sync: operation not supported, app is not SMB"]);l=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.PaymentInfo};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebMobilePlatforms").isSMB()!==!0){d("WALogger").WARN(l());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}if(d("WAWebABProps").getABPropConfigValue("order_details_payment_instructions_sync_enabled")!==!0){d("WALogger").WARN(k());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=(a=a.value.paymentInfoAction)==null?void 0:a.cpi;if(typeof a!=="string"){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WAWebBackendApi").frontendFireAndForget("setCPIInfo",{cpiInfo:a});d("WALogger").DEV(h());return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebPnForLidChatSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebUpdateLidMetadataJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: successfully updated the lidXPn mapping}"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: malformed mutation - invalid pnJid"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: malformed mutation - invalid key"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: operation not supported"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["pn_for_lid_chat sync: operation not supported"]);l=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 8};e.getAction=function(){return d("WASyncdConst").Actions.PnForLidChat};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebABProps").getABPropConfigValue("pnh_pn_for_lid_chat_sync")!==!0){d("WALogger").WARN(l());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}var b=[];a=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(k());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var c=a.indexParts[1];if(!d("WAWebWidFactory").isWidlike(c)){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=(a=a.value.pnForLidChatAction)==null?void 0:a.pnJid;if(a==null||!d("WAWebWidFactory").isWidlike(a)){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=d("WAWebWidFactory").createUserWid(a);c=d("WAWebWidFactory").createUserWid(c);b.push({lid:c,pn:a});return{actionState:d("WASyncdConst").SyncActionState.Success}});yield d("WAWebUpdateLidMetadataJob").createLidPnMappingsJob(b,!0);d("WALogger").DEV(h());return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebPremiumMessageAddSendAction",["WAWebPremiumMessageCollection","WAWebPremiumMessageSchema","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];for(a of a){var c=d("WAWebPremiumMessageCollection").PremiumMessageCollection.get(a.premiumMessageId);if(c){var e=new Set(c.sentMessageIds);e.add(a.messageId);b.push(c);c.set("sentMessageIds",e)}}yield d("WAWebPremiumMessageSchema").getPremiumMessageTable().bulkCreateOrMerge(b.map(function(a){return{id:a.id,name:a.name,type:a.type,isDeleted:a.isDeleted,mediaId:a.mediaId,sentMessageIds:a.sentMessageIds}}))});return h.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebPremiumMessageBroadcastSync",["WALogger","WASyncdAction","WASyncdConst","WAWebPremiumMessageAddSendAction","WAWebPremiumMessageCollection","WAWebSyncdActionUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["premium_message_broadcast:syncd: operation not supported"]);h=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.MarketingMessageBroadcast};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];a=a.map(function(a){try{var c=a.indexParts,e=c[1];c=c[2];(!e||!c)&&d("WAWebSyncdActionUtils").throwInvalidActionIndex();if(a.operation==="set"){if(d("WAWebPremiumMessageCollection").PremiumMessageCollection.find(e)==null)return{actionState:d("WASyncdConst").SyncActionState.Orphan};b.push({messageId:c,premiumMessageId:e});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(h());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield c("WAWebPremiumMessageAddSendAction")(b);return a});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebPremiumMessageSync",["WALogger","WASyncdAction","WASyncdConst","WAWebPremiumMessageCollection","WAWebPremiumMessageSchema","WAWebSyncdActionUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["premium_message:syncd: operation not supported"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["premium_message:syncd: malformed mutation - missing type"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["premium_message:syncd: malformed mutation"]);j=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.MarketingMessage};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=[];a=a.map(function(a){try{var c=a.indexParts;c=c[1];c||d("WAWebSyncdActionUtils").throwInvalidActionIndex();if(a.operation==="set"){a=a.value.marketingMessageAction;if(!a){d("WALogger").DEV(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}var e=a.name,f=a.type,g=a.message,k=a.isDeleted;a=a.mediaId;if(f==null){d("WALogger").DEV(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}b.push({id:c,name:e,type:f,isDeleted:k,message:g,mediaId:a,sentMessageIds:new Set()});return{actionState:d("WASyncdConst").SyncActionState.Success}}d("WALogger").DEV(h());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}catch(a){return{actionState:d("WASyncdConst").SyncActionState.Failed}}});yield d("WAWebPremiumMessageSchema").getPremiumMessageTable().bulkCreateOrMerge(b);d("WAWebPremiumMessageCollection").PremiumMessageCollection.add(b);return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebPrimaryFeatureSync",["WALogger","WANullthrows","WASyncdAction","WASyncdConst","WAWebPrimaryFeatures","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["primary feature sync: successfully set flags to ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["primary feature sync: malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["primary feature sync: operation not supported"]);j=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.getVersion=function(){return 7};f.getAction=function(){return d("WASyncdConst").Actions.PrimaryFeature};f.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=a.map(function(a){var c;if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}c=(c=a.value.primaryFeature)==null?void 0:c.flags;if(c==null){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}(b==null||a.timestamp>b.timestamp)&&(b=a);return{actionState:d("WASyncdConst").SyncActionState.Success}});if(b!=null){var e;e=c("WANullthrows")((e=b.value.primaryFeature)==null?void 0:e.flags);yield d("WAWebPrimaryFeatures").setPrimaryFeatures(e);d("WALogger").DEV(h(),e)}return a});function e(b){return a.apply(this,arguments)}return e}();return e}(d("WASyncdAction").SyncActionBase);e=new a();g["default"]=e}),98);
__d("WAWebPrimaryVersionSync",["WALogger","WASyncdAction","WASyncdConst","WAWebSyncdActionUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: primary version sync, successfully get primary version ","\n      with value ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: primary version sync, malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: primary version sync, operation not supported"]);j=function(){return a};return a}var k={CURRENT:"current",SESSION_START:"session_start"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.PrimaryVersion};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}var b=a.indexParts;a=a.value;b=b[1];(!b||b!==k.CURRENT&&b!==k.SESSION_START)&&d("WAWebSyncdActionUtils").throwInvalidActionIndex();a=(a=a.primaryVersionAction)==null?void 0:a.version;if(a==null){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WALogger").DEV(h(),b,a);return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebShareOwnPnSync",["WALogger","WASyncdAction","WASyncdConst","WAWebABProps","WAWebUpdateLidMetadataJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: successfully updated shareOwnPn value}"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: malformed mutation - invalid key"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: operation not supported"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["share_own_pn sync: operation not supported"]);k=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 8};e.getAction=function(){return d("WASyncdConst").Actions.ShareOwnPn};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebABProps").getABPropConfigValue("share_own_pn_sync")!==!0){d("WALogger").WARN(k());return a.map(function(){return{actionState:d("WASyncdConst").SyncActionState.Unsupported}})}var b=[];a=a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=a.indexParts[1];if(!d("WAWebWidFactory").isWidlike(a)){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}a=d("WAWebWidFactory").createUserWid(a);b.push({lid:a,data:{shareOwnPn:!0}});return{actionState:d("WASyncdConst").SyncActionState.Success}});yield d("WAWebUpdateLidMetadataJob").updateLidMetadataJob(b);d("WALogger").DEV(h());return a});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebTimeFormatSync",["WALogger","WASyncdAction","WASyncdConst","WAWebClock","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["time format sync: successfully set time format to "," hour"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["time format sync: malformed mutation"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["time format sync: operation not supported"]);j=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getVersion=function(){return 7};e.getAction=function(){return d("WASyncdConst").Actions.TimeFormat};e.applyMutations=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a.map(function(a){if(a.operation!=="set"){d("WALogger").WARN(j());return{actionState:d("WASyncdConst").SyncActionState.Unsupported}}a=(a=a.value.timeFormatAction)==null?void 0:a.isTwentyFourHourFormatEnabled;if(a==null){d("WALogger").WARN(i());return{actionState:d("WASyncdConst").SyncActionState.Malformed}}d("WAWebClock").Clock.setIs24Hour(a);d("WALogger").DEV(h(),a?"24":"12");return{actionState:d("WASyncdConst").SyncActionState.Success}})});function c(b){return a.apply(this,arguments)}return c}();return c}(d("WASyncdAction").SyncActionBase);c=new a();g["default"]=c}),98);
__d("WAWebCollectionHandlerActions",["WASentinelMutationSync","WAWebAgentSync","WAWebAndroidUnsupportedActionsSync","WAWebArchiveChatSync","WAWebArchiveSettingSync","WAWebBotWelcomeRequestSync","WAWebChatAssignmentOpenedStatusSync","WAWebChatAssignmentSync","WAWebChatLockSettingsSync","WAWebClearChatSync","WAWebContactSync","WAWebCustomPaymentMethodsSync","WAWebDeleteChatSync","WAWebDeleteMessageForMeSync","WAWebDisableLinkPreviewsSync","WAWebExternalWebBetaSync","WAWebFavoritesSync","WAWebLabelJidSync","WAWebLabelMessageSync","WAWebLabelReorderingSync","WAWebLabelSync","WAWebLocaleSettingSync","WAWebLockChatSync","WAWebMarkChatAsReadSync","WAWebMerchantPaymentPartnerSync","WAWebMuteChatSync","WAWebNoteSync","WAWebNuxSync","WAWebPaymentInfoSync","WAWebPinChatSync","WAWebPnForLidChatSync","WAWebPremiumMessageBroadcastSync","WAWebPremiumMessageSync","WAWebPrimaryFeatureSync","WAWebPrimaryVersionSync","WAWebPushNameSync","WAWebQuickRepliesSync","WAWebShareOwnPnSync","WAWebStarMessageSync","WAWebStatusPrivacySettingSync","WAWebStickersFavoriteSyncAction","WAWebStickersRemoveRecentSyncAction","WAWebTimeFormatSync","WAWebUserStatusMuteSync"],(function(a,b,c,d,e,f,g){a=[c("WAWebStarMessageSync"),c("WAWebContactSync"),c("WAWebMuteChatSync"),c("WAWebLabelSync"),c("WAWebLabelReorderingSync"),c("WAWebAgentSync"),c("WAWebLabelMessageSync"),c("WAWebLabelJidSync"),c("WAWebQuickRepliesSync"),c("WAWebLocaleSettingSync"),c("WAWebPushNameSync"),c("WAWebArchiveChatSync"),c("WAWebMarkChatAsReadSync"),c("WAWebClearChatSync"),c("WAWebDeleteMessageForMeSync"),c("WASentinelMutationSync"),c("WAWebArchiveSettingSync"),d("WAWebPinChatSync").PinChatSync,c("WAWebDeleteChatSync"),c("WAWebAndroidUnsupportedActionsSync"),c("WAWebPrimaryFeatureSync"),c("WAWebNuxSync"),c("WAWebTimeFormatSync"),c("WAWebUserStatusMuteSync"),c("WAWebPrimaryVersionSync"),c("WAWebStickersRemoveRecentSyncAction"),c("WAWebChatAssignmentSync"),c("WAWebChatAssignmentOpenedStatusSync"),c("WAWebStickersFavoriteSyncAction"),c("WAWebShareOwnPnSync"),c("WAWebPnForLidChatSync"),c("WAWebExternalWebBetaSync"),c("WAWebPremiumMessageSync"),c("WAWebPremiumMessageBroadcastSync"),c("WAWebStatusPrivacySettingSync"),c("WAWebBotWelcomeRequestSync"),c("WAWebPaymentInfoSync"),c("WAWebCustomPaymentMethodsSync"),c("WAWebLockChatSync"),c("WAWebChatLockSettingsSync"),c("WAWebDisableLinkPreviewsSync"),c("WAWebNoteSync"),c("WAWebFavoritesSync"),c("WAWebMerchantPaymentPartnerSync")];g.ActionHandlers=a}),98);
__d("WAWebKeyManagementUtils",["WALogger","WAWebApiDeviceList","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: getPeerDevices: error ",". Future key requests will only be sent to primary device."]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[],b=d("WAWebUserPrefsMeUser").assertGetMe();try{var c=(yield d("WAWebApiDeviceList").getMyDeviceList());c.devices.forEach(function(c){c.id!==b.getDeviceId()&&a.push(d("WAWebWidFactory").createDeviceWidFromUserAndDevice(b.user,b.server,c.id))})}catch(a){d("WALogger").WARN(h(),a).sendLogs(a.toString());return[d("WAWebWidFactory").createDeviceWidFromUserAndDevice(b.user,b.server,0)]}return a});return i.apply(this,arguments)}g.getPeerDevices=a}),98);
__d("WAWebConfig",["WANullthrows","WAWebABProps","WAWebBrokerGlobalAppState","WAWebCollectionHandlerActions","WAWebConnModel","WAWebKeyManagementUtils","WAWebLocalStorage","WAWebOfflineHandler","WAWebServerPropsModel","WAWebUserPrefsKeys","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){a={isCompanion:function(){return!0},logoutInProgress:function(){return c("WAWebBrokerGlobalAppState").isLogoutInProgress},mediaImagePreviewHkdfInfo:function(){throw c("err")("config: No config for mediaImagePreviewHkdfInfo")},mediaVideoPreviewHkdfInfo:function(){throw c("err")("config: No config for mediaVideoPreviewHkdfInfo")},offlineProcessingState:function(){return d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()?"idle":"processing"},orchestratorVersion:function(){return"default"},primaryPlatform:function(){return d("WAWebConnModel").Conn.platform},syncdActionHandlers:function(){return d("WAWebCollectionHandlerActions").ActionHandlers},syncdAdditionalMutations:function(){return d("WAWebABProps").getABPropConfigValue("syncd_additional_mutations_count")},syncShouldCalculateLtHashFromScratch:function(){return d("WAWebABProps").getABPropConfigValue("web_recalculate_app_state_sync_lthash")},syncdDisabled:function(){return c("WANullthrows")(c("WAWebLocalStorage")).getItem(d("WAWebUserPrefsKeys").KEYS.SYNCD_DISABLED_DUE_TO_FATAL)==="true"},syncdInlineMutationsMaxCount:function(){return d("WAWebServerPropsModel").ServerProps.syncdInlineMutationsMaxCount},syncdKeyMaxUseDays:function(){return d("WAWebServerPropsModel").ServerProps.syncdKeyMaxUseDays},syncdMaxMutationsToProcessDuringResume:function(){return d("WAWebABProps").getABPropConfigValue("web_syncd_max_mutations_to_process_during_resume")},syncdPatchDeviceIndexIncluded:function(){return!0},syncdPatchProtobufMaxSize:function(){return d("WAWebServerPropsModel").ServerProps.syncdPatchProtobufMaxSize},syncdQPLLoggingEnabled:function(){return d("WAWebServerPropsModel").ServerProps.syncdQPLLoggingEnabled},syncdShouldFatalOnMissingPatch:function(){return d("WAWebABProps").getABPropConfigValue("web_should_fatal_on_missing_patch")},syncdShouldNotFatalOnSnapshotMacMismatchInPatches:function(){return d("WAWebABProps").getABPropConfigValue("syncd_do_not_fatal_on_snapshot_mac_mismatch_in_patches")},syncdShouldParsePatchDebugData:function(){return d("WAWebABProps").getABPropConfigValue("enable_syncd_debug_data_in_patch")},syncdWaitForKeyTimeoutDays:function(){return d("WAWebServerPropsModel").ServerProps.syncdWaitForKeyTimeoutDays},syncShouldMinimizeWriteIndividualMutation:function(){return d("WAWebABProps").getABPropConfigValue("enable_minimize_individual_mutation_write")},syncShouldUseCachedIndexMac:function(){return d("WAWebABProps").getABPropConfigValue("enabled_cached_indexmac")},maxPrekeysToUpload:function(){return d("WAWebServerPropsModel").ServerProps.maxKeys},forceNonPersistedJobs:function(){return!1},ignoreForceNonPersistedJobList:function(){return[]},orchestratorConfig:function(){return void 0},waitForConnection:function(){return!1},isUseridAnnotationEnabled:function(){return!1},isEmployee:function(){return!1},useUpdatedSenderKeySession:function(){return!1},getAreThereMoreCompanions:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebKeyManagementUtils").getPeerDevices());return a.length>1});function c(){return a.apply(this,arguments)}return c}(),getSignalFutureMessagesMax:function(){return 2e3}};g.ConfigImpl=a}),98);
__d("WAWebSyncdFatalExceptionNotificationApi",["WATimeUtils","WAWebApiPeerMessageStore","WAWebMsgKey","WAWebMsgType","WAWebSendAppStateSyncMsgJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a={collectionNames:a,timestamp:d("WATimeUtils").unixTimeMs()};var b=new(c("WAWebMsgKey"))({fromMe:!0,remote:d("WAWebUserPrefsMeUser").getMeUser(),id:yield c("WAWebMsgKey").newId()});b={id:b,to:d("WAWebWidFactory").createDeviceWidFromUserAndDevice(d("WAWebUserPrefsMeUser").assertGetMe().user,d("WAWebUserPrefsMeUser").assertGetMe().server,0),type:"protocol",subtype:"app_state_fatal_exception_notification",kind:d("WAWebMsgType").MsgKind.PeerMessage,appStateFatalExceptionNotification:a};yield d("WAWebApiPeerMessageStore").storePeerMessages([b]);return d("WAWebSendAppStateSyncMsgJob").encryptAndSendKeyMsg(b)});return h.apply(this,arguments)}g.sendAppStateFatalExceptionNotification=a}),98);
__d("WAWebSyncdLogs",["WALogger","WASyncdConst","WAWebPriorLogs","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: cannot log unknown cagtegory ",""]);h=function(){return a};return a}a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=d("WAWebPriorLogs").WAWebLogCategory.cast(a);if(c!=null)return d("WAWebPriorLogs").writePriorLog(c,b);d("WALogger").WARN(h(),a)});return function(b,c){return a.apply(this,arguments)}}();c=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[].concat(Array.from(d("WASyncdConst").CollectionName.members()),[""]).map(function(a){return d("WAWebPriorLogs").WAWebLogCategory.cast(a)}).filter(Boolean);return d("WAWebPriorLogs").printPriorLogs(a)});return function(){return a.apply(this,arguments)}}();g.writeSyncdLogImpl=a;g.printSyncdLogs=c}),98);
__d("WAWebSyncdFatal",["Promise","WAAsyncSleep","WABaseGlobals","WALogger","WATimeUtils","WAWebLogoutReasonConstants","WAWebSocketLogoutJob","WAWebSyncdFatalExceptionNotificationApi","WAWebSyncdLogs","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: Received fatal error and logged out"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: end notifying primary on fatal error. tsBeforeSleep: ",", tsBeforeSendToPrimary: ",", currTs: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: end notifying primary on fatal error"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: error when sending fatal message to primary: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: start notifying primary on fatal error"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal flow: before sleep"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: starting fatal flow for ",""]);o=function(){return a};return a}var p=5e3;function a(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(o(),a);a?yield r(a,"handleFatalError for collection"):yield d("WABaseGlobals").getDbImpls().writeSyncdLog("","handleFatalError without collection");var b=[];a!=null&&(b=a.map(function(a){return String(a)}));var c=d("WATimeUtils").castMilliSecondsToUnixTime(d("WATimeUtils").unixTimeMs());d("WALogger").LOG(n());yield d("WAAsyncSleep").asyncSleep(p);yield r(a,"handleFatalError before notify primary");var e=d("WATimeUtils").castMilliSecondsToUnixTime(d("WATimeUtils").unixTimeMs());d("WALogger").LOG(m());try{yield d("WAWebSyncdFatalExceptionNotificationApi").sendAppStateFatalExceptionNotification(b)}catch(a){d("WALogger").ERROR(l(),a).sendLogs("syncd: could not send fatal to primary")}d("WALogger").LOG(k());yield r(a,"handleFatalError after notify primary");b=d("WATimeUtils").castMilliSecondsToUnixTime(d("WATimeUtils").unixTimeMs());d("WALogger").LOG(j(),d("WATimeUtils").toHttpHeaderDate(c),d("WATimeUtils").toHttpHeaderDate(e),d("WATimeUtils").toHttpHeaderDate(b));yield d("WAWebSyncdLogs").printSyncdLogs();d("WALogger").ERROR(i()).verbose().tags("syncd","logout").sendLogs("syncd: fatal error and logged out");yield d("WAWebSocketLogoutJob").socketLogout(d("WAWebLogoutReasonConstants").LogoutReason.SyncdFailure)});return q.apply(this,arguments)}function r(a,c){return(h||(h=b("Promise"))).all(((a=a)!=null?a:[""]).map(function(a){return d("WABaseGlobals").getDbImpls().writeSyncdLog(a,c)}))}g.handleFatalError=a}),98);
__d("WAWebSyncdDbCallbacksApi",["Promise","WAWebAndroidUnsupportedActionsSync","WAWebCmd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSyncdFatal","WAWebSyncdLogs","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(a){a.deviceIndex===0&&c("WAWebAndroidUnsupportedActionsSync").updatePrimaryAllowsAllMutationsFlag("device index");return(h||(h=b("Promise"))).resolve()};e=function(a){d("WAWebCmd").Cmd.trigger(d("WAWebCmd").APP_STATE_SYNC_COMPLETED,a);return(h||(h=b("Promise"))).resolve()};f=function(){return d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){}))};var i=function(a){return d("WAWebSyncdFatal").handleFatalError(a==null?void 0:a.collections)};g.handleSyncBeforeApplyPatch=a;g.handleSyncCompleted=e;g.handleSyncDelayApplyingPatchUntilUIUnblocks=f;g.handleSyncdFatal=i;g.writeSyncdLog=d("WAWebSyncdLogs").writeSyncdLogImpl;g.printSyncdLog=d("WAWebSyncdLogs").printSyncdLogs}),98);
__d("WAWebKeyManagementSendKeyRequestApi",["Promise","WALogger","WASyncdCryptoUtils","WASyncdKeyTypes","WAWebApiPeerMessageStore","WAWebKeyManagementUtils","WAWebMsgKey","WAWebMsgType","WAWebSendAppStateSyncMsgJob","WAWebSyncdCriticalBootstrapProcessingApi","WAWebUserPrefsMeUser","WAWebWamEnumBootstrapAppStateDataStageCode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: send key request key id "," to peer deviceIds ",""]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("WAWebKeyManagementUtils").getPeerDevices()),f=a.map(function(a){return{keyId:d("WASyncdKeyTypes").fromSyncKeyId(a)}}),g={keyIds:f};f=e.map(function(a){var b=new(c("WAWebMsgKey"))({fromMe:!0,remote:d("WAWebUserPrefsMeUser").assertGetMeUser(),id:c("WAWebMsgKey").newId_DEPRECATED()});return{id:b,to:a,type:"protocol",subtype:"app_state_sync_key_request",kind:d("WAWebMsgType").MsgKind.PeerMessage,appStateSyncKeyRequest:g}});e=e.map(function(a){return a.getDeviceId()});a=a.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a)});d("WALogger").LOG(i(),a,e);yield d("WAWebApiPeerMessageStore").storePeerMessages(f);yield (h||(h=b("Promise"))).all(f.map(function(a){return d("WAWebSendAppStateSyncMsgJob").encryptAndSendKeyMsg(a)}));d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MISSING_KEYS_REQUESTED);return e});return j.apply(this,arguments)}g.sendAppStateSyncKeyRequest=a}),98);
__d("WAWebKeyManagementSendKeyShareApi",["Promise","WALogger","WASyncdCryptoUtils","WASyncdKeyTypes","WAWebApiPeerMessageStore","WAWebKeyManagementUtils","WAWebMsgKey","WAWebMsgType","WAWebSendAppStateSyncMsgJob","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: send key share key id "," to peer deviceIds "," due to ",""]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f;a.type==="key_rotation"?(e=k(a.keys),f=(yield d("WAWebKeyManagementUtils").getPeerDevices())):a.type==="missing_key"&&(e=k(a.keys,a.orphanKeys),f=[a.peerDeviceId]);if(f==null)return(h||(h=b("Promise"))).resolve();var g=f,j=g.map(function(a){var b=new(c("WAWebMsgKey"))({fromMe:!0,remote:d("WAWebUserPrefsMeUser").assertGetMeUser(),id:c("WAWebMsgKey").newId_DEPRECATED()});return{id:b,to:a,type:"protocol",subtype:"app_state_sync_key_share",kind:d("WAWebMsgType").MsgKind.PeerMessage,appStateSyncKeyShare:e}});g=g.map(function(a){return a.getDeviceId()});var l=a.keys.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a.keyId)});d("WALogger").LOG(i(),l,g,a.type);yield d("WAWebApiPeerMessageStore").storePeerMessages(j);yield (h||(h=b("Promise"))).all(j.map(function(a){return d("WAWebSendAppStateSyncMsgJob").encryptAndSendKeyMsg(a)}))});return j.apply(this,arguments)}function k(a,b){a=a.map(function(a){return{keyId:{keyId:d("WASyncdKeyTypes").fromSyncKeyId(a.keyId)},keyData:{keyData:d("WASyncdKeyTypes").fromSyncKeyData(a.keyData),fingerprint:{rawId:a.fingerprint.rawId,currentIndex:a.fingerprint.currentIndex,deviceIndexes:a.fingerprint.deviceIndexes},timestamp:a.timestamp}}});if(b){b=b.map(function(a){return{keyId:{keyId:d("WASyncdKeyTypes").fromSyncKeyId(a)},keyData:void 0}});a=a.concat(b)}return{keys:a}}g.sendAppStateSyncKeyShare=a}),98);
__d("WAWebSyncdKeyCallbacksApi",["WAWebApiDeviceList","WAWebKeyManagementSendKeyRequestApi","WAWebKeyManagementSendKeyShareApi","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebApiDeviceList").getMyDeviceList()),b=a.currentIndex,e=a.devices;a=a.rawId;if(b==null)throw c("err")("syncd: missing current index for own device");return{currentIndex:b,deviceIndexes:e.map(function(a){return a.keyIndex}),rawId:a}});return function(){return a.apply(this,arguments)}}();e=function(a){return d("WAWebKeyManagementSendKeyShareApi").sendAppStateSyncKeyShare({type:"key_rotation",keys:a})};g.getDeviceFingerprint=a;g.sendSyncdKeyRequest=d("WAWebKeyManagementSendKeyRequestApi").sendAppStateSyncKeyRequest;g.sendSyncdKeyRotation=e}),98);
__d("WAWebSyncdNetCallbacksApi",["WABase64","WALogger","WASyncdError","WAWebDownloadManager","WAWebMmsClientErrors","WAWebSyncdUploadFatalErrorMetric","WAWebUploadManager","WAWebWamEnumMdSyncdFatalErrorCode","WAWebWamEnumUploadOriginType","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: error downloading "," of expected size "," with expected hash b64 length of "," for collection ",""]);h=function(){return a};return a}a=function(a){return c("WAWebUploadManager").encryptAndUpload({blob:a,signal:new AbortController().signal,type:"md-app-state",uploadOrigin:d("WAWebWamEnumUploadOriginType").UPLOAD_ORIGIN_TYPE.UNKNOWN,userUploadAttemptCount:0,forwardedFromWeb:!1,isViewOnce:!1}).then(function(a){var b=a.mediaKey,e=a.directPath,f=a.encFilehash;a=a.handle;if(a==null)throw c("err")("Missing handle after uploading external patch to mms4");return{mediaKey:d("WABase64").decodeB64(b),directPath:e,encFilehash:d("WABase64").decodeB64(f),handle:a}})};e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=a.mediaKey,f=a.directPath,g=a.fileSha256,i=a.fileEncSha256;f={directPath:f,encFilehash:d("WABase64").encodeB64(i),filehash:d("WABase64").encodeB64(g),mediaKey:d("WABase64").encodeB64(e),type:"md-app-state",userDownloadAttemptCount:0};try{return yield d("WAWebDownloadManager").downloadManager.downloadAndMaybeDecrypt(babelHelpers["extends"]({signal:new AbortController().signal},f))}catch(e){d("WALogger").LOG(h(),b,a.fileSizeBytes,d("WABase64").encodeB64(a.fileEncSha256).length,c);if(e instanceof d("WAWebMmsClientErrors").MediaNotFoundError){d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(b==="patch"?d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.EXTERNAL_PATCH_EXPIRED:d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SNAPSHOT_EXPIRED,c);throw new(d("WASyncdError").SyncdFatalError)("external patch expired")}throw e}});return function(b,c,d){return a.apply(this,arguments)}}();g.uploadSyncExternalPatch=a;g.downloadSyncBlob=e}),98);
__d("WAWebDbCallbacks",["WAWebSyncdDbCallbacksApi","WAWebSyncdKeyCallbacksApi","WAWebSyncdNetCallbacksApi"],(function(a,b,c,d,e,f,g){b={downloadSyncBlob:d("WAWebSyncdNetCallbacksApi").downloadSyncBlob,getDeviceFingerprint:d("WAWebSyncdKeyCallbacksApi").getDeviceFingerprint,handleSyncBeforeApplyPatch:(a=d("WAWebSyncdDbCallbacksApi")).handleSyncBeforeApplyPatch,handleSyncCompleted:a.handleSyncCompleted,handleSyncDelayApplyingPatchUntilUIUnblocks:a.handleSyncDelayApplyingPatchUntilUIUnblocks,handleSyncdFatal:a.handleSyncdFatal,sendSyncdKeyRequest:d("WAWebSyncdKeyCallbacksApi").sendSyncdKeyRequest,sendSyncdKeyRotation:d("WAWebSyncdKeyCallbacksApi").sendSyncdKeyRotation,uploadSyncExternalPatch:d("WAWebSyncdNetCallbacksApi").uploadSyncExternalPatch,writeSyncdLog:a.writeSyncdLog,printSyncdLog:a.printSyncdLog};g.dbCallbacks=b}),98);
__d("WAWebProtobufsRoutingInfo.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalDefaults={taskId:-1,debug:!1,tcpBbr:!1,tcpKeepalive:!1};a.internalSpec={regionId:[1,(b=d("WAProtoConst")).FLAGS.REPEATED|b.TYPES.INT32],clusterId:[2,b.FLAGS.REPEATED|b.TYPES.INT32],taskId:[3,b.TYPES.INT32],debug:[4,b.TYPES.BOOL],tcpBbr:[5,b.TYPES.BOOL],tcpKeepalive:[6,b.TYPES.BOOL]};g.RoutingInfoSpec=a}),98);
__d("WAWebUserPrefsDebugKeys",["invariant","gkx"],(function(a,b,c,d,e,f,g,h){c("gkx")("26258")&&h(0,56260);a=Object.freeze({DEBUG_ROUTING_TOKEN:"WADebugRoutingToken",DEBUG_SHOWN_MSGS:"WADebugShownMsgs",DEBUG_ENABLE_OFFLINE_MOCK:"WADebugEnableOfflineMock",DEBUG_OFFLINE_MOCK_TRAFFIC:"WADebugOfflineMockTraffic",DEBUG_READ_RECEIPT:"WADebugReadReceipt",DEBUG_DECRYPT_FAIL:"WADebugDecryptFail",DEBUG_PASSIVE_MODE:"WADebugPassiveMode",DEBUG_IGNORE_PARTICIPANT_ADD:"WADebugIgnoreParticipantAdd",IGNORE_NONDIRECT_GROUP_MSG:"WAIgnoreNondirectGroupMsg",MESSAGE_EDIT_RESTRICTION_ENABLED:"MESSAGE_EDIT_RESTRICTION_ENABLED",DEBUG_ONLY_DEFAULT_BOT_OVERIDE:"DEBUG_ONLY_DEFAULT_BOT_OVERIDE"});b=a;g["default"]=b}),98);
__d("WAWebUserPrefsMultiDeviceDebug",["invariant","WAWebUserPrefsDebugKeys","WAWebUserPrefsStore","WAWebWidFactory","gkx"],(function(a,b,c,d,e,f,g,h){c("gkx")("26258")&&h(0,56260);function i(a){return typeof a==="string"?a:void 0}function j(a){return typeof a==="number"?a:void 0}function a(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_READ_RECEIPT,a)}function b(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_READ_RECEIPT)}function e(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_PASSIVE_MODE,a)}function f(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_PASSIVE_MODE)}function k(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ENABLE_OFFLINE_MOCK,a)}function l(){return!!c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ENABLE_OFFLINE_MOCK)}function m(a){return c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_OFFLINE_MOCK_TRAFFIC,a)}function n(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_OFFLINE_MOCK_TRAFFIC)}function o(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_DECRYPT_FAIL,a)}function p(){return j(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_DECRYPT_FAIL))}function q(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ROUTING_TOKEN,a)}function r(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ROUTING_TOKEN))}function s(a){var b;a=a+"@c.us";if(!((b=d("WAWebWidFactory").createWid(a))==null?void 0:b.isBot()))return;c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE,a)}function t(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE))}function u(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_IGNORE_PARTICIPANT_ADD,a)}function v(){return j(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_IGNORE_PARTICIPANT_ADD))}g.setDebugReadReceipt=a;g.getDebugReadReceipt=b;g.setDebugPassiveMode=e;g.getDebugPassiveMode=f;g.setDebugEnableOfflineMock=k;g.getDebugEnableOfflineMock=l;g.setDebugOfflineMockTraffic=m;g.getDebugOfflineMockTraffic=n;g.setDebugDecryptFail=o;g.getDebugDecryptFail=p;g.setDebugRoutingTokenPref=q;g.getDebugRoutingTokenPref=r;g.setDebugDefaultBotOverride=s;g.getDebugDefaultBotOverride=t;g.setDebugIgnoreParticipantAdd=u;g.getDebugIgnoreParticipantAdd=v}),98);
__d("WAWebDebugRoutingToken",["invariant","WABase64","WAWebProtobufsRoutingInfo.pb","WAWebUserPrefsMultiDeviceDebug","encodeProtobuf","err","gkx","lodash"],(function(a,b,c,d,e,f,g,h){c("gkx")("26258")&&h(0,56260);function a(a){a=n(a);d("WAWebUserPrefsMultiDeviceDebug").setDebugRoutingTokenPref(a)}var i=Object.freeze({chatd:0,cbiz:1,cdev:2,cexp:3}),j=Object.freeze({frc:2,atn:5,vll:8,odn:11,nao:12});function k(a){if(a in i)return i[a];throw c("err")("Not a valid cluster "+a)}function l(a){if(a in j)return j[a];throw c("err")("Not a valid region "+a)}function m(a){var b=a.match(/^\s*(([a-z]+)([0-9]+)?\.)?(\w+)\s*$/);if(!b)throw c("err")("Invalid token: "+a);a=void 0;var d=void 0,e=b[2],f=b[3];b=b[4];e!=null?(d=k(e),a=l(b)):b in i?d=k(b):a=l(b);e=Number.parseInt(f,10);Number.isNaN(e)&&(e=void 0);return[a,d,e]}function n(a){var b=a.toLowerCase();if(!b||b.match(/^\s*default\s*$/))return"";b=c("lodash").unzip(a.split(",").map(m));a=b[0];b=b.slice(1);var e=b[0];b=b[1];var f={};e=c("lodash").uniq(e);if(e.length!==1)throw c("err")("Too many clusters: "+e.toString());else e[0]!=null&&(f.clusterId=e);b=c("lodash").uniq(b);if(b.length!==1)throw c("err")("Too many tasks: "+b.toString());else b[0]!=null&&(f.taskId=b[0]);e=c("lodash").uniq(a);b=e.findIndex(function(a){return a===void 0})!==-1;if(a.length!==e.length)throw c("err")("Redundant regions: "+a.toString());else if(e.length>1&&b)throw c("err")("May not mix clusters with and without region: "+a.toString());else b||(f.regionId=e);a=d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsRoutingInfo.pb").RoutingInfoSpec,f);return d("WABase64").encodeB64UrlSafe(a.readByteArray())}b={setDebugRoutingToken:a};g["default"]=b}),98);
__d("WAWebFeatureDetectionCryptoSupport",["Promise","WALogger"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:AES-CBC: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:AES-CBC key generation failed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:AES-CBC decryption failed: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:AES-CBC encryption/decryption is incorrect"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:AES-CBC encryption/decryption is correct"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:AES-CBC encryption failed: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:HMAC-SHA256: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:HMAC-SHA256 key generation failed: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:HMAC-SHA256 verification failed: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:HMAC-SHA256 is not verified"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:HMAC-SHA256 is verified"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["CryptoSupport:HMAC-SHA256 signing failed: ",""]);t=function(){return a};return a}var u="whatsapp is da best",v=e(u),w={name:"HMAC",hash:"SHA-256"},x={name:"AES-CBC",length:256};function y(){return(h||(h=b("Promise"))).resolve().then(function(){return self.crypto.subtle||self.crypto.webkitSubtle})}function a(){return y().then(function(a){return a.generateKey(w,!1,["sign","verify"]).then(function(b){return a.sign(w,b,v).then(function(c){return a.verify(w,b,c,v.buffer)})["catch"](function(a){d("WALogger").LOG(t(),a);return!1}).then(function(a){if(a){d("WALogger").LOG(s());return!0}d("WALogger").LOG(r());return!1})["catch"](function(a){d("WALogger").LOG(q(),a);return!1})})["catch"](function(a){d("WALogger").LOG(p(),a);return!1})})["catch"](function(a){d("WALogger").LOG(o(),a);return!1})}function c(){return y().then(function(a){return a.generateKey(x,!1,["encrypt","decrypt"]).then(function(c){return(h||(h=b("Promise"))).resolve(self.crypto).then(function(a){a=a.getRandomValues(new Uint8Array(16));a={name:"AES-CBC",iv:a};return a}).then(function(b){return a.encrypt(b,c,v).then(function(d){return a.decrypt(b,c,d)})["catch"](function(a){d("WALogger").LOG(n(),a);return!1}).then(function(a){a=new Uint8Array(a);if(z(a)===u){d("WALogger").LOG(m());return!0}d("WALogger").LOG(l());return!1})["catch"](function(a){d("WALogger").LOG(k(),a);return!1})})})["catch"](function(a){d("WALogger").LOG(j(),a);return!1})})["catch"](function(a){d("WALogger").LOG(i(),a);return!1})}function e(a){return new Uint8Array(a.split("").map(function(a){return a.charCodeAt(0)}))}function z(a){a=Array.prototype.slice.call(a);return a.map(function(a){return String.fromCharCode(a)}).join("")}g.supportsHmacSha256=a;g.supportsAesCbc=c}),98);
__d("WAWebFeatureDetectionRedirectIfMissingCapabilities",["WAPromiseProps","WAWebBuildConstants","WAWebFeatureDetectionCryptoSupport","WAWebLocalStorage","WAWebSessionStorage"],(function(a,b,c,d,e,f,g){var h=d("WAWebBuildConstants").DYN_ORIGIN+"browsers.html",i={getRandomValues:!!self.crypto.getRandomValues,subtleCrypto:!!(self.crypto&&(self.crypto.subtle||self.crypto.webkitSubtle)),localstorage:!!c("WAWebLocalStorage"),sessionstorage:!!c("WAWebSessionStorage"),url:!!self.URL,websocket:!!self.WebSocket,worker:!!self.Worker};function a(){if(j(i))return!0;d("WAPromiseProps").promiseProps({cryptoSha256:d("WAWebFeatureDetectionCryptoSupport").supportsHmacSha256(),cryptoAesCbc:d("WAWebFeatureDetectionCryptoSupport").supportsAesCbc()}).then(j);return!1}function j(a){var b=[];for(var c in a)a[c]||b.push(c);if(b.length>0){c=h+"?missing="+b.join(",");window.location.replace?window.location.replace(c):window.location.href=c;return!0}return!1}g["default"]=a}),98);
__d("WAWebCookieManager",[],(function(a,b,c,d,e,f){function a(a,b){b=["name","value","domain","path","secure","session","expirationDate"];a.session&&delete a.expirationDate;var c=[];b.forEach(function(b){var d=a[b];if(d===void 0||b==="value")return;switch(b){case"expirationDate":var e=new Date(a.expirationDate);c.push("expires="+e.toUTCString());break;case"secure":c.push("secure");break;case"name":e=a.value||"";c.push(String(d)+"="+e);break;default:c.push(b+"="+String(d))}});document.cookie=c.join(";")}function b(a){a=document.cookie.match(new RegExp("(^| )"+a+"=([^;]+)"));return a?a[2]:void 0}f.setCookie=a;f.getCookie=b}),66);
__d("WAWebFrontendL10nHelpers",["WALogger","WATimeUtils","WAWebAlarm","WAWebCookieDomain","WAWebCookieManager","WAWebL10nGetRenderedLocale","WAWebRuntimeEnvironmentUtils","WAWebURLUtils"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["l10n: renewing lang pref cookie TTL to: ",""]);h=function(){return a};return a}var i="wa_web_lang_pref",j=null,k="\ud83c\udf10",l="%F0%9F%8C%90";function m(a){if(d("WAWebRuntimeEnvironmentUtils").isWorker())return;j!=null&&c("WAWebAlarm").clearTimeout(j);var b=Date.now()+4*d("WATimeUtils").WEEK_MILLISECONDS;d("WAWebCookieManager").setCookie({name:i,value:a,path:"/",domain:d("WAWebCookieDomain").COOKIE_DOMAIN,secure:!0,expirationDate:b});j=c("WAWebAlarm").setLocalTimeout(function(){d("WALogger").LOG(h(),a),m(a)},d("WATimeUtils").castUnixTimeToMillisTime(d("WATimeUtils").futureUnixTime(2*d("WATimeUtils").WEEK_SECONDS)))}function a(){if(d("WAWebRuntimeEnvironmentUtils").isWorker())return;var a=d("WAWebCookieManager").getCookie(i);a==null?m(d("WAWebL10nGetRenderedLocale").WAWebL10nGetRenderedLocale()):m(a)}function b(){if(d("WAWebRuntimeEnvironmentUtils").isWorker()||!c("WAWebURLUtils").canMuckHistory())return;var a=self.location.href;(a.includes("/"+l+"/")||a.includes("/"+k+"/"))&&window.history.replaceState({},"","/");a=new URL(a);a.searchParams.get("locale")!=null&&(a.searchParams["delete"]("locale"),window.history.replaceState({},"",a.href))}g.setWAWebLocalePrefCookie=m;g.extendWAWebLocalePrefCookieTtl=a;g.mungeWAWebLocaleOverrideFromUrlIfNecessary=b}),98);
__d("WAWebInfraErrorLogger",["ErrorPubSub","WALogger","WALoggerUtils","justknobx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ErrorPubSub] ",""]);i=function(){return a};return a}var j=[{partialMessage:'Converting to a string will drop content data. Hash="undefined"'}],k=["ONUNHANDLEDREJECTION","ONERROR","PROMISE_DONE","REACT_FIBER","DEPRECATED"];function l(a,b){return k.includes(b)?!0:j.some(function(b){b=b.partialMessage;return String(a).includes(b)})}function a(){var a=c("justknobx")._("860");if(a===0)return;var b=d("WALoggerUtils").dynamicLoggingSampling(a/100);(h||(h=c("ErrorPubSub"))).addListener(function(a,c){c=l(a.message,c);c||d("WALogger").ERROR(i(),a.message).sendLogs("[ErrorPubSub] "+a.message,{sampling:b}).tags("ErrorPubSub")})}g.addListenerToErrorPubSub=a}),98);
__d("WAWebLoadMainBundle",["WALogger","WAWebLazyLoadedMainRequires","WAWebPageLoadLogging","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);h=function(){return a};return a}var i=c("requireDeferred")("WAWebLoadMainBundleFileDefinitions").__setRef("WAWebLoadMainBundle");function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WAWebPageLoadLogging").startPageLoadQplMeasure("loadMainBundle");var a=(yield i.load());d("WAWebLazyLoadedMainRequires").setMainBundleModules(a)}catch(a){d("WALogger").ERROR(h()).sendLogs("failed to load main bundle")}d("WAWebPageLoadLogging").endPageLoadQplMeasure("loadMainBundle")});return j.apply(this,arguments)}g.initModules=a}),98);
__d("WAWebLocalStorageUtils",["WAWebLocalStorage","WAWebUserPrefsKeys"],(function(a,b,c,d,e,f,g){function a(){return!(c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD))&&!(c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebUserPrefsKeys").KEYS.LAST_WID))}function b(){return(c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebUserPrefsKeys").KEYS.LOGOUT_DIRTY_BIT))==="1"}g.isUserLoggedOut=a;g.isLogoutDirtyBitSet=b}),98);
__d("WAWebLodashMemoizeCache",["WAMemoizeCache","lodash"],(function(a,b,c,d,e,f,g){function a(){c("lodash").memoize.Cache=d("WAMemoizeCache").MemoizeCache}g.setupLodashMemoizeCache=a}),98);
__d("WAWebLogger",["ErrorNormalizeUtils","WALogger","WATagsLogger","WAWebCrashlog","WAWebLoggerImpl","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WALogger initialized"]);h=function(){return a};return a}function i(a){switch(a){case"ERROR":case"CATCHING":return{level:4,consoleFunction:console.error};case"WARN":return{level:3,consoleFunction:console.warn};case"LOG":return{level:2,consoleFunction:console.log};case"DEV_XMPP":case"DEV":return{level:1,consoleFunction:console.info};default:return{level:2,consoleFunction:console.log}}}function j(a){var b=i(a.level);a=d("WAWebLoggerImpl").Logger.log(b.level).apply(void 0,[a.template].concat(a.expressions));c("gkx")("26258")||b.consoleFunction(a)}var k={info:function(a,b,c){j(c)},debug:function(a,b,d){c("gkx")("26258")||j(d)},logRestricted:function(a,b,d){c("gkx")("26258")||j(d)},error:function(a,b,c,d){j(d)},warn:function(a,b,c){j(c)},devConsole:function(a,b,d){if(!c("gkx")("26258")){var e;for(var f=arguments.length,g=new Array(f>3?f-3:0),h=3;h<f;h++)g[h-3]=arguments[h];(e=i(a)).consoleFunction.apply(e,[b+" devConsole:"].concat(g))}},sendLogs:function(a){var b=i(a.level),e=c("ErrorNormalizeUtils").normalizeError(c("err")("created for stack trace"));e=d("WAWebLoggerImpl").Logger.log(b.level,a.verbose,e,!1,[d("WAWebLoggerImpl").STACK_TRACE_TAG]).apply(void 0,[a.template].concat(a.expressions));c("gkx")("26258")||b.consoleFunction(e);e=d("WAWebLoggerImpl").Logger.log(b.level,a.verbose,void 0,!0,a.tags).apply(void 0,[a.template].concat(a.expressions));c("gkx")("26258")||b.consoleFunction(e);d("WAWebCrashlog").sendLogs((e=(b=a.sendLogs)==null?void 0:b.reason)!=null?e:"www_sendlogs_undefined",{sampling:(b=a.sendLogs)==null?void 0:b.sampling,tags:a.tags,sendLogsType:(e=a.sendLogs)==null?void 0:e.sendLogsType})["catch"](function(a){})}};function a(){d("WATagsLogger").initializeWaLogger(k),d("WALogger").DEV(h())}g.initializeWAWebLogger=a}),98);
__d("WAWebLoggerOnError",["WALogger","WAWebCrashlog","WAWebLoggerImpl","WAWebMiscErrors","WAWebUim","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIM Print Failed!"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ignored Error: ",""]);i=function(){return a};return a}var j=[{partialMsg:"webpackJsonp is not defined"},{partialMsg:"WUPE is not defined"},{partialMsg:"spectrum is not a function"},{partialMsg:"evaluating 'document.getElementsByClassName('_3B9bf')"},{partialMsg:"onWebLoad is not defined"}],k=[{partialUserAgent:"Chrome",partialMsg:"ResizeObserver loop limit exceeded"},{partialUserAgent:"",partialMsg:"Failed to execute 'put' on 'Cache'"}],l=[{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read property 'style' of null"},{partialUserAgent:"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36",partialMsg:"Unexpected token :"},{partialUserAgent:"Firefox/52.0,,Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.4) Gecko/20100101 Firefox/52.0",partialMsg:"Cannot read property 'style' of undefined"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15",partialMsg:"is not an object"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read property 'getElementsByTagName' of undefined"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36",partialMsg:"Can't find variable: dismissKeyboard"},{partialUserAgent:"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36",partialMsg:"ReferenceError: None is not defined"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read properties of null (reading 'style')"},{partialUserAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",partialMsg:"Cannot read properties of undefined (reading 'getElementsByTagName')"},{partialUserAgent:"Chrome/60.0.3112.113",partialMsg:"Cannot read properties of null (reading 'removeChild')"},{partialUserAgent:"Chrome/60.0.3112.113",partialMsg:"Cannot read properties of undefined (reading 'isSettingDark')"}],m=window.navigator.userAgent;function n(a){var b=[d("WAWebMiscErrors").DbOnLogoutAbort,d("WAWebMiscErrors").DbClosedOnTakeover,d("WAWebMiscErrors").DbNotFoundOnTakeover];return!b.some(function(b){return a instanceof b})}function o(a){var b=[].concat(k);c("gkx")("26258")&&b.push.apply(b,l);return b.some(function(b){var c=b.partialUserAgent;b=b.partialMsg;return m.includes(c)&&String(a).includes(b)})}function p(a,b){var c=j.some(function(b){b=b.partialMsg;return String(a).includes(b)});return c?c:b instanceof Error&&b.stack!=null&&b.stack.includes("evalmachine.<anonymous>")}function q(a){return a instanceof Error&&a.stack!=null&&a.stack.includes("chrome-extension://")}function a(a,b,e,f,g){if(o(a)){d("WALogger").WARN(i(),a||(g||"").toString());return!0}try{d("WAWebUim").UIM.pprint(!0)}catch(a){d("WALogger").WARN(h()).devConsole(a)}b=b.split("?")[0];b&&typeof e==="number"?e=" ("+b+":"+e+":"+f+")":b?e=" ("+b+")":e="";if(a==="Script error."&&!g){d("WAWebLoggerImpl").Logger.logUncaughtError(e+" "+a);b&&d("WAWebCrashlog").upload({reason:"script-error",hasTaggedMessage:!0,sendLogsType:d("WALogger").SendLogsType.UNCAUGHT_EXCEPTION});return!1}f=g instanceof Error&&g.stack?g:""+(a||"Given: "+String(g));e=d("WAWebLoggerImpl").Logger.logUncaughtError(f);if(!n(g))return c("gkx")("26258");if(p(a,g)||q(g))return c("gkx")("26258");d("WAWebCrashlog").upload({reason:e,hasTaggedMessage:!0,sendLogsType:d("WALogger").SendLogsType.UNCAUGHT_EXCEPTION})["catch"](function(){});return c("gkx")("26258")}function b(a){var b=a.promise;a=a.reason;b=d("WAWebLoggerImpl").Logger.logUncaughtError(a,b);if(!n(a))return;d("WAWebCrashlog").upload({reason:b,hasTaggedMessage:!0,sendLogsType:d("WALogger").SendLogsType.UNHANDLED_REJECTED_PROMISE})}g.onErrorHandler=a;g.onUnhandledPromiseRejection=b}),98);
__d("WAWebWebcPageLoad2WamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcPageLoad2:[5392,{webcPageLoadId:[1,d("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{WebcPageLoad2:[]});g.WebcPageLoad2WamEvent=a}),98);
__d("WAWebPageLoadLoggingImpl",["WALogger","WAQplTypes","WAWebABProps","WAWebEncryptedRid","WAWebPageLoadLogging","WAWebPonyfillsCryptoRandomUUID","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUserPrefsKeys","WAWebUserPrefsMultiDevice","WAWebUserPrefsStore","WAWebWamPageLoadReporter","WAWebWamUtils","WAWebWebcPageLoad2WamEvent","qplTimingsServerJS"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[page load] "," qpl: "," wam: "," diff: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[page load] validation finished"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[page load] validation failed"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[page load] validating qpl and wam data"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[page load] missing completion marker for "," after ","ms"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[page load] no navigation timing entry"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[page load] "," not started"]);n=function(){return a};return a}var o,p=!1,q={socket_error_count:0},r=c("WAWebPonyfillsCryptoRandomUUID")();function s(){o==null&&!p&&(o=d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.PAGE_LOAD,{timestamp:0}));return o}function t(a){var b=s();if(b==null)return;if(d("WAWebUserPrefsMultiDevice").isRegistered()){var c=d("WAWebEncryptedRid").getEncryptedRid();c!=null&&y({encrypted_rid:c})}y({qr_screen:a,is_foreground:!document.hidden,page_load_id:r});B(b);C(b);b.annotate(A(q));b.end(d("WAQplTypes").QuickLogActionType.SUCCESS);new(d("WAWebWebcPageLoad2WamEvent").WebcPageLoad2WamEvent)({webcPageLoadId:r}).commit();o=null;p=!0;F();d("WAWebABProps").getABPropConfigValue("webc_page_load_early_commit_enabled")&&d("WAWebWamPageLoadReporter").logWamPageLoad();self.setTimeout(d("WAWebWamUtils").forceFlushAllWamAndQplBuffers,1e4)}var u=new Set();function v(a){var b;(b=s())==null?void 0:b.addPoint(a+"_start");u.add(a)}function w(a){var b;if(!u.has(a)){d("WALogger").WARN(n(),a);return}(b=s())==null?void 0:b.addPoint(a+"_end");u["delete"](a)}function x(a){var b,c=Math.floor(self.performance.now());E(a,{qpl:c});(b=s())==null?void 0:b.addPoint(a,{timestamp:c})}function y(a){q=babelHelpers["extends"]({},q,a)}function z(){q.socket_error_count++}function A(a){var b={},c=Object.keys(a);for(var d=0;d<c.length;d++){var e=c[d],f=a[e];typeof f==="boolean"?(b.bool==null&&(b.bool={}),b.bool[e]=f):typeof f==="number"?(b["int"]==null&&(b["int"]={}),b["int"][e]=f):typeof f==="string"&&(b.string==null&&(b.string={}),b.string[e]=f)}return b}function B(a){var b;if(a==null)return;b=(b=window)==null?void 0:(b=b.performance)==null?void 0:b.getEntriesByType("navigation")[0];if(b==null){d("WALogger").WARN(m());return}a.addPoint("request_start",{timestamp:b.requestStart});a.addPoint("response_end",{timestamp:b.responseEnd});a.addPoint("dom_complete",{timestamp:b.domComplete})}function C(a){var b;if(a==null)return;var d=c("qplTimingsServerJS")();b=(b=self)==null?void 0:(b=b.performance)==null?void 0:(b=b.timing)==null?void 0:b.navigationStart;if(d==null||b==null)return;d=(d=Object.entries(d).find(function(a){a=a[0];return!a.includes("server")}))==null?void 0:d[1];if(d==null)return;var e={tierOne:{pageLoadQplName:"tierOne_start"},tierTwo:{pageLoadQplName:"tierTwo_start"},tierThree:{pageLoadQplName:"tierThree_start"},tierOneEnd:{pageLoadQplName:"tierOne_end"},tierTwoEnd:{pageLoadQplName:"tierTwo_end"},tierThreeEnd:{pageLoadQplName:"tierThree_end"}},f=Object.keys(d);for(var g=0;g<f.length;g++){var h=f[g];e[h]!=null&&(e[h].timestamp=d[h]-b)}h=Object.entries(e);for(f=0;f<h.length;f++){g=h[f];d=g[1];b=d.pageLoadQplName;e=d.timestamp;e!=null&&a.addPoint(b,{timestamp:e})}}var D={wamComplete:!1,qplComplete:!1,timestamps:new Map()};function E(a,b){var c=D.timestamps.get(a);c==null&&(c={},D.timestamps.set(a,c));c.qpl==null&&b.qpl!=null&&(c.qpl=b.qpl);c.wam==null&&b.wam!=null&&(c.wam=b.wam)}function F(){D.qplComplete=!0,K()}function G(){D.wamComplete=!0,K()}var H=20,I=9e4,J=null;function K(){if(!(D.wamComplete&&D.qplComplete)){J==null&&(J=self.setTimeout(function(){var a=D.wamComplete?"qpl":"wam",b="page-load-validation-missing-"+a;if(a==="wam"){var c=d("WAWebWamPageLoadReporter").getWamPageLoadTimingCompletion(),e=c.uiTimingComplete;c=c.wsTimingComplete;!e&&!c?b+="-incomplete-both-timings":!e?b+="-incomplete-ui-timing":!c?b+="-incomplete-ws-timing":b+="-completed-timings"}d("WALogger").ERROR(l(),a,I).sendLogs(b,{sampling:.01})},I));return}J!=null&&(self.clearTimeout(J),J=null);d("WALogger").DEV(k());var a=!1;for(var b=D.timestamps.entries(),c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];var m=f.qpl;f=f.wam;m!=null&&f!=null&&(Math.abs(m-f)>H&&(d("WALogger").LOG(h(),g,m,f,Math.abs(m-f)),a=!0))}a&&d("WALogger").WARN(j()).sendLogs("page-load-validation",{sampling:.01});d("WALogger").DEV(i())}function a(){return null;return c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.PageLoadDebug)!==!0?null:self.performance}function b(){d("WAWebPageLoadLogging").setImpl({endPageLoadQpl:t,endPageLoadQplMeasure:w,startPageLoadQplMeasure:v,addPageLoadQplPoint:x,addPageLoadQplAnnotation:y,incrementPageLoadQplSocketError:z,addPageLoadValidationData:E,setWamCompleteForValidation:G,PAGE_LOAD_ID:r})}g.endPageLoadQpl=t;g.startPageLoadQplMeasure=v;g.endPageLoadQplMeasure=w;g.addPageLoadQplPoint=x;g.addPageLoadQplAnnotation=y;g.incrementPageLoadQplSocketError=z;g.addPageLoadValidationData=E;g.setWamCompleteForValidation=G;g.setPageLoadLoggingImpl=b}),98);
__d("WAWebQplQuickPerformanceLoggerInit",["Promise","WALogger","WAQplConfigTypes","WAQplNetwork","WAQuickPerformanceLogger","WAWebApiQplEvents","WAWebQplHealthLogger","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebQplStorageApi","WAWebQplValuesConfig","WAWebXHR","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL ondemand upload event failure"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," failed to upload successfully"]);j=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["QPL, got event during STARTUP ",", duration: ","ms, ",""]);a=function(){return b};return b}var k=[(f=d("WAWebQplQuickPerformanceLoggerMarkerIds")).QuickLogMarkerId.WHATSAPP_WEB_TEST_EVENT,f.QuickLogMarkerId.SYNCD,f.QuickLogMarkerId.ALTERNATIVE_DEVICE_LINKING,f.QuickLogMarkerId.OFFLINE_RESUME,f.QuickLogMarkerId.DESKTOP_UPSELL_LINK_DEVICE_METRICS,f.QuickLogMarkerId.PAGE_LOAD],l=new Map([[f.QuickLogMarkerId.SYNCD,100]]),m={cast:function(a){return d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(a)},getName:function(a){return d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.getName(a)}};function e(){c("gkx")("26258")||d("WAWebQplQuickPerformanceLoggerModule").updateAllowlistDevVerboseLoggingOverrides();d("WAQuickPerformanceLogger").QPL.setAllowListDevVerboseLogging(d("WAWebQplQuickPerformanceLoggerModule").ALLOWLIST_DEV_VERBOSE_LOGGING.map(function(a){return a}));d("WAQuickPerformanceLogger").QPL.setStartupAllowListEventFilter(k);d("WAQuickPerformanceLogger").QPL.setQplReducePrecisionMapMs(l);var a=new(d("WAWebQplStorageApi").QplStorageApi)();d("WAQuickPerformanceLogger").QPL.setStorageApi(a);d("WAQuickPerformanceLogger").QPL.setHealthLogger(d("WAWebQplHealthLogger"));d("WAQuickPerformanceLogger").QPL.setEnumConversion(m);var e=!1;d("WAQuickPerformanceLogger").QPL.setIsDev(e);d("WAQuickPerformanceLogger").QPL.init(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){if(d("WAWebQplQuickPerformanceLoggerModule").ALLOWLIST_IMMEDIATE_UPLOAD.includes(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(e.marker_id))){f={post:c("WAWebXHR").post};d("WAQplNetwork").defaultQplNetwork({restInterface:f,isDev:0,qplAccessToken:d("WAWebQplValuesConfig").qplConfigs.accessToken,qplAppId:d("WAWebQplValuesConfig").qplConfigs.appId,qplEndpoint:d("WAWebQplValuesConfig").qplConfigs.endpoint});try{yield d("WAQplNetwork").defaultQplNetwork().sendEventsOverNetwork(d("WAWebApiQplEvents").createRows([e]))}catch(a){f=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(e.marker_id);f&&d("WALogger").LOG(j(),d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.getName(f));d("WALogger").ERROR(i()).tags("qpl").sendLogs("QPL ondemand upload event failure")}}else a.add([e]);return(h||(h=b("Promise"))).resolve()});return function(a,b){return e.apply(this,arguments)}}(),function(a){return{sampleRate:k.includes(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.cast(a))?1:0,samplingMethod:d("WAQplConfigTypes").QplSampleMethod.EVENT_BASED_SAMPLING}},function(){return!0})}g.initializeQpl=e}),98);
__d("WAWebCollectionVersionStore",["WAWebSchemaCollectionVersion"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var b=a.prototype;b.get=function(a){return d("WAWebSchemaCollectionVersion").getCollectionVersionTable().get(a)};b.bulkGet=function(a){return d("WAWebSchemaCollectionVersion").getCollectionVersionTable().bulkGet(a)};b.getAll=function(){return d("WAWebSchemaCollectionVersion").getCollectionVersionTable().all()};b.update=function(a,b){return d("WAWebSchemaCollectionVersion").getCollectionVersionTable().createOrMerge(a,babelHelpers["extends"]({collection:a},b))};b.bulkUpdate=function(a){return d("WAWebSchemaCollectionVersion").getCollectionVersionTable().bulkCreateOrMerge(a)};b.clear=function(){return d("WAWebSchemaCollectionVersion").getCollectionVersionTable().clear()};return a}();a.locks=["collection-version"];g.WAWebCollectionVersionStore=a}),98);
__d("WAWebMissingKeyStore",["WAWebSchemaMissingKeys","WAWebSyncdDb"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var b=a.prototype;b.getAll=function(){return d("WAWebSyncdDb").getAllMissingKeys()};b.bulkGet=function(a){return d("WAWebSyncdDb").bulkGetMissingKeys(a)};b.count=function(){return d("WAWebSyncdDb").getMissingKeyCount()};b.bulkUpdate=function(a){return d("WAWebSyncdDb").createOrUpdateMissingKeys(a)};b.bulkRemove=function(a){return d("WAWebSyncdDb").bulkRemoveMissingKeys(a)};b.clear=function(){return d("WAWebSchemaMissingKeys").getMissingKeysTable().clear()};return a}();a.locks=["missing-keys"];g.WAWebMissingKeyStore=a}),98);
__d("WAWebPendingMutationStore",["WAWebSchemaPendingMutations","WAWebSyncdDb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var c=a.prototype;c.getByCollection=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSyncdDb").getPendingMutationsRows(["collection"],a));return a.map(d("WAWebSchemaPendingMutations").convertToPendingMutationFromRow)});function c(b){return a.apply(this,arguments)}return c}();c.getAll=function(){return d("WAWebSyncdDb").getAllPendingMutationsRows()};c.bulkCreate=function(a){return d("WAWebSyncdDb").appendPendingMutationsRows(a).then(function(){})};c.bulkRemove=function(a){return d("WAWebSyncdDb").bulkRemovePendingMutations(a)};c.clear=function(){return d("WAWebSchemaPendingMutations").getPendingMutationsTable().clear()};return a}();a.locks=["pending-mutations"];g.WAWebPendingMutationStore=a}),98);
__d("WAWebSyncActionStore",["WAWebSchemaSyncActions","WAWebSyncdDb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var c=a.prototype;c.count=function(){return d("WAWebSchemaSyncActions").getSyncActionsTable().count()};c.get=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSyncdDb").getSyncAction(a));return a==null?null:d("WAWebSchemaSyncActions").convertToSyncActionFromRow(a)});function c(b){return a.apply(this,arguments)}return c}();c.getByCollections=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSyncdDb").getSyncActionsRows(["collection"],a.map(function(a){return a})));return a.map(d("WAWebSchemaSyncActions").convertToSyncActionFromRow)});function c(b){return a.apply(this,arguments)}return c}();c.getByIndexMacs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSyncdDb").getSyncActionsRows(["indexMac"],a.map(function(a){return a})));return a.map(d("WAWebSchemaSyncActions").convertToSyncActionFromRow)});function c(b){return a.apply(this,arguments)}return c}();c.getByActionStates=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSyncdDb").getSyncActionsRows(["actionState"],a.map(function(a){return a})));return a.map(d("WAWebSchemaSyncActions").convertToSyncActionFromRow)});function c(b){return a.apply(this,arguments)}return c}();c.getByModelInfos=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSyncdDb").getSyncActionsRows(["modelId","modelType","actionState"],a.map(function(a){return a})));return a.map(d("WAWebSchemaSyncActions").convertToSyncActionFromRow)});function c(b){return a.apply(this,arguments)}return c}();c.getAll=function(){return d("WAWebSchemaSyncActions").getSyncActionsTable().all().then(function(a){return a.map(d("WAWebSchemaSyncActions").convertToSyncActionFromRow)})};c.bulkSet=function(a){return d("WAWebSyncdDb").setSyncActionRows(a.map(d("WAWebSchemaSyncActions").convertFromSyncActionToRow))};c.bulkUpdate=function(a){return d("WAWebSyncdDb").updateSyncActionRows(a.map(d("WAWebSchemaSyncActions").convertFromSyncActionToRow))};c.bulkRemove=function(a){return d("WAWebSyncdDb").deleteSyncActionRows(a)};c.clear=function(){return d("WAWebSchemaSyncActions").getSyncActionsTable().clear()};return a}();a.locks=["sync-actions"];g.WAWebSyncActionStore=a}),98);
__d("WAWebSyncKeyStore",["WAWebSchemaSyncKeys","WAWebSyncdDb"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var b=a.prototype;b.get=function(a){return d("WAWebSyncdDb").getSyncKey(a)};b.getAll=function(){return d("WAWebSyncdDb").getAllSyncKeys()};b.set=function(a){return d("WAWebSyncdDb").createSyncKey(a).then(function(){})};b.expire=function(a){return d("WAWebSyncdDb").expireSyncKey(a)};b.clear=function(){return d("WAWebSchemaSyncKeys").getSyncKeysTable().clear()};return a}();a.locks=["sync-keys"];g.WAWebSyncKeyStore=a}),98);
__d("WAWebRunInTransaction",["Promise","WAWeb-dexie","WAWebCollectionVersionStore","WAWebMissingKeyStore","WAWebModelStorageUtils","WAWebPendingMutationStore","WAWebSyncActionStore","WAWebSyncKeyStore","err"],(function(a,b,c,d,e,f,g){var h,i={SyncActionStore:d("WAWebSyncActionStore").WAWebSyncActionStore,CollectionVersionStore:d("WAWebCollectionVersionStore").WAWebCollectionVersionStore,PendingMutationStore:d("WAWebPendingMutationStore").WAWebPendingMutationStore,MissingKeyStore:d("WAWebMissingKeyStore").WAWebMissingKeyStore,SyncKeyStore:d("WAWebSyncKeyStore").WAWebSyncKeyStore};a=function(a,e){if(c("WAWeb-dexie").currentTransaction!=null)return(h||(h=b("Promise"))).reject(c("err")("Calling runInTransaction recursively. This is not allowed."));var f=Object.keys(a);a=f.flatMap(function(a){return i[a].locks});return d("WAWebModelStorageUtils").getStorage().lock(a,function(){var a={};for(var b=0;b<f.length;b++){var c=f[b];a[c]=new i[c]()}return e(a)})};g.runInTransaction=a}),98);
__d("WAWebStringPolyfills",[],(function(a,b,c,d,e,f){function a(){String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){function c(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return Object.prototype.toString.call(a).toLowerCase()==="[object regexp]"?this.replace(a,b):this.replace(new RegExp(c(a),"g"),b)})}f.polyfillStringReplaceAll=a}),66);
__d("WAWebWAWCInit",["WAWebWAWCStorage"],(function(a,b,c,d,e,f,g){function a(){return c("WAWebWAWCStorage").openDB()}g.initWAWC=a}),98);
__d("WAWebCollectionHandlerWamMutation",["WASyncdMetrics","WATimeUtils","WAWebMdAppStateMessageRangeWamEvent","WAWebMdBootstrapDataAppliedWamEvent","WAWebSyncdMdSyncFieldstatMeta","WAWebSyncdUtils","WAWebWamEnumMdBootstrapPayloadType","WAWebWamEnumMdBootstrapSource","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){new(d("WAWebMdAppStateMessageRangeWamEvent").MdAppStateMessageRangeWamEvent)({additionalMessagesCount:a}).commit()}function c(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){new(d("WAWebMdBootstrapDataAppliedWamEvent").MdBootstrapDataAppliedWamEvent)({mdBootstrapPayloadType:d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.NON_CRITICAL,mdBootstrapSource:d("WAWebWamEnumMdBootstrapSource").MD_BOOTSTRAP_SOURCE.APP_STATE,mdSessionId:yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId(),mdTimestamp:d("WATimeUtils").unixTimeMs(),mdBootstrapStepDuration:c,collection:d("WAWebSyncdUtils").collectionNameToMetric(a),usedSnapshot:b===d("WASyncdMetrics").SyncdBootstrapDataAppliedSnapshotUsed.SNAPSHOT_USED}).commit()});return h.apply(this,arguments)}g.logMetricsForMutationLength=a;g.logMetricsForDataApplied=c}),98);
__d("WAWebCollectionHandlerWamSyncUtil",["WALongInt","WASyncdConst","WATimeUtils","WAWebMdBootstrapAppStateDataDownloadedWamEvent","WAWebSyncdMdSyncFieldstatMeta","WAWebWamEnumMdBootstrapPayloadType","WAWebWamEnumMdBootstrapStepResult","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=new(d("WAWebMdBootstrapAppStateDataDownloadedWamEvent").MdBootstrapAppStateDataDownloadedWamEvent)({mdBootstrapPayloadType:[d("WASyncdConst").CollectionName.CriticalBlock,d("WASyncdConst").CollectionName.CriticalUnblockLow].includes(a)?d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.CRITICAL:d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.NON_CRITICAL,mdTimestamp:d("WATimeUtils").unixTimeMs(),mdBootstrapStepDuration:d("WATimeUtils").unixTimeMs()-b,mdBootstrapStepResult:e==="success"?d("WAWebWamEnumMdBootstrapStepResult").MD_BOOTSTRAP_STEP_RESULT.SUCCESS:d("WAWebWamEnumMdBootstrapStepResult").MD_BOOTSTRAP_STEP_RESULT.FAILURE,mdSessionId:yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId()});b=(yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getStorageEstimation());b.mdStorageQuotaBytes!==d("WAWebSyncdMdSyncFieldstatMeta").STORAGE_QUOTA_UNAVAILABLE&&(a.mdStorageQuotaUsedBytes=b.mdStorageQuotaUsedBytes,a.mdStorageQuotaBytes=b.mdStorageQuotaBytes);try{e=d("WALongInt").maybeNumberOrThrowIfTooLarge(c);e!=null&&(a.mdBootstrapPayloadSize=e)}catch(a){}a.commit()});return h.apply(this,arguments)}g.commitBootstrapAppStateDownloadMetric=a}),98);
__d("WAWebSyncdMetricCriticalBootstrapStageListener",["WASyncdMetricCriticalBootstrapStage","WAWebCollectionHandlerWamMutation","WAWebSyncdCriticalBootstrapProcessingApi","WAWebWamEnumBootstrapAppStateDataStageCode"],(function(a,b,c,d,e,f,g){function a(a){var b=a.stage;a=a.annotations;if(b!=="SUCCESS")return;b=d("WASyncdMetricCriticalBootstrapStage").convertSyncdDecryptMutationsMetricsFromAnnotations(a);if(b==null)return;b.decryptedMutationMessageRangeCountArray.forEach(function(a){return d("WAWebCollectionHandlerWamMutation").logMetricsForMutationLength(a)})}function b(a){if(a.stage!=="SUCCESS")return;a=d("WASyncdMetricCriticalBootstrapStage").convertSyncdCriticalBootstrapStageFromAnnotations(a.annotations);if(a==null)return;d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(h(a.type))}function h(a){switch(a){case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.ABOUT_TO_APPLY_MUTATIONS:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.ABOUT_TO_APPLY_MUTATIONS;case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.APPLIED_MUTATIONS:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.APPLIED_MUTATIONS;case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.MUTATIONS_DECRYPTED:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MUTATIONS_DECRYPTED;case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.REQUEST_BUILT:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.REQUEST_BUILT;case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.RESPONSE_RECEIVED:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.RESPONSE_RECEIVED;case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.RESPONSE_PARSED_VALID:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.RESPONSE_PARSED_VALID;case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.ENTERED_RETRY_MODE:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.ENTERED_RETRY_MODE;case d("WASyncdMetricCriticalBootstrapStage").SyncdCriticalBootstrapStageType.MISSING_KEYS_RECEIVED:return d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MISSING_KEYS_RECEIVED}}g.syncdDecryptMutationsMetricsLogger=a;g.syncdCriticalBootstrapStageLogger=b}),98);
__d("WAWebSyncdMetricFatalErrorListener",["WASyncdMetricFatalError","WAWebSyncdUploadFatalErrorMetric","WAWebWamEnumMdSyncdFatalErrorCode"],(function(a,b,c,d,e,f,g){function a(a){var b=a.stage;a=a.annotations;if(b!=="FAIL")return;b=d("WASyncdMetricFatalError").convertSyncdFatalErrorFromAnnotations(a);if(b==null){d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.UNKNOWN,null);return}d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(h(b.type),b.collection==null?null:b.collection,b.patchSnapshotMutationCount==null?void 0:b.patchSnapshotMutationCount,b.patchVersion==null?void 0:b.patchVersion,b.isFatal==null?void 0:b.isFatal,b.isLtHashConsistent==null?void 0:b.isLtHashConsistent,b.macFatalCollectionNameMismatch==null?void 0:b.macFatalCollectionNameMismatch,b.macFatalCurrentLthashMismatch==null?void 0:b.macFatalCurrentLthashMismatch,b.macFatalNewLthashMismatch==null?void 0:b.macFatalNewLthashMismatch,b.macFatalPatchVersionMismatch==null?void 0:b.macFatalPatchVersionMismatch,b.macFatalNewLthashSubtractMismatch==null?void 0:b.macFatalNewLthashSubtractMismatch,b.macFatalNumberHasOverrideMutation==null?void 0:b.macFatalNumberHasOverrideMutation,b.macFatalNumberNumAddMutation==null?void 0:b.macFatalNumberNumAddMutation,b.macFatalNumberNumRemoveMutation==null?void 0:b.macFatalNumberNumRemoveMutation,b.macFatalSenderCurrentLthashToLocalCalculatedCurrentLthashMismatch==null?void 0:b.macFatalSenderCurrentLthashToLocalCalculatedCurrentLthashMismatch,b.isPatchSenderPrimary==null?void 0:b.isPatchSenderPrimary,b.macFatalDidUseMacFetchFallback==null?void 0:b.macFatalDidUseMacFetchFallback,b.macFatalHasMissingRemove==null?void 0:b.macFatalHasMissingRemove,b.macFatalNumberAddMismatch==null?void 0:b.macFatalNumberAddMismatch,b.macFatalNumberRemoveMismatch==null?void 0:b.macFatalNumberRemoveMismatch,b.macFatalDidPreviousPatchFailPostSaveValidation==null?void 0:b.macFatalDidPreviousPatchFailPostSaveValidation,b.macFatalPreviousPatchNewLthashToCurrentPatchCurrentLthash==null?void 0:b.macFatalPreviousPatchNewLthashToCurrentPatchCurrentLthash,b.isPreviousPatchAnIncomingPatch==null?void 0:b.isPreviousPatchAnIncomingPatch,b.isLastPatchSenderAPrimaryDevice==null?void 0:b.isLastPatchSenderAPrimaryDevice,b.isSenderIndexSameAsPreviousSenderIndex==null?void 0:b.isSenderIndexSameAsPreviousSenderIndex,b.didBootstrapFromSnapshot==null?void 0:b.didBootstrapFromSnapshot,b.isThereAnotherSyncdCompanion==null?void 0:b.isThereAnotherSyncdCompanion)}function h(a){switch(a){case d("WASyncdMetricFatalError").SyncdFatalErrorType.PATCH_PROTOBUF_SERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.PATCH_PROTOBUF_SERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MUTATIONS_PROTOBUF_SERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MUTATIONS_PROTOBUF_SERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.ACTION_DATA_PROTOBUF_SERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.ENCRYPTION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.ENCRYPTION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_SNAPSHOT_VERSION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_SNAPSHOT_VERSION;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_SNAPSHOT_MAC:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_SNAPSHOT_MAC;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_SNAPSHOT_KEY_ID:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_SNAPSHOT_KEY_ID;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_VERSION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_VERSION;case d("WASyncdMetricFatalError").SyncdFatalErrorType.PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.PATCH_WITH_BOTH_INLINE_AND_EXTERNAL_MUTATIONS;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_SNAPSHOT_MAC:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_SNAPSHOT_MAC;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_MAC:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_MAC;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_PATCH_KEY_ID:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_PATCH_KEY_ID;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_MEDIA_KEY;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_DIRECT_PATH;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_SHA256;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_EXTERNAL_BLOB_REFERENCE_FILE_ENC_SHA256;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_OPERATION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_OPERATION;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_RECORD:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_RECORD;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_INDEX:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_INDEX;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_VALUE:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_VALUE;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_MUTATION_KEY_ID:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_MUTATION_KEY_ID;case d("WASyncdMetricFatalError").SyncdFatalErrorType.EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.EXTERNAL_BLOB_REFERENCE_PROTOBUF_DESERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SNAPSHOT_PROTOBUF_DESERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.PATCH_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.PATCH_PROTOBUF_DESERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MUTATIONS_PROTOBUF_DESERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.ACTION_DATA_PROTOBUF_DESERIALIZATION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_INDEX:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_INDEX;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_VERSION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_VERSION;case d("WASyncdMetricFatalError").SyncdFatalErrorType.SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SNAPSHOT_MAC_MISMATCH_IN_SNAPSHOT;case d("WASyncdMetricFatalError").SyncdFatalErrorType.SNAPSHOT_MAC_MISMATCH_IN_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SNAPSHOT_MAC_MISMATCH_IN_PATCH;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MAC_MISMATCH_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MAC_MISMATCH_PATCH;case d("WASyncdMetricFatalError").SyncdFatalErrorType.DECRYPTION_FAILED:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.DECRYPTION_FAILED;case d("WASyncdMetricFatalError").SyncdFatalErrorType.DUPLICATE_PATCH_VERSION_IN_COLLECTION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.DUPLICATE_PATCH_VERSION_IN_COLLECTION;case d("WASyncdMetricFatalError").SyncdFatalErrorType.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_PATCH;case d("WASyncdMetricFatalError").SyncdFatalErrorType.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SAME_INDEX_FOR_MULTIPLE_MUTATIONS_IN_SNAPSHOT;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_VALUE:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_VALUE;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_ACTION_TIMESTAMP:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_ACTION_TIMESTAMP;case d("WASyncdMetricFatalError").SyncdFatalErrorType.XMPP_BAD_REQUEST_FOR_COLLECTION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_BAD_REQUEST_FOR_COLLECTION;case d("WASyncdMetricFatalError").SyncdFatalErrorType.XMPP_NOT_FOUND_FOR_COLLECTION:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_NOT_FOUND_FOR_COLLECTION;case d("WASyncdMetricFatalError").SyncdFatalErrorType.CYCLIC_MUTATION_DEPENDENCY_IN_PATCH:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.CYCLIC_MUTATION_DEPENDENCY_IN_PATCH;case d("WASyncdMetricFatalError").SyncdFatalErrorType.SERVER_DID_NOT_SEND_ALL_PATCHES:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.SERVER_DID_NOT_SEND_ALL_PATCHES;case d("WASyncdMetricFatalError").SyncdFatalErrorType.TERMINAL_PATCH_MISSING_DATA:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TERMINAL_PATCH_MISSING_DATA;case d("WASyncdMetricFatalError").SyncdFatalErrorType.TERMINAL_PATCH_DESERIALIZATION_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TERMINAL_PATCH_DESERIALIZATION_ERROR;case d("WASyncdMetricFatalError").SyncdFatalErrorType.TERMINAL_PATCH_UNKNOWN:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TERMINAL_PATCH_UNKNOWN;case d("WASyncdMetricFatalError").SyncdFatalErrorType.INVALID_ACTION_INDEX:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_ACTION_INDEX;case d("WASyncdMetricFatalError").SyncdFatalErrorType.XMPP_BAD_REQUEST_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_BAD_REQUEST_GLOBAL_ERROR;case d("WASyncdMetricFatalError").SyncdFatalErrorType.XMPP_NOT_FOUND_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_NOT_FOUND_GLOBAL_ERROR;case d("WASyncdMetricFatalError").SyncdFatalErrorType.XMPP_BAD_METHOD_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_BAD_METHOD_GLOBAL_ERROR;case d("WASyncdMetricFatalError").SyncdFatalErrorType.XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.XMPP_NOT_ACCEPTABLE_GLOBAL_ERROR;case d("WASyncdMetricFatalError").SyncdFatalErrorType.TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TOO_MANY_INTERNAL_SERVER_ERRORS_IN_7D;case d("WASyncdMetricFatalError").SyncdFatalErrorType.TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.TIMEOUT_WHILE_WAITING_FOR_MISSING_KEY;case d("WASyncdMetricFatalError").SyncdFatalErrorType.MISSING_KEY_ON_ALL_CLIENTS:return d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.MISSING_KEY_ON_ALL_CLIENTS}}g.syncdFatalErrorLogger=a}),98);
__d("WAWebSyncdQpl",["WABaseGlobals","WALogger","WAQplTypes","WASyncdMetrics","WAWebOfflineHandler","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSyncBootstrap","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[qpl] marker ended for id ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[qpl] new marker point "," added for id ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[qpl] new annotations added for id ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[qpl] marker started with id ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[qpl] new instance key created ",""]);l=function(){return a};return a}var m=["source"];function n(a){if((a==null?void 0:a.string)==null)return;var b=a.string,c={};Object.keys(a.string).forEach(function(a){m.includes(a)||(c[a]=b[a])});a.string=c}function o(a,b){var c;if((b==null?void 0:(c=b.string)==null?void 0:c.source)==null)return a;var d=b.string;c=Object.keys(d).filter(function(a){return m.includes(a)});return[c.map(function(a){return d[a]}),a].join("_")}function p(){if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return"bootstrap";return!d("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()?"offline_resume":"online"}a=function(){function a(){this.$3=p(),this.$4=d("WABaseGlobals").getConfig().syncdQPLLoggingEnabled()&&(this.$3==="bootstrap"||this.$3==="offline_resume"),this.$4&&(this.$1=d("WAWebQplQuickPerformanceLoggerModule").QPL.getNextMarkerInstanceValue(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD)),d("WALogger").DEV(l(),this.$1)}var b=a.prototype;b.$5=function(){if(!this.$4)return!1;if(!this.$2)throw c("err")("QPL instance ${this._instanceKey} is not started");return!0};b.start=function(){if(!this.$4)return;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,{instanceKey:this.$1});this.$2=!0;this.annotate({when:this.$3});d("WALogger").DEV(k(),this.$1)};b.annotate=function(a){if(!this.$5())return;a=d("WASyncdMetrics").constructAnnotationsFromContext(a);n(a);a&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,a,{instanceKey:this.$1}),d("WALogger").DEV(j(),this.$1))};b.mark=function(a,b){if(!this.$5())return;b=d("WASyncdMetrics").constructAnnotationsFromContext(b);this.$6(a,b)};b.markAnnotations=function(a,b){if(!this.$5())return;this.$6(a,b)};b.$6=function(a,b){var c=o(a,b);n(b);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,c,babelHelpers["extends"]({},b&&{data:b},{instanceKey:this.$1}));d("WALogger").DEV(i(),a,this.$1)};b.end=function(a){a===void 0&&(a=!1);if(!this.$5())return;this.$2=!1;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.SYNCD,a?d("WAQplTypes").QuickLogActionType.FAIL:d("WAQplTypes").QuickLogActionType.SUCCESS,{instanceKey:this.$1});d("WALogger").DEV(h(),this.$1)};return a}();g.SyncdQPL=a}),98);
__d("WAWebWamPREListeners",["WALogger","WAPREList","WAPREMetrics","WASyncdMetrics","WASyncdWamAppState","WAWebCmd","WAWebCollectionHandlerWamMutation","WAWebCollectionHandlerWamSyncUtil","WAWebMdAppStateKeyRotationWamEvent","WAWebMdAppStateSyncDailyWamEvent","WAWebSyncdMetricCriticalBootstrapStageListener","WAWebSyncdMetricFatalErrorListener","WAWebSyncdQpl","WAWebSyncdUtils","WAWebWamEnumMdAppStateKeyRotationReasonCode","WAWebWamEnumMdSyncdCriticalEventCode"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[syncd] Unknown syncd PRE instance key: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unhandled metric event: ",""]);i=function(){return a};return a}function a(){d("WAPREMetrics").subscribe(j),d("WAWebCmd").Cmd.on("logout",d("WASyncdWamAppState").forceCommitAppState)}function j(a){var b=a.name;switch(b){case d("WAPREList").PRE_METRIC.SYNCD_FATAL_ERROR:d("WAWebSyncdMetricFatalErrorListener").syncdFatalErrorLogger(a);break;case d("WAPREList").PRE_METRIC.APP_STATE_SYNC_DAILY:q(a);break;case d("WAPREList").PRE_METRIC.SYNCD_CRITICAL_EVENT:m(a);break;case d("WAPREList").PRE_METRIC.SYNCD_CRITICAL_BOOTSTRAP_STAGE:d("WAWebSyncdMetricCriticalBootstrapStageListener").syncdCriticalBootstrapStageLogger(a);break;case d("WAPREList").PRE_METRIC.SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:k(a);break;case d("WAPREList").PRE_METRIC.SYNCD_DECRYPT_MUTATIONS:d("WAWebSyncdMetricCriticalBootstrapStageListener").syncdDecryptMutationsMetricsLogger(a);break;case d("WAPREList").PRE_METRIC.SYNCD_BOOTSTRAP_DATA_APPLIED:l(a);break;case d("WAPREList").PRE_METRIC.SYNCD_KEY_ROTATION:o(a);break;case d("WAPREList").PRE_METRIC.SYNCD:s(a);break;case d("WAPREList").PRE_METRIC.WA_JOBS_ORCHESTRATOR:case d("WAPREList").PRE_METRIC.WA_JOB_MANAGER:default:d("WALogger").ERROR(i(),b);break}}function k(a){if(a.stage!=="FAIL"&&a.stage!=="SUCCESS")return;a=d("WASyncdMetrics").convertSyncdBootstrapAppStateDownloadFromAnnotations(a.annotations);if(a==null)return;d("WAWebCollectionHandlerWamSyncUtil").commitBootstrapAppStateDownloadMetric(a.collection,a.downloadStartTs,a.downloadSize,a.isSuccess)}function l(a){if(a.stage!=="SUCCESS")return;a=d("WASyncdMetrics").convertSyncdBootstrapDataAppliedFromAnnotations(a.annotations);if(a==null)return;d("WAWebCollectionHandlerWamMutation").logMetricsForDataApplied(a.collection,a.snapshotUsed,a.durationMs)}function m(a){if(a.stage!=="FAIL")return;a=d("WASyncdMetrics").convertSyncdCriticalEventFromAnnotations(a.annotations);if(a==null)return;d("WAWebSyncdUtils").uploadCriticalEventMetric(n(a.type),a.collection)}function n(a){switch(a){case d("WASyncdMetrics").SyncdCriticalEventType.MISSING_MUTATION_TO_REMOVE:return d("WAWebWamEnumMdSyncdCriticalEventCode").MD_SYNCD_CRITICAL_EVENT_CODE.MISSING_MUTATION_TO_REMOVE}}function o(a){if(a.stage!=="SUCCESS")return;a=d("WASyncdMetrics").convertSyncdKeyRotationEventFromAnnotations(a.annotations);if(a==null)return;new(d("WAWebMdAppStateKeyRotationWamEvent").MdAppStateKeyRotationWamEvent)({mdAppStateKeyRotationReason:p(a.type)}).commit()}function p(a){switch(a){case d("WASyncdMetrics").SyncdKeyRotationEventType.APP_STATE_SYNC_KEY_EXPIRY:return d("WAWebWamEnumMdAppStateKeyRotationReasonCode").MD_APP_STATE_KEY_ROTATION_REASON_CODE.APP_STATE_SYNC_KEY_EXPIRY;case d("WASyncdMetrics").SyncdKeyRotationEventType.DEVICE_DEREGISTERATION:return d("WAWebWamEnumMdAppStateKeyRotationReasonCode").MD_APP_STATE_KEY_ROTATION_REASON_CODE.DEVICE_DEREGISTERATION;case d("WASyncdMetrics").SyncdKeyRotationEventType.NO_KEYS:return d("WAWebWamEnumMdAppStateKeyRotationReasonCode").MD_APP_STATE_KEY_ROTATION_REASON_CODE.NO_KEYS}}function q(a){var b=a.stage;a=a.annotations;if(b!=="SUCCESS")return;b=d("WASyncdWamAppState").convertAppStateSyncDailyFromAnnotations(a||{});a=new(d("WAWebMdAppStateSyncDailyWamEvent").MdAppStateSyncDailyWamEvent)();b.mutationCount>0&&(a.mutationCount=b.mutationCount);b.invalidActionCount>0&&(a.invalidActionCount=b.invalidActionCount);b.unsupportedActionCount>0&&(a.unsupportedActionCount=b.unsupportedActionCount);b.keyRotationRemoveCount>0&&(a.keyRotationRemoveCount=b.keyRotationRemoveCount);b.storedMutationCount>0&&(a.storedMutationCount=b.storedMutationCount);b.uploadConflictCount>0&&(a.uploadConflictCount=b.uploadConflictCount);b.unsetActionCount>0&&(a.unsetActionCount=b.unsetActionCount);b.missingKeyCount>0&&(a.missingKeyCount=b.missingKeyCount);a.commit()}var r=new Map();function s(a){var b=a.instanceKey,c=a.annotations;if(a.stage==="START"){var e=new(d("WAWebSyncdQpl").SyncdQPL)();e.start();r.set(b,e);return}e=r.get(b);if(e==null){d("WALogger").ERROR(h(),b);return}switch(a.stage){case"POINT":e.markAnnotations(a.reason,c);break;case"SUCCESS":e.end();r["delete"](b);break;case"FAIL":e.end(!0);r["delete"](b);break}}g.initializePREMetrics=a}),98);
__d("WAWebWamEnumConnectionOriginType",[],(function(a,b,c,d,e,f){a=Object.freeze({PERSON:1,PUSH:2,OTHER:3,BACKOFF:4});f.CONNECTION_ORIGIN_TYPE=a}),66);
__d("WAWebWamEnumConnectionSequenceStepType",[],(function(a,b,c,d,e,f){a=Object.freeze({PUSH_OVERRIDES:1,PRIMARY:2,PUSH_FALLBACKS:4,HOST_FALLBACK:5,NO_DNS:6,SOFTLAYER:7,PRIMARY_HTTP:8,SOFTLAYER_HTTP:9,HOST_FALLBACK_HTTP:10,NO_DNS_HTTP:11});f.CONNECTION_SEQUENCE_STEP_TYPE=a}),66);
__d("WAWebWamEnumDnsResolutionMethodType",[],(function(a,b,c,d,e,f){a=Object.freeze({SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4});f.DNS_RESOLUTION_METHOD_TYPE=a}),66);
__d("WAWebWamEnumLoginDnsResolverType",[],(function(a,b,c,d,e,f){a=Object.freeze({SYSTEM:1,GOOGLE:2,HARDCODED:3,NO_DNS:4});f.LOGIN_DNS_RESOLVER_TYPE=a}),66);
__d("WAWebWamEnumLoginHostType",[],(function(a,b,c,d,e,f){a=Object.freeze({PUSH_OVERRIDES:1,G_WHATSAPP_NET:2,PUSH_FALLBACKS:3,G_FALLBACK_WHATSAPP_NET:4,HARDCODED_LIST:5,EX_WHATSAPP_NET:6});f.LOGIN_HOST_TYPE=a}),66);
__d("WAWebWamEnumLoginPortNumber",[],(function(a,b,c,d,e,f){a=Object.freeze({P5222:1,P443:2,P80:3,UNKNOWN:4});f.LOGIN_PORT_NUMBER=a}),66);
__d("WAWebWamEnumLoginResultType",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:1,ERROR_UNKNOWN:2,SERVER_ERROR:3,SERVER_GOAWAY:4,NETWORK_ERROR:5,ANDROID_KEYSTORE_ERROR:6,CERTIFICATE_ERROR:7});f.LOGIN_RESULT_TYPE=a}),66);
__d("WAWebLoginWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAndroidKeystoreStateType","WAWebWamEnumConnectionOriginType","WAWebWamEnumConnectionSequenceStepType","WAWebWamEnumDnsResolutionMethodType","WAWebWamEnumLoginDnsResolverType","WAWebWamEnumLoginHostType","WAWebWamEnumLoginPortNumber","WAWebWamEnumLoginResultType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Login:[460,{androidKeystoreState:[10,d("WAWebWamEnumAndroidKeystoreStateType").ANDROID_KEYSTORE_STATE_TYPE],connectionOrigin:[6,d("WAWebWamEnumConnectionOriginType").CONNECTION_ORIGIN_TYPE],connectionSequenceStep:[11,d("WAWebWamEnumConnectionSequenceStepType").CONNECTION_SEQUENCE_STEP_TYPE],connectionT:[5,a.TYPES.TIMER],dnsResolutionMethod:[12,d("WAWebWamEnumDnsResolutionMethodType").DNS_RESOLUTION_METHOD_TYPE],loginDnsResolver:[13,d("WAWebWamEnumLoginDnsResolverType").LOGIN_DNS_RESOLVER_TYPE],loginIpSource:[14,d("WAWebWamEnumLoginHostType").LOGIN_HOST_TYPE],loginPort:[15,d("WAWebWamEnumLoginPortNumber").LOGIN_PORT_NUMBER],loginResult:[1,d("WAWebWamEnumLoginResultType").LOGIN_RESULT_TYPE],loginT:[3,a.TYPES.TIMER],logoutSessionId:[18,a.TYPES.INTEGER],longConnect:[4,a.TYPES.BOOLEAN],noiseProtocolVersion:[16,a.TYPES.INTEGER],passive:[8,a.TYPES.BOOLEAN],pendingAcksCount:[17,a.TYPES.INTEGER],retryCount:[2,a.TYPES.INTEGER],sequenceStep:[7,a.TYPES.INTEGER],serverErrorCode:[9,a.TYPES.INTEGER]},[1,1,1],"regular"]},{Login:[]});g.LoginWamEvent=b}),98);
__d("WAWebWamWorkerSpecificEvents",["WAWebLoginWamEvent"],(function(a,b,c,d,e,f){Object.keys(importNamespace("WAWebLoginWamEvent")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("WAWebLoginWamEvent")[a]})}),null);
__d("WAWebAppInitializer.react",["WAJids","WALogger","WATypeUtils","WAWap","WAWeb-modernizr","WAWebABPropsCache","WAWebAltDeviceLinkingApi","WAWebApp.react","WAWebAppSwInitializer","WAWebBrokerBackendInterface","WAWebBuildConstants","WAWebConfig","WAWebDbCallbacks","WAWebDebugRoutingToken","WAWebDesktopUpsellUtils","WAWebE2ETestPairingConstants","WAWebEmojiKeywordToUnicode","WAWebEventSamplingCache","WAWebExternalLink.react","WAWebFeatureDetectionRedirectIfMissingCapabilities","WAWebFrontendL10nHelpers","WAWebGlobals","WAWebIndexedDBPurge","WAWebInfraErrorLogger","WAWebInvocationInterface","WAWebLoadMainBundle","WAWebLocalStorage","WAWebLocalStorageUtils","WAWebLodashMemoizeCache","WAWebLogger","WAWebLoggerOnError","WAWebLogoutReason","WAWebMiscBrowserUtils","WAWebPageLoadLoggingImpl","WAWebPonyfillsUrlSearchParams","WAWebQplQuickPerformanceLoggerInit","WAWebQplValuesConfig","WAWebRunInTransaction","WAWebStringPolyfills","WAWebTransitions","WAWebUA","WAWebURLUtils","WAWebUserPrefsMeUser","WAWebUserPrefsMultiDeviceDebug","WAWebWAWCInit","WAWebWAWCStorage","WAWebWam","WAWebWamPREListeners","WAWebWamPageLoadReporter","WAWebWamWorkerSpecificEvents","WAWebWidToJid","asyncToGeneratorRuntime","fbs","gkx","nullthrows","react","requireWeak","velocity-animate","velocity-animate-ui"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["loadUserIdbForBrokenSafariVersion failed with error ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Preemptive db delete failed with error ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["app version: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["bootstrapQR done"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[emoji-trie] EmojiKeywordToUnicode setup failed: ",", stack: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["error while force restarting comms after unload failure: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["unload failed, force restarting comms"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Prompt onbeforeunload due to pending draft message"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["onbeforeunload triggered, version: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["error while stopping comms onbeforeunload: ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Redirect because missing required browser apis"]);s=function(){return a};return a}var t=h||(h=d("react"));e=h;var u=e.useEffect,v=e.useState;c("requireWeak")("Banzai",function(a){a.adapter.config.disabled=!0});function a(){d("WAWebStringPolyfills").polyfillStringReplaceAll();var a=v(!1),b=a[0],e=a[1];u(function(){void w().then(function(){!c("WAWebFeatureDetectionRedirectIfMissingCapabilities")()?e(!0):d("WALogger").ERROR(s()).sendLogs("missing-required-browser-apis")})},[]);return b?t.createElement(d("WAWebApp.react").App,null):null}a.displayName=a.name+" [from "+f.id+"]";function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){y();d("WAWebLodashMemoizeCache").setupLodashMemoizeCache();d("WAWebLogger").initializeWAWebLogger();d("WAWebInfraErrorLogger").addListenerToErrorPubSub();window.onerror=d("WAWebLoggerOnError").onErrorHandler;window.onunhandledrejection=d("WAWebLoggerOnError").onUnhandledPromiseRejection;d("WAWebWamPREListeners").initializePREMetrics();yield z();d("WAWebQplQuickPerformanceLoggerInit").initializeQpl();d("WAWebPageLoadLoggingImpl").setPageLoadLoggingImpl();d("WAWebLoadMainBundle").initModules();d("WAWebABPropsCache").initializeABPropsCache();d("WAWebEventSamplingCache").initializeEventSamplingCache();d("WAWebWam").initWamRuntime();b("WAWebWamWorkerSpecificEvents");d("WAWebWamPageLoadReporter").exeTimer.start();d("WAWebUA").UA.isSafari&&d("WAWebUA").UA.browserVersion.startsWith("13.")&&(c("nullthrows")(document.body).className+=" text-rendering-bug-fix");b("WAWeb-modernizr");window.Velocity=b("velocity-animate");b("velocity-animate-ui");b("WAWebTransitions").registerEffects();d("WAWebInvocationInterface").set(c("WAWebBrokerBackendInterface"));B();yield C();E();try{d("WAWebEmojiKeywordToUnicode").updateEmojiTrie()}catch(a){d("WALogger").WARN(m(),a,a.stack).sendLogs("[emoji-trie] EmojiKeywordToUnicode setup failed: "+a.message)}d("WAWebFrontendL10nHelpers").extendWAWebLocalePrefCookieTtl();d("WAWebFrontendL10nHelpers").mungeWAWebLocaleOverrideFromUrlIfNecessary();d("WAWebWamPageLoadReporter").exeTimer.end();c("gkx")("26258")||d("WAWap").enableXMLFormat();void d("WAWebDesktopUpsellUtils").isWebUserOnSupportedWindowsOSForUWPAsync();var a=d("WAWebWidToJid").widToMyJids(d("WAWebUserPrefsMeUser").getMe());d("WAWebGlobals").setGlobals({config:d("WAWebConfig").ConfigImpl,jidUtils:d("WAJids").createJidUtils({platform:"whatsapp"}),myJids:a,db:d("WAWebDbCallbacks").dbCallbacks,runInTransaction:d("WAWebRunInTransaction").runInTransaction,qpl:d("WAWebQplValuesConfig").qplConfigs});void d("WAWebAppSwInitializer").initializeSw();d("WALogger").LOG(l());d("WALogger").LOG(k(),d("WAWebBuildConstants").VERSION_STR)});return x.apply(this,arguments)}function y(){c("gkx")("26258")||(window.readWebQrCode=function(){function a(){var a=c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebE2ETestPairingConstants").FIRST_QRCODE_READ_DONE);if(a!=="true"){c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").setItem(d("WAWebE2ETestPairingConstants").FIRST_QRCODE_READ_DONE,"true");return"abc"}a=document.querySelector(".landing-main [data-ref]");a=a==null?void 0:(a=a.dataset)==null?void 0:a.ref;var b=c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebE2ETestPairingConstants").PAIRING_ATTEMPT_ONGOING_KEY);if(b==null){c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").setItem(d("WAWebE2ETestPairingConstants").PAIRING_ATTEMPT_ONGOING_KEY,a||"");return a}return b}return a}(),window.readLinkCode=function(){return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking();a=(yield d("WAWebAltDeviceLinkingApi").startAltLinkingFlow(a,!1));return a});return function(b){return a.apply(this,arguments)}}()}())}function z(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebLocalStorageUtils").isLogoutDirtyBitSet(),e=d("WAWebLocalStorageUtils").isUserLoggedOut();if(a||e)try{yield d("WAWebIndexedDBPurge").deleteAllIdb(),yield d("WAWebWAWCInit").initWAWC()}catch(a){d("WALogger").ERROR(j(),a).tags("app-wrapper")}e=b("WAWebPonyfillsUrlSearchParams");e=new e((e=window.location.search)!=null?e:"");a&&(c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").clear(),e.set("post_logout","1"),window.location.href=window.location.pathname+"?"+e.toString());a=e.get("logout_reason");a!=null&&d("WAWebLogoutReason").setPrevLogoutReasonCode(a);var f=e.get("logout_message_header"),g=e.get("logout_message_subtext");(f!=null||g!=null)&&d("WAWebLogoutReason").setPrevCustomLogoutMessage({logoutMessageHeader:f,logoutMessageSubtext:g});f=e.get("post_logout")==="1";(f||a!=null)&&(c("WAWebURLUtils").canMuckHistory()&&window.history.replaceState({},document.title,"/"))});return A.apply(this,arguments)}function B(){["getSelection","open","focus"].forEach(function(a){var b=Object.getPrototypeOf(window)[a];d("WATypeUtils").isFunction(b)&&window[a]!==b&&(window[a]=b)}),window.Debug||(window.Debug={}),c("gkx")("26258")||(window.Debug.pinClientToCdev=function(a){c("WAWebDebugRoutingToken").setDebugRoutingToken(a)})}function C(){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WAWebUA").UA.isLocalStorageBroken&&(yield c("WAWebWAWCStorage").loadUserIdb())}catch(a){d("WALogger").WARN(i(),a)}});return D.apply(this,arguments)}function E(){window.Debug.VERSION=d("WAWebBuildConstants").VERSION_STR,window.onbeforeunload=function(){var a=!1,b=d("WAWebApp.react").hasPending();if(!b&&!d("WAWebExternalLink.react").isOpeningDeeplinkInCurrentTab())try{a=!0,d("WAWebApp.react").closeSocketBeforeUnload()}catch(a){d("WALogger").ERROR(r(),a)}if(c("WAWebMiscBrowserUtils").isDownloading()){c("WAWebMiscBrowserUtils").clearDownloading();return void 0}d("WALogger").LOG(q(),d("WAWebBuildConstants").VERSION_STR);if(c("WAWebMiscBrowserUtils").promptUnloadGuards>0)return void 0;if(b){d("WALogger").LOG(p());return c("fbs")._("__JHASH__S9GSq_XN45B__JHASH__").toString()}if(a){b=15e3;self.setTimeout(function(){try{d("WALogger").ERROR(o()),d("WAWebApp.react").forceReconnectSocketLoopIfUnloadFails()}catch(a){d("WALogger").ERROR(n(),a)}},b)}},window.addEventListener("dragover",function(a){a.preventDefault()}),window.addEventListener("drop",function(a){a.preventDefault()})}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("WAArrayInterleave",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=[],d=a.length,e=b.length,f=Math.max(d,e);for(var g=0;g<f;g++)g<d&&c.push(a[g]),g<e&&c.push(b[g]);return c}f["default"]=a}),66);
__d("WAMemoizeConditionally",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=function c(){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=b?b.apply(this,e):e[0];if(g==null)return a.apply(this,e);var h=c.cache;if(h.has(g))return h.get(g);var i=a.apply(this,e);c.cache=h.set(g,i)||h;return i};c.cache=new(g.Cache||Map)();return c}g.Cache=Map;f["default"]=g}),66);
__d("WAQplUploader",["WALogger","WAPromiseDelays","WAPromiseRetryLoop","WAQplTypes","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader uploadChunk, retriable error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, sending rows ","-",", count ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, error during upload session, error: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader upload session failed, error: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, done upload."]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, uploading "," rows"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, upload triggered, attempt ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, sleeping between uploads for "," ms"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, sleeping prior to start for "," ms"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, start"]);q=function(){return a};return a}var r={minTimeout:1e3,maxTimeout:1e4,retries:5,type:"exponential"},s=100,t={MAX_COUNT:4,MIN_DELAY:1*1e3*60,MAX_DELAY:15*1e3*60},u=5*60,v=24*60*60,w,x,y;function a(a,c){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:w=c.healthLogger;x=c.storageApi;if(!y){j.next=4;break}return j.abrupt("return");case 4:d("WALogger").DEV(q());y={sendEvents:a.sendEvents,isQplEnabled:a.isQplEnabled,startDelayInMs:1e3*((e=a.startDelayInSeconds)!=null?e:u),intervalInMs:1e3*((f=a.intervalInSeconds)!=null?f:v),minRetryDelayInMs:1e3*((g=a.minRetryDelayInSeconds)!=null?g:t.MIN_DELAY),maxRetryDelayInMs:1e3*((h=a.maxRetryDelayInSeconds)!=null?h:t.MAX_DELAY),maxRetryAttemptsCount:(i=a.maxRetryAttemptsCount)!=null?i:t.MAX_COUNT};d("WALogger").DEV(p(),y.startDelayInMs);j.next=9;return b("regeneratorRuntime").awrap(d("WAPromiseDelays").delayMs(y.startDelayInMs));case 9:j.next=11;return b("regeneratorRuntime").awrap(B());case 11:z();case 12:case"end":return j.stop()}},null,this)}function c(){return B()}function z(){d("WALogger").DEV(o(),y.intervalInMs),setTimeout(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(B());case 2:z();case 3:case"end":return a.stop()}},null,this)},y.intervalInMs)}function A(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:a=y.minRetryDelayInMs+Math.floor(Math.random()*(y.maxRetryDelayInMs-y.minRetryDelayInMs));c.next=3;return b("regeneratorRuntime").awrap(d("WAPromiseDelays").delayMs(a));case 3:case"end":return c.stop()}},null,this)}function B(a){var c,e,f,g,h,i,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:a===void 0&&(a=0);if((c=y)==null?void 0:c.isQplEnabled()){p.next=3;break}return p.abrupt("return");case 3:d("WALogger").DEV(n(),a);p.prev=4;p.next=7;return b("regeneratorRuntime").awrap(x.getRowCount());case 7:e=p.sent,d("WALogger").DEV(m(),e),f=0;case 10:if(!(f<e)){p.next=23;break}p.next=13;return b("regeneratorRuntime").awrap(x.getFromBottom(s));case 13:g=p.sent;p.next=16;return b("regeneratorRuntime").awrap(C(g));case 16:h=g[0].id||0;i=g[g.length-1].id||0;p.next=20;return b("regeneratorRuntime").awrap(x.deleteRange(h,i));case 20:f+=g.length;p.next=10;break;case 23:d("WALogger").DEV(l());p.next=37;break;case 26:p.prev=26;p.t0=p["catch"](4);d("WALogger").DEV(k(),p.t0);if(!(a<y.maxRetryAttemptsCount)){p.next=35;break}p.next=32;return b("regeneratorRuntime").awrap(A());case 32:B(a+1);p.next=37;break;case 35:d("WALogger").ERROR(j(),p.t0).verbose().devConsole(p.t0).sendLogs("QPL Uploader upload session failed"),(o=w)==null?void 0:o.errorUploadingChunk(p.t0);case 37:case"end":return p.stop()}},null,this,[[4,26]])}function C(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"QplUploadChunk",timer:{algo:{type:r.type,first:r.minTimeout},max:r.maxTimeout},code:function(b){var c=a[0].id,e=a[a.length-1].id;d("WALogger").DEV(i(),c,e,a.length);return y.sendEvents(a).then(function(){b()})["catch"](function(a){if(a instanceof d("WAQplTypes").QplServerStatusCodeError)switch(a.statusCode){case 500:d("WALogger").WARN(h(),a.message);break;default:b();break}throw a})}});c.start();e.next=4;return b("regeneratorRuntime").awrap(c.promise());case 4:case"end":return e.stop()}},null,this)}g.start=a;g.forceQplUpload=c}),98);
__d("WASmaxInStatsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInStatsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInStatsIQErrorNotAcceptableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"field");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"name");if(!b.success)return b;a=d("WASmaxParseUtils").attrString(a,"reason");return!a.success?a:d("WAResultOrError").makeResult({name:b.value,reason:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"field",h);if(!b.success)return b;var c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","not-acceptable");if(!c.success)return c;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",406);return!a.success?a:d("WAResultOrError").makeResult({text:c.value,code:a.value,field:b.value})}g.parseIQErrorNotAcceptableField=h;g.parseIQErrorNotAcceptableMixin=a}),98);
__d("WASmaxInStatsIQErrorBadRequestOrNotAcceptableOrFeatureNotImplementedMixinGroup",["WAResultOrError","WASmaxInStatsIQErrorBadRequestMixin","WASmaxInStatsIQErrorFeatureNotImplementedMixin","WASmaxInStatsIQErrorNotAcceptableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInStatsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInStatsIQErrorNotAcceptableMixin").parseIQErrorNotAcceptableMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorNotAcceptable",value:c.value});var e=d("WASmaxInStatsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);return e.success?d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorNotAcceptable","IQErrorFeatureNotImplemented"],[b,c,e])}g.parseIQErrorBadRequestOrNotAcceptableOrFeatureNotImplementedMixinGroup=a}),98);
__d("WASmaxInStatsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInStatsIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInStatsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInStatsSendBufferResponseErrorNoRetry",["WAResultOrError","WASmaxInStatsIQErrorBadRequestOrNotAcceptableOrFeatureNotImplementedMixinGroup","WASmaxInStatsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInStatsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInStatsIQErrorBadRequestOrNotAcceptableOrFeatureNotImplementedMixinGroup").parseIQErrorBadRequestOrNotAcceptableOrFeatureNotImplementedMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorIQErrorBadRequestOrNotAcceptableOrFeatureNotImplementedMixinGroup:b.value}))}g.parseSendBufferResponseErrorNoRetry=a}),98);
__d("WASmaxInStatsSendBufferResponseErrorRetry",["WAResultOrError","WASmaxInStatsIQErrorResponseMixin","WASmaxInStatsIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInStatsIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(c.value);if(!c.success)return c;a=d("WASmaxInStatsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorServiceUnavailableMixin:c.value},a.value))}g.parseSendBufferResponseErrorRetry=a}),98);
__d("WASmaxInStatsSendBufferResponseSuccess",["WASmaxInStatsIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInStatsIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseSendBufferResponseSuccess=a}),98);
__d("WASmaxOutStatsBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQSetRequestMixin=a}),98);
__d("WASmaxOutStatsSendBufferRequest",["WASmaxJsx","WASmaxOutStatsBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.addT;a=a.addElementValue;b=d("WASmaxOutStatsBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"w:stats",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("add",{t:d("WAWap").INT(b)},a)));return b}g.makeSendBufferRequest=a}),98);
__d("WASmaxStatsSendBufferRPC",["WAComms","WASmaxInStatsSendBufferResponseErrorNoRetry","WASmaxInStatsSendBufferResponseErrorRetry","WASmaxInStatsSendBufferResponseSuccess","WASmaxOutStatsSendBufferRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:e=d("WASmaxOutStatsSendBufferRequest").makeSendBufferRequest(a);j.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=j.sent;g=d("WASmaxInStatsSendBufferResponseSuccess").parseSendBufferResponseSuccess(f,e);if(!g.success){j.next=7;break}return j.abrupt("return",{name:"SendBufferResponseSuccess",value:g.value});case 7:h=d("WASmaxInStatsSendBufferResponseErrorNoRetry").parseSendBufferResponseErrorNoRetry(f,e);if(!h.success){j.next=10;break}return j.abrupt("return",{name:"SendBufferResponseErrorNoRetry",value:h.value});case 10:i=d("WASmaxInStatsSendBufferResponseErrorRetry").parseSendBufferResponseErrorRetry(f,e);if(!i.success){j.next=13;break}return j.abrupt("return",{name:"SendBufferResponseErrorRetry",value:i.value});case 13:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("SendBuffer",{Success:g,ErrorNoRetry:h,ErrorRetry:i}));case 14:case"end":return j.stop()}},null,this)}g.sendSendBufferRPC=a}),98);
__d("WAWamTypes",[],(function(a,b,c,d,e,f){"use strict";a={INT:0,BOOL:1,STRING:2,FLOAT:3};f.TYPES=a}),66);
__d("WAWamBuffer",["WABinary","WAErr","WAWamTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=47,j=0,k=2,l=1,m=2,n=0,o=4,p=8;e=function(){function a(a,b,c,e){var f=this;this.$5=!1;this.$6=!1;var g=new(d("WABinary").Binary)(void 0,!0);g.writeString("WAM");g.writeUint8(h);g.writeUint8(b);g.writeUint16(c);switch(a){case"regular":g.writeUint8(j);break;default:a,g.writeUint8(k)}this.$1=a;this.$2=g;this.$3=c;this.$4=b;e.forEach(function(a,b){return void f.writeGlobal(b,a)})}var b=a.prototype;b.writeGlobal=function(a,b){if(b==null){t(this.$2,a,n);return}if(typeof b==="string")s(this.$2,a,n,b);else if(typeof b==="number")q(this.$2,a,n,b);else if(typeof b==="boolean")q(this.$2,a,n,b?1:0);else throw c("WAErr")("Incorrect value type "+typeof b)};b.writeEvent=function(a,b,c,e){var f=this.$2;q(f,i,n,Math.floor(a/1e3));a=u(c);var g=a===-1?l|o:l;q(f,b,g,e);for(b=0;b<=a;b+=3){g=c[b+2];if(g!=null){e=c[b];var h=c[b+1],j=b===a?m|o:m;h===d("WAWamTypes").TYPES.INT?q(f,e,j,g):h===d("WAWamTypes").TYPES.BOOL?q(f,e,j,g?1:0):h===d("WAWamTypes").TYPES.STRING?s(f,e,j,g):r(f,e,j,g)}}this.$6=!0};b.getKey=function(){return{streamId:this.$4,sequenceNumber:this.$3,channel:this.$1}};b.getSize=function(){return this.$2.size()};b.peek=function(){return this.$2.peek(function(a){return a.readByteArray()})};b.getBuffer__INTERNAL=function(){return this.$2};b.isFinalized=function(){return this.$5};b.finalize=function(){this.$5=!0};b.hasEvents=function(){return this.$6};return a}();function q(a,b,c,d){d===0?t(a,b,c|1<<4):d===1?t(a,b,c|2<<4):-128<=d&&d<128?(t(a,b,c|3<<4),a.writeInt8(d)):-32768<=d&&d<32768?(t(a,b,c|4<<4),a.writeInt16(d)):-2147483648<=d&&d<2147483648?(t(a,b,c|5<<4),a.writeInt32(d)):(t(a,b,c|6<<4),a.writeInt64(d))}function r(a,b,c,d){t(a,b,c|7<<4),a.writeFloat64(d)}function s(a,b,c,e){var f=d("WABinary").numUtf8Bytes(e);f<256?(t(a,b,c|8<<4),a.writeUint8(f)):f<65536?(t(a,b,c|9<<4),a.writeUint16(f)):(t(a,b,c|10<<4),a.writeUint32(f));a.writeString(e)}function t(a,b,c){b<256?(a.writeUint8(c),a.writeUint8(b)):(a.writeUint8(c|p),a.writeUint16(b))}function u(a){var b=-1;for(var c=0;c<a.length;c+=3)a[c+2]!=null&&(b=c);return b}function a(a){var b=u(a);for(var c=0;c<=b;c+=3){var e=a[c+2];if(e!=null){var f=a[c+1];if(f===d("WAWamTypes").TYPES.INT&&isNaN(e))return!1}}return!0}function b(a){return typeof a==="number"?!isNaN(a):!0}g.WamBuffer=e;g.canWriteEvent=a;g.canWriteGlobal=b}),98);
__d("WAWam",["Promise","WALogger","WAPromiseEach","WAShiftTimer","WAWamBuffer"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: Tried to set private stats ids on a non-private channel"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Skipping putting buffer to sink, as it does not contain any events"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["A WAM event in channel "," was dropped before serialization. Event correct: ",", pending attributes correct: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["A WAM event in channel private was dropped before serialization. Reason: missing psIdIntValue in the event payload"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: Tried to create a private buffer without setting private stats id"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: Tried to create a private buffer without setting private stats ids"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: Sequence number generator not initialised for channel ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: Initialized with stream id ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: Failed to initialize already initialized WAM"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: Enqueued "," attribute keys for update"]);r=function(){return a};return a}var s=64*1024,t=5*60*1e3,u=3e3,v=1,w=2,x=6005;a=113760892;var y=0,z="none",A={putBuffer:function(a,c,d){return(h||(h=b("Promise"))).resolve()}};c=function(){function a(a){var b=this;this.$2=[];this.$3=new Map();this.$4=!1;this.$5=new Map();this.$8=-1;this.$9=A;this.$10=null;this.deinitialize=function(){b.$4=!1,b.$2=[],b.$3.clear(),b.$5=new Map(),b.$8=-1,b.$9=A,b.serializePending.cancel(),b.finalizeBuffers.cancel()};this.enqueueEvent=function(a,c,d,e,f,g){var h=v;b.$2.push({type:h,id:a,commitTime:c,psIdIntValue:d,weight:f,fields:e,resolve:g});b.$4&&b.serializePending.onOrBefore(u)};this.enqueueAttributesUpdate=function(a){var c={type:w,delta:[]};a.forEach(function(a,b){if(a===void 0)return;c.delta.push([b,a])});c.delta.length>0&&(d("WALogger").LOG(r(),c.delta.length),b.$2.push(c))};this.finalizeBuffers=new(d("WAShiftTimer").ShiftTimer)(function(){b.finalizeBuffers__INTERNAL()});this.serializePending=new(d("WAShiftTimer").ShiftTimer)(function(){b.serializePending__INTERNAL()});this.forceSerializePending=function(){if(!b.$4)return;b.$11()&&b.serializePending.forceRunNow()};this.$1=a}var b=a.prototype;b.initialize=function(a,b,c,e){if(this.$4){d("WALogger").ERROR(q()).sendLogs("wam-initialize");return}this.$7=e;this.$8=a;this.$9=c;this.$10=b;this.$11()&&this.serializePending.forceRunNow();this.$4=!0;d("WALogger").LOG(p(),this.$8)};b.finalizeBuffers__INTERNAL=function(){this.$5.forEach(function(a){a.finalize()}),this.$5.size>0&&this.serializePending.onOrBefore(u)};b.$12=function(a){var b;if(!((b=this.$7)==null?void 0:b.multipleSequences))return"regular";return a===y?"null-psid":a};b.$13=function(a){var b=this.$5.get(a);if(b)return b;var c=this.$12(a);if(this.$10==null){d("WALogger").ERROR(o(),this.$1).sendLogs("wam-serializePending");return}c=this.$10(c);b=new(d("WAWamBuffer").WamBuffer)(this.$1,this.$8,c,this.$3);this.$5.set(a,b);if(a!=="regular"){a;if(this.$6==null)d("WALogger").ERROR(n()).sendLogs("wam-serializePending");else{c=a===y?z:this.$6.get(a);c==null?d("WALogger").ERROR(m()).sendLogs("wam-serializePending"):b.writeGlobal(x,c)}}return b};b.serializePending__INTERNAL=function(){var a=this,b=[];this.finalizeBuffers.onOrBefore(t);var c=new Map(),e=-1;this.$2.forEach(function(f,g){if(f.type===v){var h=!0;c.forEach(function(a){d("WAWamBuffer").canWriteGlobal(a)||(h=!1)});var i=d("WAWamBuffer").canWriteEvent(f.fields);if(i&&h){var j;a.$1==="regular"?j=a.$13("regular"):(a.$1,f.psIdIntValue==null?d("WALogger").ERROR(l()).sendLogs("wam-serializePending"):j=a.$13(f.psIdIntValue));j!=null&&(c.forEach(function(c,b){var d=a.$3.get(b);(d===void 0||d!==c)&&(a.$5.forEach(function(a){return a.writeGlobal(b,c)}),a.$3.set(b,c))}),c.clear(),j.writeEvent(f.commitTime,f.id,f.fields,f.weight))}else d("WALogger").WARN(k(),a.$1,i,h).devConsole("pending attributes",c,"pending event action",f);f.resolve!=null&&b.push(f.resolve);e=g}else{f.type;for(i=0;i<f.delta.length;++i){g=f.delta[i];var m=g[0];g=g[1];c.set(m,g)}}});var f=!1;this.$5.forEach(function(a){(a.isFinalized()||a.getSize()>s)&&(f=!0)});var g=[];this.$5.forEach(function(b,c){b.hasEvents()?g.push([b.getKey(),b.peek(),a.$12(c)]):d("WALogger").WARN(j())});var h=d("WAPromiseEach").promiseEach(g,function(b){var c=b[0],d=b[1];b=b[2];return a.$9.putBuffer(c,d,f,b)}).then(function(){b.forEach(function(a){return void a()})});this.$2=this.$2.slice(e+1);f&&(this.$5=new Map(),this.finalizeBuffers.cancel());return h};b.$11=function(){return this.$2.length>0&&this.$2.some(function(a){return a.type===v})};b.isInitialized=function(){return this.$4};b.getStreamId=function(){return this.$8};b.getPendingActions=function(){return this.$2};b.getBuffers__INTERNAL=function(){return this.$5};b.getGlobals__INTERNAL=function(){return this.$3};b.setGlobals__INTERNAL=function(a){this.$3=a};b.getSink__INTERNAL=function(){return this.$9};b.updatePrivateStatsIds=function(a){if(this.$1!=="private"){d("WALogger").ERROR(i()).sendLogs("wam-updatePrivateStatsIds");return}this.$6=a};return a}();g.PRIVATE_STATS_DEFAULT_PS_ID_KEY_HASH_INT=a;g.Wam=c}),98);
__d("WAWamChannelManager",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map(),this.$2=new Map()}var b=a.prototype;b.getChannelInitialized=function(a){return this.$2.get(a)||!1};b.setChannelInitialized=function(a){this.$2.set(a,!0)};b.isSinkBusy=function(a){return this.$1.get(a)||!1};b.setSinkBusy=function(a,b){this.$1.set(a,b)};b.close=function(){var a=this;this.$1.forEach(function(b,c){a.$1.set(c,!1)});this.$2.forEach(function(b,c){a.$2.set(c,!1)})};return a}(),h;function a(){h==null&&(h=new g());return h}function b(){h!=null&&h.close()}f.getChannelManager=a;f.closeChannelManager=b}),66);
__d("WAWamManager",["WALogger","WAWam"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WamManager: Deinitializing WAM Channel ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM instance for channel "," has already been initialized"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["SequenceNumberGenerator::initializeForChannel: Incorrect combination of parameters: "," "," ",""]);j=function(){return a};return a}var k=65535,l=function(){function a(a){this.$1=new Map(),this.$2=a}var b=a.prototype;b.$3=function(a,b){b==null||b===0?this.$1.set(a,"uninitialized"):b<0?this.$1.set(a,"uninitialized"):this.$1.set(a,b)};b.getSequenceNumber__INTERNAL=function(){return this.$1};b.initializeForChannel=function(a,b){var c=this;b.forEach(function(b,e){var f;if(a==="regular"&&e==="regular")c.$3(e,b);else if(a==="private"&&e!=="regular")c.$3(e,b);else if(a==="private"&&!((f=c.$2)==null?void 0:f.multipleSequences))c.$3(e,b);else{d("WALogger").ERROR(j(),a,e,(f=c.$2)==null?void 0:f.multipleSequences)}})};b.next=function(a){var b=this.$1.get(a),c;b==null||b==="uninitialized"?c=1:(c=b+1,c>k&&(c=1));this.$1.set(a,c);return c};return a}();a=function(){function a(){this.$1=new Map(),this.$2=null}var b=a.prototype;b.getWamInstance=function(a){var b=this.$1.get(a);b||(b=new(d("WAWam").Wam)(a),this.$1.set(a,b));return b};b.initialize=function(a,b,c,e,f){var g=this.getWamInstance(a);if(g.isInitialized()){d("WALogger").WARN(i(),a);return}this.$2==null&&(this.$2=new l(f));var h=this.$2;this.$2.initializeForChannel(a,c);g.initialize(b,function(a){return h.next(a)},e,f)};b.deinitialize=function(){this.$1.forEach(function(a,b){a.isInitialized()&&(d("WALogger").LOG(h(),b),a.deinitialize())}),this.$2=null};b.enqueueEvent=function(a,b,c,d,e,f,g){a=this.getWamInstance(a);a.enqueueEvent(b,c,d,e,f,g)};b.enqueueAttributesUpdate=function(a,b){a=this.getWamInstance(a);a.enqueueAttributesUpdate(b)};b.updatePrivateStatsIds=function(a){var b=this.getWamInstance("private");b.updatePrivateStatsIds(a)};b.forceFlushBuffers=function(){this.$1.forEach(function(a){a.forceSerializePending()})};b.rotateBuffers=function(){this.$1.forEach(function(a){a.finalizeBuffers.forceRunNow()})};b.getSequenceNumberGenerator__INTERNAL=function(){return this.$2};return a}();g.WamManager=a}),98);
__d("WAWamUtils",["WABase64","WAErr","WALogger","WAWamTypes"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["logAttributes WAM channel is not an array"]);j=function(){return a};return a}var k=(h={},h[(i=d("WAWamTypes")).TYPES.INT]="number",h[i.TYPES.FLOAT]="number",h[i.TYPES.STRING]="string",h[i.TYPES.BOOL]="boolean",h);function a(a,b){if(b==null||b.length===0)return a;var c=new Map();for(var d=0;d<a.length;d+=3){var e=a[d];c.set(e,d)}for(e=0;e<b.length;++e){d=b[e];var f=d[0],g=d[1];d=d[2];if(d==null)continue;var h=c.get(f);if(h!=null){var i=a[h+2];if(i!==void 0)continue}i=k[g];i===typeof d&&(h==null?(c.set(f,a.length),a.push(f,g,d)):a[h+2]=d)}return a}function b(a){var b=new Map(),e=new Map();for(var f=0;f<a.length;f+=4){var g=a[f],h=a[f+1],i=a[f+2],k=a[f+3];if(i===d("WAWamTypes").TYPES.FLOAT)throw c("WAErr")("Float attributes are currently not supported in runtime");if(!Array.isArray(g)){d("WALogger").ERROR(j()).sendLogs("wam-log-attributes");return}g.includes("regular")&&b.set(h,k);g.includes("private")&&e.set(h,k)}return{deltaRegular:b,deltaPrivate:e}}function e(a,b){var c=[];b.forEach(function(b){var e=b.channel;if(e==null){if(a!=="regular")return}else if(e!==a)return;if(b.finished){e=new Uint8Array(d("WABase64").decodeB64(b.buffer));b=b.key;c.push({key:b,content:e})}});return c}function l(a){return JSON.stringify([a.streamId,a.sequenceNumber,a.channel])}function f(a,b,c,e,f){var g=l(a);return{bufferKey:g,meta:{streamId:a.streamId,sequenceNumber:a.sequenceNumber},bufferRow:{key:g,channel:b,streamId:c,buffer:d("WABase64").encodeB64(e),finished:f}}}function m(a){var b=null;a&&(b=a.sequenceNumber);return b}g.appendRawFields=a;g.getDeltaFromAttributes=b;g.getFinishedBuffers=e;g.asBufferEntry=f;g.getSequenceNumber=m}),98);
__d("WAWamEntrypoint",["Promise","WALogger","WAWamManager","WAWamUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["wamEntrypoint: logAttributes"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["wamEntrypoint: logAsync"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["wamEntrypoint: log"]);k=function(){return a};return a}var l=1,m=!1,n=null;function o(){n||(n=new(d("WAWamManager").WamManager)());return n}function a(){m=!0}function c(a,b,c,d,e){o().initialize(c,a,b,d,e)}function e(){o().deinitialize()}function f(a,b,c,e,f,g,h){g===void 0&&(g=l);var i=Date.now();m&&h!=null&&d("WALogger").DEV(k()).devConsole(babelHelpers["extends"]({},h,{id:b,arrayFields:e,rawFields:f,weight:g}));o().enqueueEvent(a,b,i,c,d("WAWamUtils").appendRawFields(e,f),g)}function p(a,c,e,f,g,i,k){i===void 0&&(i=l);var n=Date.now();m&&k!=null&&d("WALogger").DEV(j()).devConsole(babelHelpers["extends"]({},k,{id:c,arrayFields:f,rawFields:g,weight:i}));return new(h||(h=b("Promise")))(function(b){o().enqueueEvent(a,c,n,e,d("WAWamUtils").appendRawFields(f,g),i,b)})}function q(a,b){var c=d("WAWamUtils").getDeltaFromAttributes(a);if(c==null)return;var e=c.deltaRegular;c=c.deltaPrivate;m&&b!=null&&d("WALogger").DEV(i()).devConsole(babelHelpers["extends"]({},b,{attributes:a,deltaRegular:e,deltaPrivate:c}));e.size>0&&o().enqueueAttributesUpdate("regular",e);c.size>0&&o().enqueueAttributesUpdate("private",c)}function r(a){o().updatePrivateStatsIds(a)}function s(){o().forceFlushBuffers()}function t(){o().rotateBuffers()}g.enableDebugMode=a;g.initializeWAM=c;g.deinitializeWAM=e;g.log=f;g.logAsync=p;g.logAttributes=q;g.updatePrivateStatsIds=r;g.forceFlushBuffers=s;g.rotateBuffers=t}),98);
__d("WAWamPrivateStatsToken",["WACryptoEd25519","WACryptoPrimitives"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WACryptoEd25519").runInAllocationScope(function(){var c,e=(c=d("WACryptoEd25519")).p3Element(),f=c.allocate(Uint8Array,32);f.set(b);h(f);d("WACryptoPrimitives").lowlevel.scalarbase(e,f);f=c.hashToPoint(a);var g=d("WACryptoPrimitives").lowlevel.add;g(f,e);g=new Uint8Array(32);c.pack(g,f);return g})}function b(a,b,c){return d("WACryptoEd25519").runInAllocationScope(function(){var e=d("WACryptoEd25519").p3Element();if(d("WACryptoEd25519").unpack(e,a))return null;var f=d("WACryptoEd25519").p3Element();if(d("WACryptoEd25519").unpackneg(f,c)!==0)return null;var g=d("WACryptoEd25519").allocate(Uint8Array,32);g.set(b);h(g);var i=d("WACryptoEd25519").p3Element();d("WACryptoPrimitives").lowlevel.scalarmult(i,f,g);f=d("WACryptoPrimitives").lowlevel.add;f(e,i);g=new Uint8Array(32);d("WACryptoEd25519").pack(g,e);return g})}function h(a){a[0]&=248,a[31]&=127,a[31]|=64}g.blindToken=a;g.unblindToken=b}),98);
__d("WAWamStorage",["Promise","WAErr","WALogger","WATimeUtils","WAWamChannelManager","WAWamEntrypoint","WAWamUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["The private stats token was redeemed maximum number of time. The client shall re-issue a new one"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["The private stats token expired. The client shall re-issue a new one"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["WamStorage: Buffer "," is scheduled for send"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["WamStorage: Successfully put buffer "," to sink"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["WamStorage: Sink flush did not happen within timeout, buffer is not saved"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["startWamStorage: called again"]);n=function(){return a};return a}var o=null,p=null;function q(a){if(p)return p;else throw c("WAErr")("WamStorage::"+a+" called before startWamStorage")}function a(a){p==null?p=a:d("WALogger").WARN(n()).sendLogs("startWamStorage")}function e(){d("WAWamEntrypoint").deinitializeWAM(),d("WAWamChannelManager").closeChannelManager(),p=null,o=null}function f(e,f,g,i){var a=q("initializeWAMSink"),j=d("WAWamChannelManager").getChannelManager();if(j.getChannelInitialized(f))return(h||(h=b("Promise"))).resolve();j.setChannelInitialized(f);var n=a.getStreamId(e),r={putBuffer:function(c,e,i,o){if(j.isSinkBusy(f)){d("WALogger").WARN(m());return(h||(h=b("Promise"))).resolve()}j.setSinkBusy(f,!0);e=d("WAWamUtils").asBufferEntry(c,f,n,e,i);var p=e.bufferKey,q=e.meta;e=e.bufferRow;return a.saveBuffer(q,e,o).then(function(){var a=[c.streamId,c.sequenceNumber];d("WALogger").LOG(l(),a);i&&(g(),d("WALogger").LOG(k(),p))})["finally"](function(){j.setSinkBusy(f,!1)})}};o==null&&(o=a.finishBuffer(n));return o.then(function(){if(a.getStartingSequenceNumbers){a.getStartingSequenceRow;return a.getStartingSequenceNumbers(f,n)}else{a.getStartingSequenceRow;if(i==null?void 0:i.multipleSequences)throw c("WAErr")("getStartingSequenceRow must not used when enabling support for multiple sequences");return a.getStartingSequenceRow(n).then(function(a){a=d("WAWamUtils").getSequenceNumber(a);var b=new Map();b.set("regular",a);return b})}}).then(function(b){d("WAWamEntrypoint").initializeWAM(n,b,f,r,i),f==="private"&&a.updatePrivateStatsIds&&a.updatePrivateStatsIds().then(d("WAWamEntrypoint").updatePrivateStatsIds)})}function r(a){return q("getFinishedStreamBuffers").getBuffers().then(function(b){return d("WAWamUtils").getFinishedBuffers(a,b)})}var s=64,t=function(a,b){var c=(b==null?void 0:b.maxRedeemCount)!=null&&b.maxRedeemCount!==0?b.maxRedeemCount:s;b=(b==null?void 0:b.maxExpirySeconds)!=null&&b.maxExpirySeconds!==0?b.maxExpirySeconds:d("WATimeUtils").DAY_SECONDS;c={maxRedeemCount:c,maxExpirySeconds:b};if(!d("WATimeUtils").happenedWithin(a.creationTs,c.maxExpirySeconds)){d("WALogger").LOG(j());return!1}if(a.redeemCount>=c.maxRedeemCount){d("WALogger").LOG(i());return!1}return!0};function u(){var a=q("getPrivateStatsToken");if(!a.redeemPrivateStatsToken)throw c("WAErr")("redeemPrivateStatsToken not implemented for WAM DB");return a.redeemPrivateStatsToken(t)}function v(b){var a=q("savePrivateStatsToken");if(!a.savePrivateStatsToken)throw c("WAErr")("savePrivateStatsToken not implemented for WAM DB");return a.savePrivateStatsToken(b)}function w(){var a=q("privateStatsKillSwitchGetBlockedToken");if(!a.privateStatsKillSwitchGetBlockedToken)throw c("WAErr")("privateStatsKillSwitchGetBlockedToken not implemented for WAM DB");return a.privateStatsKillSwitchGetBlockedToken()}function x(b){var a=q("privateStatsKillSwitchSet");if(!a.privateStatsKillSwitchSet)throw c("WAErr")("privateStatsKillSwitchSet not implemented for WAM DB");return a.privateStatsKillSwitchSet(b)}function y(a){return q("removeBufferByKey").removeBufferByKey(a)}function z(){return q("nukeMetrics").nukeMetrics()}g.startWamStorage=a;g.closeWamStorage=e;g.initializeWAMSink=f;g.getFinishedStreamBuffers=r;g.redeemPrivateStatsToken=u;g.savePrivateStatsToken=v;g.privateStatsKillSwitchGetBlockedToken=w;g.privateStatsKillSwitchSet=x;g.removeBufferByKey=y;g.nukeMetrics=z}),98);
__d("WAWebABPropsGlobals",["WAWebWamGlobals"],(function(a,b,c,d,e,f,g){c=new Set();var h=new Set();function a(){d("WAWebWamGlobals").Global.set({expoKey:Array.from(h).join(",")})}function b(a){d("WAWebWamGlobals").Global.set({abKey2:a})}g.accessedConfigs=c;g.exposureKeys=h;g.updateGlobalExpoKey=a;g.updateGlobalABKey=b}),98);
__d("WAWebApiAbPropConfig",["Promise","WALogger","WAWebABPropsConfigs","WAWebABPropsGlobals","WAWebModelStorageInitialize","WAWebModelStorageUtils","WAWebSchemaAbPropConfig","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["invalid ABProps config name"]);i=function(){return a};return a}function a(){return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(function(){return d("WAWebSchemaAbPropConfig").getAbpropConfigsTable().all().then(function(a){return a})})}function j(a,b,c){if(a==null||b==null)return c;else if(b==="bool")return a==="1"||a==="True"||a==="true";else if(b==="int")return parseInt(a,10);else if(b==="float")return parseFloat(a);return a}function e(a){var e=d("WAWebABPropsConfigs").ABPropConfigs[a];if(e==null){d("WALogger").ERROR(i()).verbose().sendLogs("invalid ABProps config name: "+a);return(h||(h=b("Promise"))).reject(c("err")("invalid ABProps config name"))}var f=e[0],g=e[1];a=e[2];e=e[3];var k=a;return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(function(){return d("WAWebSchemaAbPropConfig").getAbpropConfigsTable().get(String(f)).then(function(a){a=a?j(a.configValue,g,k):k;return a})})}function f(a){return d("WAWebModelStorageUtils").getStorage().lock(["abpropConfigs"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];var c=(yield b.all()),e=new Map();c.forEach(function(a){(a.configExpoKey!=null||a.overriddenConfigValue!=null)&&e.set(a.configCode,{configCode:a.configCode,configValue:a.configValue,configExpoKey:a.configExpoKey,hasAccessed:a.hasAccessed,overriddenConfigValue:a.overriddenConfigValue})});c=!1;var f=[];a.forEach(function(a,b){var g=!1,h=e.get(String(b));if(h){var i=h.configExpoKey;i!=null&&a.configExpoKey!==i?(d("WAWebABPropsGlobals").exposureKeys["delete"](i),c=!0,d("WAWebABPropsGlobals").accessedConfigs["delete"](b)):i!=null&&(g=h.hasAccessed)}f.push({configCode:String(b),configValue:a.configValue,configExpoKey:a.configExpoKey,hasAccessed:g,overriddenConfigValue:h==null?void 0:h.overriddenConfigValue})});c&&d("WAWebABPropsGlobals").updateGlobalExpoKey();yield b.clear();yield b.bulkCreate(f)});return function(a){return c.apply(this,arguments)}}())}function k(a){return d("WAWebModelStorageUtils").getStorage().lock(["abpropConfigs"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];var c=(yield b.get(String(a)));if(c==null||(c==null?void 0:c.hasAccessed)===!0)return;yield b.merge(String(a),{hasAccessed:!0})});return function(a){return c.apply(this,arguments)}}())}g.getABPropConfigs=a;g.parseConfigValue=j;g.getConfigValue=e;g.updateABPropConfigs=f;g.setConfigAccessed=k}),98);
__d("WAWebABPropsCache",["WALogger","WAWebABProps","WAWebABPropsConfigs","WAWebABPropsGlobals","WAWebApiAbPropConfig","WAWebRuntimeEnvironmentUtils","cr:4941","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ABProps] configs need to be initialized before its first access, config name: ",""]);h=function(){return a};return a}var i=new Map(),j=!1,k;function a(a){k==null&&(k={},Object.keys(d("WAWebABPropsConfigs").ABPropConfigs).forEach(function(a){var b=d("WAWebABPropsConfigs").ABPropConfigs[a];b=b[0];k[b]=a}),Object.freeze(k));return k[a]}function e(){d("WAWebABProps").setGetABPropConfigValueImpl(l)}function l(a){var e=d("WAWebABPropsConfigs").ABPropConfigs[a],f=e[0],g=e[1],i=e[2];e=e[3];e=i;if(!c("gkx")("26258")&&!d("WAWebRuntimeEnvironmentUtils").isWorker()&&b("cr:4941")){i=new(b("cr:4941"))(window.location.search);i=i.get(a);if(i!=null&&i!=="")return d("WAWebApiAbPropConfig").parseConfigValue(i,g,e)}if(!j){d("WAWebABProps").usedBeforeInitializationConfigs.includes(a)||d("WALogger").WARN(h(),a);return e}return m(f)}function m(a){if(i.get(a)&&!d("WAWebABPropsGlobals").accessedConfigs.has(a)){var b;b=(b=i.get(a))==null?void 0:b.configExpoKey;b!=null&&!d("WAWebABPropsGlobals").exposureKeys.has(b)&&(d("WAWebABPropsGlobals").exposureKeys.add(b),d("WAWebABPropsGlobals").updateGlobalExpoKey());d("WAWebABPropsGlobals").accessedConfigs.add(a);d("WAWebApiAbPropConfig").setConfigAccessed(a)}b=i.get(a);return!c("gkx")("26258")&&(b==null?void 0:b.overriddenConfigValue)!=null?b.overriddenConfigValue:b==null?void 0:b.configValue}function f(){return Array.from(i.values())}function n(a){var b=!1;a.forEach(function(a){i.set(a.configCode,a),a.hasAccessed===!0&&(d("WAWebABPropsGlobals").accessedConfigs.add(a.configCode),a.configExpoKey!=null&&(d("WAWebABPropsGlobals").exposureKeys.add(a.configExpoKey),b=!0))});b&&d("WAWebABPropsGlobals").updateGlobalExpoKey();j=!0}function o(){i.clear(),d("WAWebABPropsGlobals").accessedConfigs.clear(),d("WAWebABPropsGlobals").exposureKeys.clear(),j=!1}g.getABPropConfigNameFromCode=a;g.initializeABPropsCache=e;g.getAllABPropConfigs=f;g.bulkCreateOrReplaceABPropConfigs=n;g.clearABPropConfigs=o}),98);
__d("WAWebABPropsLocalStorage",["WANullthrows","WAWebLocalStorage","WAWebUserPrefsKeys"],(function(a,b,c,d,e,f,g){var h=600,i=604800,j=86400;function a(a,b,e,f){var g=null;e!=null&&(g=e,g<h?g=h:g>i&&(g=i));e=k()||{};g={abKey:(a=a)!=null?a:e.abKey,hash:(a=b)!=null?a:e.hash,refresh:(a=(b=g)==null?void 0:b.toString())!=null?a:e.refresh,lastSyncTime:f};c("WANullthrows")(c("WAWebLocalStorage")).setItem(d("WAWebUserPrefsKeys").KEYS.ABPROPS,JSON.stringify(g))}function k(){var a=c("WANullthrows")(c("WAWebLocalStorage")).getItem(d("WAWebUserPrefsKeys").KEYS.ABPROPS);return a==null?null:JSON.parse(a)}function b(){return k()!=null}function e(){var a=k();return a==null?void 0:a.abKey}function f(){var a=k();return a==null?void 0:a.hash}function l(){var a=k();return parseInt((a=a==null?void 0:a.refresh)!=null?a:j,10)}function m(){var a=c("WANullthrows")(c("WAWebLocalStorage")).getItem(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID);a==null&&n(0);return a==null?0:parseInt(a,10)}function n(a){c("WANullthrows")(c("WAWebLocalStorage")).setItem(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID,String(a))}function o(){var a=c("WANullthrows")(c("WAWebLocalStorage")).getItem(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId);a==null&&p(0);return a==null?0:parseInt(a,10)}function p(a){c("WANullthrows")(c("WAWebLocalStorage")).setItem(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId,String(a))}g.updateAttributesLocalStorage=a;g.isABPropsAfterFirstSync=b;g.getABKey=e;g.getHash=f;g.getRefresh=l;g.getRefreshId=m;g.setRefreshId=n;g.getWebRefreshId=o;g.setWebRefreshId=p}),98);
__d("WAWebSchemaLocalStorage",["WAWebStorageMutationBuilder","WAWebWorkerStorageUtils","WAWebWorkerStorageVersions"],(function(a,b,c,d,e,f,g){c=d("WAWebStorageMutationBuilder").columnBuilder();var h=c.addColumn,i=c.addUserDefinedPrimaryKey;function a(){d("WAWebWorkerStorageUtils").getStorage().add("local_storage").version(d("WAWebWorkerStorageVersions").localStorageCreateTable(),[i("key"),h("value")]).view(function(a){return{key:a.key,value:a.value}})}function b(){return d("WAWebWorkerStorageUtils").getStorage().table("local_storage")}g.addTable=a;g.getTable=b}),98);
__d("WAWebApiLocalStorage",["WAWebSchemaLocalStorage","WAWebWorkerStorageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebSchemaLocalStorage").getTable().get(a).then(function(a){return a==null?void 0:a.value})}function c(a){var c=a.map(function(a){return{key:a.key,value:a.value}});return d("WAWebWorkerStorageUtils").getStorage().lock(["local_storage"],function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a[0];yield a.clear();yield a.bulkCreateOrReplace(c)});return function(b){return a.apply(this,arguments)}}())}function e(){return d("WAWebSchemaLocalStorage").getTable().clear()}g.getLocalStorageValue=a;g.updateLocalStorage=c;g.clearLocalStorage=e}),98);
__d("WAWebApiPeerMessageStore",["WAWebMsgKey","WAWebSchemaPeerMessage","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){function a(a){a=a.map(function(a){a.kind;var b=babelHelpers.objectWithoutPropertiesLoose(a,["kind"]);return babelHelpers["extends"]({},b,{id:String(a.id),to:String(a.to),subtype:String(a.subtype)})});d("WAWebSchemaPeerMessage").getPeerMessageTable().bulkCreate(a)}function b(a){var b=d("WAWebSchemaPeerMessage").getPeerMessageTable();a=new(c("WAWebMsgKey"))({fromMe:!0,remote:d("WAWebUserPrefsMeUser").getMeUser(),id:a});return b.remove(a.toString())}g.storePeerMessages=a;g.deletePeerMessage=b}),98);
__d("WAWebApiUnjoinedSubgroupMetadataStore",["WAWebSchemaUnjoinedSubgroupMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().remove(a.toString())}function h(a){var b={},c=a.defaultSubgroup,d=a.generalSubgroup,e=a.parentGroupId,f=babelHelpers.objectWithoutPropertiesLoose(a,["defaultSubgroup","generalSubgroup","parentGroupId"]);c!=null&&(b.defaultSubgroup=c);d!=null&&(b.generalSubgroup=d);e!=null&&(b.parentGroup=e.toString());return babelHelpers["extends"]({},f,b,{id:a.id.toString(),membershipApprovalMode:(c=a.membershipApprovalMode)!=null?c:!1,membershipApprovalRequest:(d=a.membershipApprovalRequest)!=null?d:!1})}function c(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.unjoinedSubgroups,c=a.parentGroupId;a=a.link;if(!a){yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkRemove(b.map(function(a){return a.id.toString()}));return}a=[];var e=(yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkGet(b.map(function(a){return a.id.toString()})));a=b.map(function(a,b){b=e[b];var d={subject:a.subject,subjectTime:a.subjectTime||0};if(b){var f=b.subjectTime||0;f>d.subjectTime&&(d={subject:b.subject,subjectTime:f})}return h(babelHelpers["extends"]({},a,d,{parentGroupId:c}))});yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkCreateOrMerge(a)});return i.apply(this,arguments)}function e(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.unjoinedSubgroupIds;a=a.parentGroupId;a=(yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().equals(["parentGroup"],a.toString()));a=a.map(function(a){return a.id});var c=b.map(function(a){return a.toString()});b=a.filter(function(a){return!c.includes(a)});yield d("WAWebSchemaUnjoinedSubgroupMetadata").getUnjoinedSubgroupMetadataTable().bulkRemoveByIndex(["id"],b)});return j.apply(this,arguments)}g.removeUnjoinedSubgroupMetadataFromStorage=a;g.updateUnjoinedSubgroups=c;g.cleanUnjoinedSubgroups=e}),98);
__d("WAWebBotMessageSecret",["WABinary","WACryptoAesGcm","WACryptoHkdf","WANullthrows","WAWebDBMessageSerialization","WAWebMsgKey","WAWebMsmsgMsgSecretCache","WAWebProtobufsE2E.pb","WAWebSchemaMessage","WAWebUserPrefsMeUser","WAWebWidToJid","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){var h=32,i="Bot Message";function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=new(d("WABinary").Binary)(a).readByteArray();a=(yield d("WACryptoHkdf").extractAndExpand(new Uint8Array(a),i,h));return a});return k.apply(this,arguments)}function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsE2E.pb").MessageSecretMessageSpec,a);var e=a.encIv;a=a.encPayload;var f=d("WAWebUserPrefsMeUser").assertGetMeUser();f=b.msgMeta.targetSenderJid?b.msgMeta.targetSenderJid.isSameAccount(f):!0;var g=b.msgMeta.targetChatJid?c("WANullthrows")(b.msgMeta.targetChatJid):b.msgInfo.chat;f={fromMe:f,remote:g,id:c("WANullthrows")(b.msgMeta.targetId)};b.msgInfo.chat.isGroup()&&(f.participant=b.msgMeta.targetSenderJid);g=new(c("WAWebMsgKey"))(f);f=d("WAWebMsmsgMsgSecretCache").msmsgMsgSecretCache.getMsmsgMsgSecretFromCache(g.toString());if(f==null){g=(yield d("WAWebSchemaMessage").getMessageTable().get(g.toString()));f=d("WAWebDBMessageSerialization").messageFromDbRow(c("WANullthrows")(g)).messageSecret}g=(yield j(c("WANullthrows")(f)));f=b.msgInfo.externalId;var h=b.msgMeta.targetSenderJid?d("WAWebWidToJid").widToUserJid(b.msgMeta.targetSenderJid):d("WAWebWidToJid").widToUserJid(d("WAWebUserPrefsMeUser").assertGetMeUser()),i=d("WAWebWidToJid").widToUserJid(c("WANullthrows")(b.msgInfo.author));try{var k=(yield m(f,h,i,g));k=(yield d("WACryptoAesGcm").gcmDecrypt(k,c("WANullthrows")(e),c("WANullthrows")(a),f+"\0"+i))}catch(j){f=c("WANullthrows")((b=b.msgBotInfo)==null?void 0:b.botEditTargetId);b=(yield m(f,h,i,g));k=(yield d("WACryptoAesGcm").gcmDecrypt(b,c("WANullthrows")(e),c("WANullthrows")(a),f+"\0"+i))}return k});return l.apply(this,arguments)}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){a=d("WABinary").Binary.build(a,b,e).readBuffer();b=(yield d("WACryptoHkdf").extractAndExpand(new Uint8Array(c("WANullthrows")(f)),a,h));return b});return n.apply(this,arguments)}g.genBotMsgSecretFromMsgSecret=j;g.decryptMsmsgBotMessage=a}),98);
__d("WAWebCRUDOperationsNewsletterMyVotes",["Promise","WALogger","WAWebModelStorageUtils","WAWebNewsletterDBUtils","WAWebSchemaNewsletterMyVotes","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[createOrUpdateMyVote] Invalid newsletter jid ",""]);i=function(){return a};return a}function j(a){return d("WAWebModelStorageUtils").getStorage().lock(["newsletter-my-votes"],function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];if(!c("WAWebWid").isNewsletter(a.chatJid)){d("WALogger").WARN(i(),a.chatJid);return}b;var e=(yield l(a.chatJid,a.msgServerId));if(e!=null&&e.serverTimestampMs>a.serverTimestampMs)return;yield b.createOrReplace(a)});return function(a){return e.apply(this,arguments)}}())}function a(a){return d("WAWebModelStorageUtils").getStorage().lock(["newsletter-my-votes"],function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];b;var d=new Map(),e=a.map(function(a){if(!c("WAWebWid").isNewsletter(a.chatJid))return;d.set(a.chatJid+"-"+a.msgServerId,a);return[a.chatJid,a.msgServerId]}).filter(Boolean);e=(yield b.anyOf(["chatJid","msgServerId"],e));e.forEach(function(a){var b=a.chatJid+"-"+a.msgServerId,c=d.get(b);c!=null&&c.serverTimestampMs<a.serverTimestampMs&&d["delete"](b)});yield b.bulkCreateOrReplace(Array.from(d.values()))});return function(a){return d.apply(this,arguments)}}())}function e(a,b){return d("WAWebSchemaNewsletterMyVotes").getTable().remove([a,b])}var k=100;function l(a,c){return!Number.isSafeInteger(c)||c<k||c>=d("WAWebNewsletterDBUtils").TEMPORARY_SERVER_ID_LOWER_BOUND?(h||(h=b("Promise"))).resolve(null):d("WAWebSchemaNewsletterMyVotes").getTable().get([a,c])}function f(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a.chatJid,a.msgServerId));if(b==null)return;yield j(babelHelpers["extends"]({},b,a))});return m.apply(this,arguments)}g.createOrUpdateMyVote=j;g.bulkCreateOrUpdateMyVotes=a;g.deleteMyVote=e;g.getMyVote=l;g.updateMyVote=f}),98);
__d("WAWebWamEnumCrashType",[],(function(a,b,c,d,e,f){a=Object.freeze({CRASH:0,OOM:1,MAIN_THREAD_STALL_3_SECONDS:15,MAIN_THREAD_STALL_30_SECONDS:2,MAIN_THREAD_STALL_60_SECONDS:16,MAIN_THREAD_STALL_POKED:17,MAIN_THREAD_STALL_DEBUG:3,AUDIO_TRANSCODING_ERROR:4,VIDEO_TRANSCODING_ERROR:5,ANR:6,CRITICAL_EVENT:7,UNHANDLED_EXCEPTION:8,APP_CRASH:9,NATIVE_CRASH:10,UFAD:11,EXPERIMENTAL_UFAD_DETECTION:12,UX_BREAKING_EXCEPTION:13,UX_GRACEFUL_RECOVERY_EXCEPTION:14});f.CRASH_TYPE=a}),66);
__d("WAWebCrashLogWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CrashLog:[494,{crashContext:[3,a.TYPES.STRING],crashCount:[5,a.TYPES.INTEGER],crashReason:[2,a.TYPES.STRING],crashType:[6,d("WAWebWamEnumCrashType").CRASH_TYPE],runningTasks:[16,a.TYPES.STRING]},[1,1,100],"regular"]},{CrashLog:[]});g.CrashLogWamEvent=b}),98);
__d("WAWebCrashlogConstants",["WAWebBuildConstants"],(function(a,b,c,d,e,f,g){a="https://crashlogs.whatsapp.net/wa_fls_upload_check";b="1063127757113399|745146ffa34413f9dbb5469f5370b7af";c="https://crashlogs.whatsapp.net/wa_clb_data";e="web";f="167028690535322";var h="0";d=d("WAWebBuildConstants").DYN_ORIGIN+"web-contact-us";var i=0;g.CLB_CHECK_URL=a;g.CLB_TOKEN=b;g.CLB_URL=c;g.CLB_PLATFORM=e;g.FB_APP_ID=f;g.BUILD_ID=h;g.TICKET_URL=d;g.UNIQUE_UPLOADS_ALLOWED_BEFORE_THROTTLE=i}),98);
__d("WAWebCrashlogUserAgent",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a="web",b="unknown";c("gkx")("26259")?b="intern":c("gkx")("26256")?b="automation":c("gkx")("26258")&&(b="prod");return a+"_"+b}function b(a){var b=a.appVersion,c=a.browser;a=a.device;c="Web/"+c;return"WhatsApp/"+b+" "+c+" Device/"+a}g.getDistribution=a;g.getLogUserAgent=b}),98);
__d("WAWebLogLineSanitizer",[],(function(a,b,c,d,e,f){function a(a){return a.replace(/(\d){1,16}(\d{4}[@,:,-])/g,"...$2")}f.sanitizeLine=a}),66);
__d("WAWebLoggerFormatMessage",["WAArrayInterleave"],(function(a,b,c,d,e,f,g){var h=4e3;function a(a,b,d,e){e===void 0&&(e=String);a=c("WAArrayInterleave")(a,b.map(e)).join("");b=d?h:Number.POSITIVE_INFINITY;a.length>b&&(a=a.slice(0,b/2)+("\n\n["+(a.length-b)+" truncated]\n\n")+a.slice(-b/2));return a}g["default"]=a}),98);
__d("WAWebLoggerOptimizer",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){var g="==================================================EOU",h=4e3;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b===void 0&&(b=0);c===void 0&&(c=!1);var d=[];if(c){c=(yield a.logs.orderBy("timestamp").filter(function(a){return a.timestamp>=b}).reverse().until(function(a){return a.log.includes("[sendlogs]")},!0).toArray());for(var e=c.length-1;e>=0;e--){j(c[e],d);if(c[e].log.includes(g))break}}else yield a.logs.orderBy("timestamp").filter(function(a){return a.timestamp>=b}).each(function(a){j(a,d)});return d});return i.apply(this,arguments)}function j(a,b){a.log=a.log.slice(0,h),b.push(a)}f.END_OF_UPLOAD=g;f.TRIM_LENGTH=h;f.getTimeboxedAndTrimmedLogs=a}),66);
__d("WAWebLoggerUtils",[],(function(a,b,c,d,e,f){var g=!1;function a(){return g}function b(a){g=a}function c(a){if(a<=0)return!1;return a>=1?!0:Math.random()<a}f.isWaitingForUpload=a;f.setWaitingForUpload=b;f.passesSampling=c}),66);
__d("WAWebLoggerImpl",["Promise","WAMemoizeConditionally","WAShiftTimer","WAWeb-moment","WAWebLoggerFormatMessage","WAWebLoggerOptimizer","WAWebLoggerUtils","WAWebNormalizeStack","WAWebWAWCStorage","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){var h,i="trace",j=864e5*7;c("gkx")("26258")?e=5e3:e=15e4;f=e;var k="LTSXOo+_*-=.<^!#?".split("");function a(){return k[Math.round(Math.random()*(k.length-1))]}var l=a()+a()+a()+a(),m={};m[m.ALL=0]="all";m[m.INFO=1]="info";m[m.LOG=2]="log";m[m.WARN=3]="warn";m[m.ERROR=4]="error";m[m.OFF=5]="off";e=function(){function a(a,b,e){var f=this;e===void 0&&(e=void 0);this.localCursor=0;this.writeFrom=0;this.pending=void 0;this.timer=new(d("WAShiftTimer").ShiftTimer)(function(){return f.$1()});this.runningTimestamp=0;this.isTakeOver=!1;this.log=c("WAMemoizeConditionally")(function(a,b,d,e,g){b===void 0&&(b=!1);return function(h){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var l=c("WAWebLoggerFormatMessage")(h,j,!b);f.logImpl(a,l,d,e,g);return l}},function(a,b,c,d,e){return c||e?null:String(a)+String(Boolean(b))+String(Boolean(d))});this.logsDBProvider=a;this.logCapacityInDatabase=b;this.logs=new Array(b);this.microStep=1/this.logCapacityInDatabase;this.processTag=e}var e=a.prototype;e.logImpl=function(a,b,e,f,g){var h=Date.now(),j=c("WAWeb-moment")(h).locale("en").format("YYYY-MM-DD HH:mm:ss.SSS:");if(!c("gkx")("26258"))try{a===m.ERROR&&(this.$2&&this.$2(b))}catch(a){}var k="";e&&((g==null?void 0:g.includes(i))?k="\n"+e.stack.split("\n").slice(3).join("\n"):k="\n"+d("WAWebNormalizeStack").normalizeStack(e,!0));a=[n(a),f&&!d("WAWebLoggerUtils").isWaitingForUpload()?"sendlogs":null].concat((e=g)!=null?e:[],[this.processTag]).filter(Boolean).map(function(a){return"["+a+"]"}).join("");f=l+" "+j+(a?a+" ":"")+b+k;this.logs[this.localCursor]={m:f,t:h};this.localCursor=(this.localCursor+1)%this.logCapacityInDatabase;this.logs[this.localCursor]!=null&&(this.writeFrom=this.localCursor);if(this.isTakeOver)return;this.timer.debounceAndCap(250,1e3)};e.$1=function(){var a=this;if(this.pending||this.logs[this.writeFrom]==null||this.isTakeOver)return;this.pending=this.logsDBProvider().then(function(c){return c.transaction("rw",c.logs,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,d=(yield c.logs.orderBy("count").last());d||(d=(yield c.logs.orderBy("timestamp").last()));var e=d?d.line+1:0;b=((b=d)==null?void 0:b.count)?d.count+1:e;while(a.logs[a.writeFrom]!=null){d=a.logs[a.writeFrom];a.logs[a.writeFrom]=void 0;a.writeFrom=(a.writeFrom+1)%a.logCapacityInDatabase;a.runningTimestamp=d.t<=a.runningTimestamp?a.runningTimestamp+a.microStep:d.t;c.logs.put({line:e++%a.logCapacityInDatabase,log:d.m,timestamp:a.runningTimestamp,count:b++})}}))}).then(function(){a.logs[a.writeFrom]!=null&&a.timer.debounceAndCap(250,1e3)})["catch"](function(b){!c("gkx")("26258")&&a.$2&&a.$2(b.message)})["finally"](function(){a.pending=void 0})};e.getLogs=function(a,e){var f=this;a===void 0&&(a=!1);e===void 0&&(e=Date.now()-j);var g=[];this.pending&&g.push(this.pending);this.timer.isScheduled()&&(this.timer.forceRunNow(),this.pending&&g.push(this.pending));return(h||(h=b("Promise"))).all(g).then(function(){return f.logsDBProvider()}).then(function(b){return d("WAWebLoggerOptimizer").getTimeboxedAndTrimmedLogs(b,e,a)}).then(function(a){return a.map(function(a){return a.log})})["catch"](function(a){!c("gkx")("26258")&&f.$2&&f.$2(a.message);return f.logs.filter(Boolean).map(function(a){return a.m})})};e.clearLogs=function(){var a=this;return this.logsDBProvider().then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a.logs.clear()});return function(b){return a.apply(this,arguments)}}())["catch"](function(){})["finally"](function(){a.localCursor=0,a.writeFrom=0,a.logs=new Array(a.logCapacityInDatabase)})};e.logUncaughtError=function(a,b){var d=a instanceof Error&&a.stack?a:void 0,e;d?e=String(a):e=b?"unhandled-rejection: "+String(a):"Error: "+String(a);this.logImpl(m.ERROR,e,d,!0,["uncaught"]);if(!c("gkx")("26258"))var f;if(b!=null){a=String(b);this.logImpl(m.WARN,a);!c("gkx")("26258")}return e};e.onTakeOver=function(){this.isTakeOver=!0};e.registerErrorNotificationListener=function(a){this.$2=a};return a}();function n(a){switch(a){case m.INFO:case m.LOG:case m.WARN:case m.ERROR:return m[a];default:throw c("err")("Unexpected numeric log level: "+a)}}a=new e(function(){return c("WAWebWAWCStorage").idb()},f);f=a.log;g.STACK_TRACE_TAG=i;g.LoggerImpl=e;g.Logger=a;g.log=f}),98);
__d("WAWebPriorLogs",["$InternalEnum","Promise","WALogger","WATimeUtils","WAWebSchemaSyncdLogs","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["prior logs: error while writing to prior logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["prior logs: error while printing fatal logs: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["\r\n\r\nprior logs: category ",": \r\n\r\n"],["\\r\\n\\r\\nprior logs: category ",": \\r\\n\\r\\n"]);l=function(){return a};return a}var m=b("$InternalEnum")({Empty:"",Regular:"regular",RegularLow:"regular_low",RegularHigh:"regular_high",CriticalBlock:"critical_block",CriticalUnblockLow:"critical_unblock_low"}),n=new Map(),o=90,p=80;function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=n.get(a))!=null?b:0;n.set(a,b+1);if(b%o===0){b=(yield d("WAWebSchemaSyncdLogs").getSyncdLogsTable().equals(["collection"],a));if(b.length<p)return;a=b.sort(function(a,b){return a.ts-b.ts}).slice(0,b.length-p).map(function(a){return a.id});yield d("WAWebSchemaSyncdLogs").getSyncdLogsTable().bulkRemove(a)}});return r.apply(this,arguments)}function a(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{yield q(a),yield d("WAWebSchemaSyncdLogs").getSyncdLogsTable().bulkCreate([{collection:a,log:b,ts:d("WATimeUtils").unixTimeMs()}])}catch(a){d("WALogger").ERROR(i(),a)}});return s.apply(this,arguments)}c=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[].concat(Array.from(m.members()),[""]).map(function(a){return m.cast(a)}).filter(Boolean);return t(a)});return function(){return a.apply(this,arguments)}}();var t=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSchemaSyncdLogs").getSyncdLogsTable().equals(["collection"],a));b=b.filter(function(a){return d("WATimeUtils").happenedWithin(d("WATimeUtils").castMilliSecondsToUnixTime(a.ts),d("WATimeUtils").DAY_MILLISECONDS*60)});b=b.map(function(a){return d("WATimeUtils").toHttpHeaderDate(d("WATimeUtils").castMilliSecondsToUnixTime(a.ts))+": "+a.log+"\r\n"});d("WALogger").LOG(l(),a);a=20;for(var c=0;c<b.length;c+=a)d("WALogger").LOG(k(),b.slice(c,c+a))});return function(b){return a.apply(this,arguments)}}());yield (h||(h=b("Promise"))).all((a=a)!=null?a:[])}catch(a){d("WALogger").ERROR(j(),a)}});return function(b){return a.apply(this,arguments)}}();g.WAWebLogCategory=m;g.writePriorLog=a;g.printAllPriorLogs=c;g.printPriorLogs=t}),98);
__d("WAWebWamEnumLogType",[],(function(a,b,c,d,e,f){a=Object.freeze({MINOR_EVENT:0,COUNTING_STAT:1});f.LOG_TYPE=a}),66);
__d("WAWebWebcMinorEventLogWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumLogType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcMinorEventLog:[5440,{additionalDebugContext:[1,a.TYPES.STRING],logContext:[2,a.TYPES.STRING],logCount:[3,a.TYPES.INTEGER],logReason:[4,a.TYPES.STRING],logType:[5,d("WAWebWamEnumLogType").LOG_TYPE]},[1,1,100],"regular"]},{WebcMinorEventLog:[]});g.WebcMinorEventLogWamEvent=b}),98);
__d("WAWebCrashlog",["$InternalEnum","Promise","WALogger","WAWebBrokerGlobalAppState","WAWebBuildConstants","WAWebCrashLogWamEvent","WAWebCrashlogConstants","WAWebCrashlogUserAgent","WAWebGlobals","WAWebLogLineSanitizer","WAWebLoggerImpl","WAWebLoggerOptimizer","WAWebLoggerUtils","WAWebMiscBrowserUtils","WAWebPriorLogs","WAWebRuntimeEnvironmentUtils","WAWebURLUtils","WAWebUserPrefsMeUser","WAWebWamEnumCrashType","WAWebWamEnumLogType","WAWebWebcMinorEventLogWamEvent","asyncToGeneratorRuntime","cr:4722","err","gkx","lodash"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crash log sendLogs failed, ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crashlog:failed to parse response from upload check ",", will perform default upload"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crashlog:doUpload server configured sampling check w/rate: "," prevented upload"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crashlog:doUpload skipping sampling check"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crashlog:doUpload aborting crashlog upload due to 403 check response"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crashlog:doUpload code of "," from "," was unexpected, expected values are: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["reason for logs: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs hasTaggedMessage"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs buildId: ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs distribution: ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs url: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs appId: ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs webPlatform: ",""]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs platform: ",""]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs userAgent: ",""]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs ref: ",""]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["=================================================="]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["Crashlog:upload client sampling check w/rate: "," prevented upload"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs error uploading: ",""]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs using throttle"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs reason already uploaded, skipping"]);D=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs squelched logs"]);a=function(){return b};return b}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs error logging minorEvent wam event: ",""]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs error during minorEvent wam commit: ",""]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs error logging crashLog wam event: ",""]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["wa:uploadLogs error during crashLog wam commit: ",""]);H=function(){return a};return a}var I=function(a){return new(h||(h=b("Promise")))(function(b){return self.setTimeout(b,a)})},J,K,L=b("$InternalEnum")({CRASHLOG:"crashlog",SUPPORT:"support"}),M="server-requested",N="manual-upload",O="user-report",P=b("$InternalEnum")({ONLY_EXCEPTION:"only_exception"}),Q=100,R=new Map(),S={shouldHitCheckEndpoint:function(){return!1},expectedCodes:[],appendToFormDataForCheck:function(a){},appendToFormDataForUpload:function(a,b){},shouldUseLightWeightLogs:function(a){return!1}},T={shouldHitCheckEndpoint:function(){return!0},expectedCodes:[200,403],appendToFormDataForCheck:function(a,b){a.append("reason",b)},appendToFormDataForUpload:function(a,b){},shouldUseLightWeightLogs:function(a){return!1}},aa={shouldHitCheckEndpoint:function(){return!0},expectedCodes:[200,403],appendToFormDataForCheck:function(a,b){a.append("support_exception_only_upload","true"),a.append("reason",b)},appendToFormDataForUpload:function(a,b){b&&b.upload===P.ONLY_EXCEPTION&&a.append("exception_only_upload","true")},shouldUseLightWeightLogs:function(a){return a?a.upload===P.ONLY_EXCEPTION:!1}};function ba(a){switch(a){case d("WALogger").SendLogsType.UNCAUGHT_EXCEPTION:case d("WALogger").SendLogsType.UNCAUGHT_EXCEPTION_SAD:return["uncaught_error"];case d("WALogger").SendLogsType.UNHANDLED_REJECTED_PROMISE:case d("WALogger").SendLogsType.UNHANDLED_REJECTED_PROMISE_SAD:return["unhandled_promise"];case d("WALogger").SendLogsType.USER_FORCEFULLY_LOGGED_OUT_SAD:return["logout"];default:return[]}}function ca(a){switch(a){case d("WALogger").SendLogsType.UNCAUGHT_EXCEPTION_SAD:return d("WAWebWamEnumCrashType").CRASH_TYPE.UNHANDLED_EXCEPTION;case d("WALogger").SendLogsType.UNHANDLED_REJECTED_PROMISE_SAD:return d("WAWebWamEnumCrashType").CRASH_TYPE.UNHANDLED_EXCEPTION;case d("WALogger").SendLogsType.USER_FORCEFULLY_LOGGED_OUT_SAD:return d("WAWebWamEnumCrashType").CRASH_TYPE.CRASH;case d("WALogger").SendLogsType.CRASH_OR_UNRECOVERABLE_ERROR_SAD:return d("WAWebWamEnumCrashType").CRASH_TYPE.CRASH;case d("WALogger").SendLogsType.UNCATEGORIZED_SAD:return d("WAWebWamEnumCrashType").CRASH_TYPE.CRASH;default:return d("WAWebWamEnumCrashType").CRASH_TYPE.CRASH}}function da(a){switch(a){case d("WALogger").SendLogsType.COUNTING_STAT:return d("WAWebWamEnumLogType").LOG_TYPE.COUNTING_STAT;case d("WALogger").SendLogsType.MINOR_ISSUE:return d("WAWebWamEnumLogType").LOG_TYPE.MINOR_EVENT;default:return d("WAWebWamEnumLogType").LOG_TYPE.MINOR_EVENT}}function ea(a,b,d){if(!c("gkx")("26258")&&a||d)return S;return b?aa:T}var fa=72e5,U=c("lodash").throttle(X,fa,{trailing:!1});function e(a){J=a}function f(a){K=a}function V(a){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.reason;e=e===void 0?"reason-unspecified":e;var f=a.immediate;f=f===void 0?!1:f;var g=a.logType;g=g===void 0?L.CRASHLOG:g;var i=a.isHighPri;i=i===void 0?!1:i;var j=a.hasTaggedMessage;j=j===void 0?!1:j;var k=a.ticketId,l=a.clientSamplingRate;l=l===void 0?1:l;var m=a.tags;m=m===void 0?[]:m;var n=a.fromTimestamp;a=a.sendLogsType;a=a===void 0?d("WALogger").SendLogsType.UNCATEGORIZED:a;if(c("WAWebBrokerGlobalAppState").isLogoutInProgress)return(h||(h=b("Promise"))).resolve();g===L.SUPPORT&&(yield d("WAWebPriorLogs").printAllPriorLogs());m=m;K&&(yield K())&&(m=m.concat("web-joined-beta"));d("WAWebRuntimeEnvironmentUtils").isWorker()&&(m=m.concat("service-worker"));m=m.concat(ba(a));l>0&&l<1&&(m=m.concat(["sampled",l.toString()]));if(R.size<=Q){var o=R.get(e);!o?R.set(e,{count:1,uploaded:!1}):o.count++}if(d("WALogger").SadSendLogsTypes.has(a)){m=m.concat("sad");try{var p;o=new(d("WAWebCrashLogWamEvent").CrashLogWamEvent)();o.crashReason=e;o.crashType=ca(a);m.length&&(o.crashContext=m.join(","));o.crashCount=(p=(p=R.get(e))==null?void 0:p.count)!=null?p:0;o.commitAndWaitForFlush()["catch"](function(a){d("WALogger").LOG(H(),a)})}catch(a){d("WALogger").LOG(G(),a)}}else try{p=new(d("WAWebWebcMinorEventLogWamEvent").WebcMinorEventLogWamEvent)();p.logReason=e;p.logType=da(a);m.length&&(p.logContext=m.join(","));p.logCount=(a=(o=R.get(e))==null?void 0:o.count)!=null?a:0;p.commitAndWaitForFlush()["catch"](function(a){d("WALogger").LOG(F(),a)})}catch(a){d("WALogger").LOG(E(),a)}if(d("WAWebLoggerUtils").isWaitingForUpload())return(h||(h=b("Promise"))).resolve();d("WAWebLoggerUtils").setWaitingForUpload(!0);if(d("WAWebLoggerUtils").passesSampling(l)){o=X;if(!i){a=R.get(e);if(a==null?void 0:a.uploaded){d("WALogger").LOG(D());d("WAWebLoggerUtils").setWaitingForUpload(!1);return}a&&(a.uploaded=!0);R.size>d("WAWebCrashlogConstants").UNIQUE_UPLOADS_ALLOWED_BEFORE_THROTTLE&&(d("WALogger").LOG(C()),o=U)}p=ea(i,j,e===M);try{a=(yield o({isHighPri:i,immediate:f,logType:g,ticketId:k,uploadStrategy:p,tags:m,reason:e,hasTaggedMessage:j,fromTimestamp:n}));d("WAWebLoggerUtils").setWaitingForUpload(!1);return a}catch(a){d("WAWebLoggerUtils").setWaitingForUpload(!1);d("WALogger").LOG(B(),a);return}}else d("WAWebLoggerUtils").setWaitingForUpload(!1),d("WALogger").LOG(A(),l)});return W.apply(this,arguments)}function X(a){return Y.apply(this,arguments)}function Y(){Y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=a.isHighPri;f=f===void 0?!1:f;var g=a.immediate,h=a.logType,i=a.ticketId,A=a.uploadStrategy,B=a.tags;B=B===void 0?[]:B;var C=a.reason;C=C===void 0?"reason-unspecified":C;var D=a.hasTaggedMessage;D=D===void 0?!1:D;a=a.fromTimestamp;!c("gkx")("26256")&&!c("gkx")("26258")&&(b("cr:4722")==null?void 0:b("cr:4722").logDbReadWriteStats(!0));var E=J?J():{platform:void 0,ref:void 0};d("WALogger").LOG(z());d("WALogger").LOG(y(),(e=E.ref)!=null?e:"no conn");d("WALogger").LOG(x(),navigator.userAgent);d("WALogger").LOG(w(),(e=E.platform)!=null?e:"no platform");d("WALogger").LOG(v(),d("WAWebCrashlogConstants").CLB_PLATFORM);d("WALogger").LOG(u(),d("WAWebCrashlogConstants").FB_APP_ID);d("WALogger").LOG(t(),location.href);d("WALogger").LOG(s(),d("WAWebCrashlogUserAgent").getDistribution());d("WALogger").LOG(r(),d("WAWebCrashlogConstants").BUILD_ID);D&&d("WALogger").LOG(q());d("WALogger").LOG(p(),C);d("WALogger").LOG(o(),d("WAWebLoggerOptimizer").END_OF_UPLOAD);yield I(g?0:1e3);var F;if(A.shouldHitCheckEndpoint()){E=Z({isHighPri:f});A.appendToFormDataForCheck(E,C);F=(yield self.fetch(ga(h),{method:"POST",body:E}));if(!A.expectedCodes.includes(F.status)){d("WALogger").LOG(n(),F.status,d("WAWebCrashlogConstants").CLB_CHECK_URL,A.expectedCodes.toString());return}if(F.status===403){d("WALogger").LOG(m());return}}else d("WALogger").LOG(l());e=null;if(F)try{e=JSON.parse(yield F.text());if(((D=e)==null?void 0:(g=D.config)==null?void 0:g.sampling)!=null&&(e.config.sampling===0||Math.random()*e.config.sampling>1)){d("WALogger").LOG(k(),e.config.sampling);return}}catch(a){d("WALogger").LOG(j(),String(a))}E=Z({isHighPri:f});A.appendToFormDataForUpload(E,e);D=(yield d("WAWebLoggerImpl").Logger.getLogs(A.shouldUseLightWeightLogs(e),C===M?0:a));c("gkx")("26258")&&(D=D.map(d("WAWebLogLineSanitizer").sanitizeLine));g=D.join("\n");f=new Blob([g],{type:"text/plain"});E.append("file",f,"logs.txt");B.length&&E.append("tags",B.join(","));i&&E.append("ticket_id",i);A=ha(h);e=(yield self.fetch(A,{method:"POST",body:E}));if(e.status!==200)throw c("err")("Status code of "+e.status+" from "+A+" was unexpected, expected 200");return e.headers.get("X-Uploaded-File-Id")});return Y.apply(this,arguments)}function Z(a){a=a.isHighPri;var b=new FormData();(!c("gkx")("26258")||a)&&b.append("forced","true");a=d("WAWebRuntimeEnvironmentUtils").isWorker()&&!d("WAWebGlobals").areGlobalsReady()?void 0:d("WAWebUserPrefsMeUser").getMe();a?b.append("from_jid",a.toString()):b.append("from_jid",d("WAWebUserPrefsMeUser").getUnknownId());a=c("WAWebMiscBrowserUtils").info();a=d("WAWebCrashlogUserAgent").getLogUserAgent({device:a.os,browser:a.ua,appVersion:d("WAWebBuildConstants").VERSION_BASE});b.append("agent",a);b.append("app_id",d("WAWebCrashlogConstants").FB_APP_ID);b.append("build_id",d("WAWebCrashlogConstants").BUILD_ID);return b}function ga(a){return c("WAWebURLUtils").build(d("WAWebCrashlogConstants").CLB_CHECK_URL,{type:String(a),access_token:d("WAWebCrashlogConstants").CLB_TOKEN})}function ha(a){return c("WAWebURLUtils").build(d("WAWebCrashlogConstants").CLB_URL,{type:String(a),access_token:d("WAWebCrashlogConstants").CLB_TOKEN})}function ia(a,b){return $.apply(this,arguments)}function $(){$=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("WAWebLoggerImpl").Logger.isTakeOver)return;try{yield V({reason:a,hasTaggedMessage:!0,clientSamplingRate:(a=b==null?void 0:b.sampling)!=null?a:1,tags:b==null?void 0:b.tags,sendLogsType:b==null?void 0:b.sendLogsType})}catch(a){d("WALogger").ERROR(i(),a)}});return $.apply(this,arguments)}function ja(){U.cancel(),R.clear()}g.LogType=L;g.SERVER_REQUESTED=M;g.MANUAL_UPLOAD=N;g.USER_REPORT=O;g.registerCrashlogUploadInformationalLoggingFunction=e;g.registerCrashlogUploadIsUserInExternalBetaFunction=f;g.upload=V;g.sendLogs=ia;g.reset=ja}),98);
__d("WAWebCryptoDecryptPartialMedia",["Promise","WALogger","WATypedArraysConcat","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:getEncryptedPadding encrypt error: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:getEncryptedPadding importKey error: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:decrypt decrypt error: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:decrypt importKey error: ",""]);l=function(){return a};return a}var m=16,n=10,o=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.ciphertext,c=a.iv;a=a.mediaKeys;a=a.encKey;c={name:"AES-CBC",iv:c};try{a=(yield self.crypto.subtle.importKey("raw",new Uint8Array(a),"AES-CBC",!1,["decrypt"])["catch"](function(a){d("WALogger").LOG(l(),String(a));throw a}));return self.crypto.subtle.decrypt(c,a,b)}catch(a){d("WALogger").LOG(k(),String(a));throw a}});return function(b){return a.apply(this,arguments)}}(),p=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.ciphertext;a=a.mediaKeys;a=a.encKey;b=b instanceof Uint8Array?b:new Uint8Array(b);b={name:"AES-CBC",iv:b.slice(0-m)};try{a=(yield self.crypto.subtle.importKey("raw",new Uint8Array(a),"AES-CBC",!1,["encrypt"])["catch"](function(a){d("WALogger").LOG(j(),String(a));return void 0}));var c=new Uint8Array([]);return self.crypto.subtle.encrypt(b,a,c)}catch(a){d("WALogger").LOG(i(),String(a));return void 0}});return function(b){return a.apply(this,arguments)}}(),q=function(a){var c=a.serverRangeStart,e=a.ciphertext;a=a.mediaKeys;var f=e instanceof Uint8Array?e:new Uint8Array(e);e=c===0;c=f.byteLength%m===0;var g=!c,i;e?i=new Uint8Array(a.iv):(i=f.slice(0,m),f=f.slice(m));g&&(f=f.slice(0,f.byteLength-n));return c?p({ciphertext:f,mediaKeys:a}).then(function(a){f=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[f,new Uint8Array(a)]);return{ciphertext:f,iv:i}}):(h||(h=b("Promise"))).resolve({ciphertext:f,iv:i})};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.mediaKeys;a=a.ciphertext;a=(yield q({serverRangeStart:0,ciphertext:a,mediaKeys:b}));var c=a.ciphertext;a=a.iv;return o({ciphertext:c,iv:a,mediaKeys:b})});return function(b){return a.apply(this,arguments)}}();g.BLOCK_SIZE=m;g.HMAC_SIZE=n;g.decrypt=o;g.cleanupCiphertextAndIv=q;g.decryptPartialMedia=a}),98);
__d("WAWebDBRevokeInviteV4",["WAWebApiGroupInviteV4Store","WAWebBackendApi","WAWebDBMsgUtils","WAWebDBProcessMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=(yield d("WAWebApiGroupInviteV4Store").revokeGroupInvites(a,b,c,e));b=(a==null?void 0:a.map(function(a){return a.id}))||[];c=(yield d("WAWebDBMsgUtils").getMsgsByMsgKey(b,function(a){a.inviteCodeExp="0"}));for(e of c)d("WAWebBackendApi").frontendFireAndForget("expireGroupInviteV4",{inviteMsgId:e.id}),d("WAWebDBProcessMessage").updateExistingMessages([e],e.id.remote)});return h.apply(this,arguments)}g.revokeGroupInviteV4=a}),98);
__d("WAWebDexieBootstrap",["WAWeb-dexie"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("WAWeb-dexie").Promise.PSD.onunhandled=function(){},c("WAWeb-dexie").Promise.PSD.txRelaxedDurabilityEnabled=!0}g.patchDexie=a}),98);
__d("WAWebEventSampling",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[EventSampling] override event sampling weight for ",": ",""]);h=function(){return a};return a}var i=null;function j(a){return i==null?null:i(a)}function a(a){var b=j(a);if(b!=null){d("WALogger").DEV(h(),a,b);return Math.abs(b)}return null}function b(a){i=a}g.getClientEventSamplingWeight=a;g.setGetEventSamplingConfigValueImpl=b}),98);
__d("WAWebEventsWaitForOfflineDeliveryEnd",["Promise","WAWebCmd","WAWebEventsWaitForBbEvent","err"],(function(a,b,c,d,e,f,g){var h,i;function a(){if(i)return;i=c("WAWebEventsWaitForBbEvent")(d("WAWebCmd").Cmd,"offline_delivery_end");d("WAWebCmd").Cmd.on("offline_delivery_start",function(){i=c("WAWebEventsWaitForBbEvent")(d("WAWebCmd").Cmd,"offline_delivery_end")})}function e(){if(d("WAWebCmd").Cmd.isOfflineDeliveryEnd)return(h||(h=b("Promise"))).resolve();return!i?(h||(h=b("Promise"))).reject(c("err")("waitForOfflineDeliveryEnd called before init")):i}g.initWaitForOfflineDeliveryEnd=a;g.waitForOfflineDeliveryEnd=e}),98);
__d("WAWebFetchPrekeysJob",["WALogger","WAParsableXmlNode","WASmaxPreKeysFetchKeyBundlesRPC","WAWebBackendErrors","WAWebProcessKeyBundle","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchPrekeys: successfully established "," E2E sessions out of "," requested"]);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=!1);var e=(yield d("WASmaxPreKeysFetchKeyBundlesRPC").sendFetchKeyBundlesRPC({userArgs:a.map(function(a){return{userJid:d("WAWebWidToJid").widToDeviceJid(a),hasUserReasonIdentity:b}})}));if(e.name==="FetchKeyBundlesResponseServerError"){var f=e.value.errorServerErrors.value;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(f.code),"fetchPrekeys: server error: "+f.code+" "+f.text)}else if(e.name==="FetchKeyBundlesResponseRequestError"){f=e.value.errorRequestErrorsFetch.value;throw new(d("WAWebBackendErrors").ServerStatusCodeError)(Number(f.code),"fetchPrekeys: request error: "+f.code+" "+f.text)}f=e.value.listUser.map(function(a){var b=a.userFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup;switch(b.name){case"FetchKeyBundlesUserSuccess":var e=b.value,f=e.preKeyMixin,g=e.elementValue,h=e.deviceIdentityMixin,i=e.skeyIdKeyIDMixin,j=e.skeyValueKeyDataMixin,k=e.skeySignatureElementValue;e=e.registrationElementValue;return{deviceIdentity:(h=h==null?void 0:h.deviceIdentityElementValue)!=null?h:null,identity:g,skey:{id:d("WAParsableXmlNode").convertBytesToUint(i.elementValue,3),pubkey:j.elementValue,signature:k},key:f?{id:d("WAParsableXmlNode").convertBytesToUint(f.keyIdKeyIDMixin.elementValue,3),pubkey:(h=f.keyValueKeyDataMixin)==null?void 0:h.elementValue}:null,regId:d("WAParsableXmlNode").convertBytesToUint(e,4),wid:d("WAWebWidFactory").createWid(a.jid)};case"FetchKeyBundlesUserErrorFallback":case"FetchKeyBundlesUserError":g=b.value;i=g.errorCode;j=g.errorText;return c("err")("fetchPrekeys: list item error: "+i+" "+j)}});if(f.length===0)throw c("err")("fetchPrekeys: empty key info");e=(yield d("WAWebProcessKeyBundle").processKeyBundles(f));f=e.depletedPrekeyCount;e=e.processedPrekeyCount;d("WALogger").LOG(h(),e,a.length);return{depletedPrekeyCount:f}});return i.apply(this,arguments)}g.fetchPrekeys=a}),98);
__d("WAWebGroupParticipantsJob",["WAJobOrchestratorTypes","WAWebGroupsParticipantsApi","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("updateParticipants",function(a){return d("WAWebGroupsParticipantsApi").updateParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function b(a,b,c,e){a={group:a,participants:b,isOffline:c,reason:e};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("addParticipants",function(a){return d("WAWebGroupsParticipantsApi").addParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function c(a,b,c,e,f,g,h){a={group:a,participants:b,timestamp:c,author:e,reason:f,groupMetadata:g,isOffline:h};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("removeParticipants",function(a){return d("WAWebGroupsParticipantsApi").removeParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function e(a,b,c,e){a={group:a,participants:b,groupMetadata:c,isOffline:e};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("demoteParticipants",function(a){return d("WAWebGroupsParticipantsApi").demoteParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function f(a,b,c,e){a={group:a,participants:b,groupMetadata:c,isOffline:e};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("promoteParticipants",function(a){return d("WAWebGroupsParticipantsApi").promoteParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function h(a,b,c){a={group:a,participants:b,isOffline:c};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("promoteCommunityParticipants",function(a){return d("WAWebGroupsParticipantsApi").promoteCommmunityParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}function i(a,b,c){a={group:a,participants:b,isOffline:c};return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("demoteCommunityParticipants",function(a){return d("WAWebGroupsParticipantsApi").demoteCommmunityParticipants(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted(a)}g.updateParticipantsJob=a;g.addParticipantsJob=b;g.removeParticipantsJob=c;g.demoteParticipantsJob=e;g.promoteParticipantsJob=f;g.promoteCommunityParticipantsJob=h;g.demoteCommunityParticipantsJob=i}),98);
__d("WAWebGroupUnjoinedSubgroupJob",["WAJobOrchestratorTypes","WAWebApiUnjoinedSubgroupMetadataStore","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a,b,c){c===void 0&&(c=!0);return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("updateUnjoinedSubgroups",function(a){return d("WAWebApiUnjoinedSubgroupMetadataStore").updateUnjoinedSubgroups(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted({unjoinedSubgroups:a,parentGroupId:b,link:c})}function b(a,b){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("cleanUnjoinedSubgroups",function(a){return d("WAWebApiUnjoinedSubgroupMetadataStore").cleanUnjoinedSubgroups(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted({unjoinedSubgroupIds:a,parentGroupId:b})}g.updateUnjoinedSubgroupsJob=a;g.cleanUnjoinedSubgroupsJob=b}),98);
__d("WAWebIsOfficialClient",["WALogger","WAWebUA","WAWebWamGlobals","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot set ocVersion ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot analyze UC ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["A caller is not found ",""]);l=function(){return a};return a}var m=function(){var a=typeof self!=="undefined"?self.navigator:null;return Boolean(a.webdriver)};a=function(){if(m())return!1;return d("WAWebUA").UA.isChrome&&/HeadlessChrome/.test(window.navigator.userAgent)?!1:!0};var n=function(){try{var a=new Error();a=a.stack;var b=a.split("\n").filter(function(a){return Boolean(a.trim())}).pop();if(b==null){d("WALogger").WARN(l(),a).tags("uc");return!0}if(!b.includes(".whatsapp.com")){!c("gkx")("26258")?d("WALogger").WARN(k(),b).tags("uc").sendLogs("Unexpectedly detected UC"):d("WALogger").WARN(j(),b).tags("uc");return!1}}catch(a){d("WALogger").WARN(i(),a.stack).tags("uc")}return!0};b="webpackChunkwhatsapp_web_client";b in window||(window[b]=[]);var o=window[b];o!=null&&Object.defineProperty(window,b,{get:function(){if(!n())try{d("WAWebWamGlobals").Global.set({ocVersion:0})}catch(a){d("WALogger").WARN(h(),a.stack).tags("uc")}return o}});e=a();g.isLegitErrorStack=n;g.isOfficialClient=e}),98);
__d("WAWebWamEnumApplicationState",[],(function(a,b,c,d,e,f){a=Object.freeze({FOREGROUND:1,BACKGROUND:2});f.APPLICATION_STATE=a}),66);
__d("WAWebWamEnumProjectCode",[],(function(a,b,c,d,e,f){a=Object.freeze({DIT:1,DIRECTORY_SEARCH:2});f.PROJECT_CODE=a}),66);
__d("WAWebWamEnumSignCredentialResult",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:1,ERROR_BAD_REQUEST:2,ERROR_SERVER:3,ERROR_OTHER:4,ERROR_CLIENT_NETWORK:5});f.SIGN_CREDENTIAL_RESULT=a}),66);
__d("WAWebSignCredentialWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumApplicationState","WAWebWamEnumProjectCode","WAWebWamEnumSignCredentialResult"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({SignCredential:[2242,{applicationState:[6,d("WAWebWamEnumApplicationState").APPLICATION_STATE],isFromWameta:[8,a.TYPES.BOOLEAN],overallT:[4,a.TYPES.TIMER],projectCode:[7,d("WAWebWamEnumProjectCode").PROJECT_CODE],retryCount:[2,a.TYPES.INTEGER],signCredentialResult:[1,d("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT],signCredentialT:[3,a.TYPES.TIMER],waConnectedToChatd:[5,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{SignCredential:[]});g.SignCredentialWamEvent=b}),98);
__d("privateStatsToken",["Promise","WABinary","WACryptoDependencies","WACryptoPrimitives","WADeprecatedSendIq","WADeprecatedWapParser","WAErrors","WALogger","WAPromiseRetryLoop","WATimeUtils","WAWamPrivateStatsToken","WAWamStorage","WAWap"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["issuePrivateStatsToken: Disconnected"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["issuePrivateStatsToken: failed to unblind the signed token"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["issuePrivateStatsToken: failed ",""]);k=function(){return a};return a}var l=3,m=new(c("WADeprecatedWapParser"))("issuePrivateStatsToken",function(a){a=a.child("sign_credential");var b=a.child("signed_credential");b=b.contentBytes();a=a.child("acs_public_key");a=a.contentBytes();return{signedCredential:b,acsPublicKey:a}});function n(a){switch(a.errorCode){case 400:return"bad-request";case 500:return"internal-server-error";case 501:return"feature-not-implemented";case 503:return"service-unavailable";default:return"unknown"}}function o(a){var c=d("WATimeUtils").monotonicTime(),e={overallStartTime:c,retryStartTime:c,retryAttemptsLeft:l},f=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(f);var g=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(g);var o=d("WAWamPrivateStatsToken").blindToken(f,g);c=function(c){e.retryAttemptsLeft<l&&(e.retryStartTime=d("WATimeUtils").monotonicTime());var p=d("WAWap").wap("iq",{xmlns:"privatestats",id:d("WAWap").generateId(),type:"get",to:d("WAWap").S_WHATSAPP_NET},d("WAWap").wap("sign_credential",{version:"1"},d("WAWap").wap("blinded_credential",null,o))),q=a||d("WADeprecatedSendIq").deprecatedSendIqWithoutRetry;return q(p,m).then(function(a){if(!a.success){var b=n(a);d("WALogger").WARN(k(),b);b!=="internal-server-error"||e.retryAttemptsLeft<=0?c({result:null,metric:babelHelpers["extends"]({},e,{result:b})}):e.retryAttemptsLeft--;return}b=a.result;a=b.signedCredential;b=b.acsPublicKey;a=d("WAWamPrivateStatsToken").unblindToken(a,g,b);if(a==null){d("WALogger").WARN(j());c({result:null,metric:babelHelpers["extends"]({},e,{result:"decryption-error"})});return}b=d("WABinary").Binary.build(f,a);a=d("WACryptoPrimitives").hash(b.readByteArray());c({result:{token:f,sharedSecret:a},metric:babelHelpers["extends"]({},e,{result:"success"})})})["catch"](function(a){if(a instanceof d("WAErrors").Disconnected)d("WALogger").WARN(i()),e.retryAttemptsLeft<=0?c({result:null,metric:babelHelpers["extends"]({},e,{result:"disconnected"})}):e.retryAttemptsLeft--;else return(h||(h=b("Promise"))).reject(a)})};c=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"issuePrivateStatsToken",timer:{algo:{type:"exponential",first:250},max:1e3},code:c});c.start();return c.promise()}function a(a){return d("WAWamStorage").redeemPrivateStatsToken().then(function(b){return b?{result:b}:o(a).then(function(a){var b=babelHelpers["extends"]({},a);a=a.result;return a?d("WAWamStorage").savePrivateStatsToken(a).then(function(){return b}):b})})}g.issuePrivateStatsToken=o;g.getToken=a}),98);
__d("WAWebIssuePrivateStatsToken",["WADeprecatedSendIq","WALogger","WASemaphore","WATimeUtils","WAWebSignCredentialWamEvent","WAWebWamEnumApplicationState","WAWebWamEnumSignCredentialResult","asyncToGeneratorRuntime","privateStatsToken"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Couldn't get a private stats token"]);h=function(){return a};return a}var i=3;function j(a){switch(a){case"success":return d("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.SUCCESS;case"bad-request":return d("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_BAD_REQUEST;case"internal-server-error":return d("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_SERVER;case"disconnected":return d("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_CLIENT_NETWORK;default:a;return d("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_OTHER}}function k(a){var b=a.result,c=a.overallStartTime,e=a.retryStartTime;a=a.retryAttemptsLeft;var f=j(b);new(d("WAWebSignCredentialWamEvent").SignCredentialWamEvent)({signCredentialResult:f,overallT:d("WATimeUtils").monotonicTimeSince(c),signCredentialT:d("WATimeUtils").monotonicTimeSince(e),retryCount:i-a,waConnectedToChatd:b!=="disconnected",applicationState:document.visibilityState==="visible"?d("WAWebWamEnumApplicationState").APPLICATION_STATE.FOREGROUND:d("WAWebWamEnumApplicationState").APPLICATION_STATE.BACKGROUND}).commit()}var l=new(d("WASemaphore").Semaphore)(1);function a(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield l.acquire());try{var b=(yield d("privateStatsToken").getToken(d("WADeprecatedSendIq").deprecatedSendIqWithoutRetry)),c=b.result;b=b.metric;b!=null&&k(b);c||d("WALogger").WARN(h());return c}finally{a.release()}});return m.apply(this,arguments)}g.getToken=a}),98);
__d("WAWebLidFoundationalGatingUtils",["$InternalEnum","WAWebABProps","err"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({FEATURE_DISABLED:0,FEATURE_ENABLED:1,ROLLOUT_COMPLETE:2});function i(){var a=d("WAWebABProps").getABPropConfigValue("single_e2ee_session_migration_state_incoming");if(a===0)return h.FEATURE_DISABLED;else if(a===1)return h.FEATURE_ENABLED;else if(a===2)return h.ROLLOUT_COMPLETE;return h.FEATURE_DISABLED}var j=b("$InternalEnum")({FEATURE_DISABLED:0,FEATURE_ENABLED:1,ROLLOUT_COMPLETE:2});function k(){var a=d("WAWebABProps").getABPropConfigValue("single_e2ee_session_migration_state_outgoing");if(a===0)return j.FEATURE_DISABLED;else if(a===1)return j.FEATURE_ENABLED;else if(a===2)return j.ROLLOUT_COMPLETE;return j.FEATURE_DISABLED}function a(a,b){if(!a.isLid())return!1;a=i();if(a===h.FEATURE_DISABLED)return!0;else if(a===h.FEATURE_ENABLED)return b==null?!0:b;else if(a===h.ROLLOUT_COMPLETE)return!1;throw c("err")("Invalid ABProp value for SingleE2eeSessionIncomingState")}function e(a){if(!a.isLid())return!1;a=k();if(a===j.FEATURE_DISABLED)return!0;else if(a===j.FEATURE_ENABLED)return!1;else if(a===j.ROLLOUT_COMPLETE)return!1;throw c("err")("Invalid ABProp value for SingleE2EESessionOutgoingState")}g.SingleE2EESessionIncomingState=h;g.getSingleE2eeSessionIncomingState=i;g.SingleE2EESessionOutgoingState=j;g.getSingleE2eeSessionOutgoingState=k;g.shouldUseDeprecatedSessionForIncomingMessage=a;g.shouldUseDeprecatedSessionForOutgoingMessage=e}),98);
__d("WAWebManageE2ESessionsJob",["Promise","WALogger","WAResolvable","WAShiftTimer","WAWebEventsWaitForOfflineDeliveryEnd","WAWebFetchPrekeysJob","WAWebSignal","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: "," existing sessions, "," requested, "," requests deduplicated"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: deduped requests failed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: request failed: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: fetch prekeys for "," wids"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: can only estabilish session with user wid"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: ",""]);n=function(){return a};return a}var o=new Map(),p=new Map();function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c===void 0&&(c=!1);yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd();d("WALogger").LOG(n(),a.length,a.map(function(a){return a.toString()}).join());var e=new(d("WAResolvable").Resolvable)(),f=[],g=[];a.forEach(function(a){if(!a.isUserNotPSA()){d("WALogger").LOG(m());return}var b=o.get(a.toString());b&&(b.cancel(),o["delete"](a.toString()));b=p.get(a.toString());b?f.push(b):(g.push(a),p.set(a.toString(),e.promise))});var q=0,r=0;try{if(g.length>0){var s=(yield d("WAWebSignal").Session.hasSignalSessions(g)),t=g.filter(function(a,b){return!s[b]});if(t.length>0){d("WALogger").LOG(l(),a.length,t.length);c=(yield d("WAWebFetchPrekeysJob").fetchPrekeys(t,c));r=(c=c.depletedPrekeyCount)!=null?c:0;q=t.length}}e.resolve()}catch(b){d("WALogger").WARN(k(),a.length,b);e.resolve(b);throw b}finally{g.forEach(function(a){return p["delete"](a.toString())})}try{c=(yield (h||(h=b("Promise"))).all(f)).find(Boolean);if(c)throw c}catch(b){d("WALogger").WARN(j(),a.length,b);throw b}d("WALogger").LOG(i(),a.length,g.length-q,q,f.length);return{missedPrekeyCount:q,depletedPrekeyCount:r}});return r.apply(this,arguments)}function a(a,b,c){c===void 0&&(c=!1);var e=new(d("WAShiftTimer").ShiftTimer)(function(){q(a,c)});a.forEach(function(a){o.set(String(a),e)});e.onOrAfter(1e3*b)}g.ensureE2ESessions=q;g.ensureE2ESessionsWithDelay=a}),98);
__d("WAWebModelStorage",["WAWebModelStorageInitialize","WAWebUserPrefsIndexedDBStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebModelStorageInitialize").initializeWithoutGKs(a),yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.init()});return h.apply(this,arguments)}Object.keys(d("WAWebModelStorageInitialize")).forEach(function(a){if(a==="default"||a==="__esModule")return;g[a]=d("WAWebModelStorageInitialize")[a]});g.initialize=a}),98);
__d("WAWebNewsletterMsgEditUtils",["WAWebMsgKey","WAWebMsgType"],(function(a,b,c,d,e,f,g){function a(a){return babelHelpers["extends"]({},a,{type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:d("WAWebMsgType").MsgKind.Protocol,subtype:"message_edit",protocolMessageKey:a.id,latestEditMsgKey:a.id,latestEditSenderTimestampMs:a.t})}function b(a,b){var e=a.id.clone(),f=new(c("WAWebMsgKey"))({remote:a.id.remote,fromMe:a.id.fromMe,id:c("WAWebMsgKey").newId_DEPRECATED()});return babelHelpers["extends"]({},a,{id:f,type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:d("WAWebMsgType").MsgKind.Protocol,subtype:"message_edit",editMsgType:a.type,protocolMessageKey:e,latestEditMsgKey:f,latestEditSenderTimestampMs:b.latestEditSenderTimestampMs})}g.mapMsgToEditProtocolMsgLegacy=a;g.mapMsgToEditProtocolMsg=b}),98);
__d("WAWebNewsletterMsgStanzaAdapters",["WAAckLevel","WAWebMsgKey","WAWebMsgType","WAWebNewsletterMsgEditUtils","WAWebUserPrefsMeUser","err"],(function(a,b,c,d,e,f,g){function a(a,b,e){if(e.addOnParentKey==null)throw c("err")("Reaction message without parent");return{id:a,reactionParentKey:e.addOnParentKey,type:d("WAWebMsgType").MSG_TYPE.REACTION,kind:d("WAWebMsgType").MsgKind.ReactionDecrypted,t:b.t,from:b.from,to:b.to,serverId:b.serverId,isNewMsg:!1,ack:d("WAAckLevel").ACK.SENT,read:!1,reactionText:b.reactionCode,reactionTimestamp:b.t*1e3}}function b(a,b,e){if(e.addOnParentKey==null)throw c("err")("Reaction message without parent");return{id:a,t:b.t,from:b.from,to:b.to,serverId:b.serverId,isNewMsg:!1,ack:d("WAAckLevel").ACK.SENT,type:d("WAWebMsgType").MSG_TYPE.POLL_UPDATE,kind:d("WAWebMsgType").MsgKind.PollVoteDecrypted,subtype:"poll_vote",pollUpdateParentKey:e.addOnParentKey,selectedOptionLocalIds:(a=e.pollVotesAsLocalIds)!=null?a:[],senderTimestampMs:b.t*1e3,read:!1}}function e(a){var b=a.msgKey,e=a.msg,f=a.msgContext,g=a.baseMsgData;a=a.parsingContext;if(a==="history"){return{id:new(c("WAWebMsgKey"))({remote:e.from,fromMe:e.isSender,id:e.id}),from:e.from,to:e.isSender?e.from:d("WAWebUserPrefsMeUser").getMeUser(),t:(a=f.metaOriginalMsgT)!=null?a:e.t,serverId:e.serverId,lastUpdateFromServerTs:(a=f.lastUpdateFromServerTs)!=null?a:void 0,type:"revoked",kind:d("WAWebMsgType").MsgKind.RevokedMessage,revokeSender:e.from,subtype:"admin"}}return babelHelpers["extends"]({},g,{serverId:e.serverId,id:new(c("WAWebMsgKey"))({remote:e.from,fromMe:e.isSender,id:c("WAWebMsgKey").newId_DEPRECATED()}),type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:d("WAWebMsgType").MsgKind.ProtocolRevoke,subtype:"admin_revoke",protocolMessageKey:b})}function f(a,b,c){return b!=="history"?d("WAWebNewsletterMsgEditUtils").mapMsgToEditProtocolMsg(a,{latestEditSenderTimestampMs:c.latestEditSenderTimestampMs}):a}g.mapReactionMsgStanza=a;g.mapPollVoteMsgStanza=b;g.mapRevokeMsgStanza=e;g.mapEditMsgStanza=f}),98);
__d("WAWebNewsletterBackendMsgUtils",["WAAckLevel","WATimeUtils","WAWebE2EProtoParser","WAWebMsgKey","WAWebMsgType","WAWebNewsletterFutureProofUtils","WAWebNewsletterMsgStanzaAdapters","WAWebProtobufsE2E.pb","WAWebUserPrefsMeUser","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){function h(a,b){var e=a.msg;a=a.msgContext;var f=new(c("WAWebMsgKey"))({remote:e.from,fromMe:e.isSender,id:e.id});switch(e.type){case"NewsletterReaction":case"NewsletterReactionRevoke":return d("WAWebNewsletterMsgStanzaAdapters").mapReactionMsgStanza(f,e,a);case"NewsletterPollVote":return d("WAWebNewsletterMsgStanzaAdapters").mapPollVoteMsgStanza(f,e,a)}var g=j(f,e);if(e.type==="NewsletterRevoke")return d("WAWebNewsletterMsgStanzaAdapters").mapRevokeMsgStanza({msgKey:f,msg:e,msgContext:a,baseMsgData:g,parsingContext:b});var h=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsE2E.pb").MessageSpec,e.payload);h=d("WAWebE2EProtoParser").parseMsgProto(h,g,b);g=i(babelHelpers["extends"]({},h,{isNewMsg:a.isNewMsg,viewCount:(g=a.viewCount)!=null?g:void 0,hasReaction:!!a.hasReaction,latestEditSenderTimestampMs:a.latestEditSenderTimestampMs,lastUpdateFromServerTs:(g=a.lastUpdateFromServerTs)!=null?g:void 0,latestEditMsgKey:a.isEdited===!0?f:void 0,serverId:e.serverId}));d("WAWebNewsletterFutureProofUtils").isMsgSupported(h)||(g.type=d("WAWebMsgType").MSG_TYPE.UNKNOWN,g.kind=d("WAWebMsgType").MsgKind.Unknown,g.futureproofType=h.type,g.futureproofSubtype=h.subtype);switch(e.type){case"NewsletterEdit":return d("WAWebNewsletterMsgStanzaAdapters").mapEditMsgStanza(g,b,a);case"NewsletterPollCreation":case"NewsletterText":case"NewsletterMedia":return g;default:e.type;throw c("err")("unreachable code")}}function i(a){a.streamingSidecar=null;a.mediaKey=null;a.mediaKeyTimestamp=null;return a}function a(a,b,c,e){c===void 0&&(c=!1);var f=a.newsletterMessageHistoryContent,g=a.id,i=a.t,j=a.serverId;if(f==null||g==null||i==null)return null;var k=a.isSender==="true";g={id:g,from:b,isSender:k,to:k?b:d("WAWebUserPrefsMeUser").getMeUser(),t:i,serverId:j,offlineCount:null};b=(k=a.newsletterMessageOriginalTimestampMixin)==null?void 0:k.metaOriginalMsgT;k={hasReaction:c,lastUpdateFromServerTs:e,viewCount:(j=a.newsletterViewsCountMixin)==null?void 0:j.viewsCountCount,isEdited:f.name==="NewsletterEdit",metaOriginalMsgT:b};c="history";switch(f.name){case"NewsletterEdit":j=(e=a.newsletterMessageLastEditTimestampMixin)==null?void 0:e.metaMsgEditT;a=j!=null?d("WATimeUtils").castToMillisTime(j):void 0;b=(e=b)!=null?e:i;return h({msg:babelHelpers["extends"]({},g,{type:f.name,t:b,payload:f.value.newsletterTextOrMediaMixinGroup.value.plaintextPayloadMixin.elementValue,msgEditT:j,msgOriginalT:i}),msgContext:babelHelpers["extends"]({},k,{latestEditSenderTimestampMs:a})},c);case"NewsletterText":return h({msg:babelHelpers["extends"]({},g,{payload:f.value.plaintextPayloadMixin.elementValue,type:f.name}),msgContext:k},c);case"NewsletterPollCreation":return h({msg:babelHelpers["extends"]({},g,{payload:f.value.plaintextPayloadMixin.elementValue,type:f.name}),msgContext:k},c);case"NewsletterMedia":return h({msg:babelHelpers["extends"]({},g,{payload:f.value.plaintextPayloadMixin.elementValue,type:f.name}),msgContext:k},c);case"NewsletterRevoke":return h({msg:babelHelpers["extends"]({},g,{type:f.name}),msgContext:k},c);default:f.name;return null}}function j(a,b){return{ack:d("WAAckLevel").ACK.SENT,from:b.from,t:b.t,to:b.to,id:a,type:d("WAWebMsgType").MSG_TYPE.UNKNOWN,count:null,invis:!1}}g.mapMsgStanzaToMsgData=h;g.mapNewsletterMsgToMsgData=a}),98);
__d("WAWebNewsletterPollsVotesUtils",["WABase64","WAHex","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield self.crypto.subtle.digest("SHA-256",new TextEncoder().encode(a)));return d("WAHex").toHex(new Uint8Array(a))});return h.apply(this,arguments)}function c(a){return d("WAHex").toHex(a)}function e(a){return d("WAHex").toHex(new Uint8Array(d("WABase64").decodeB64(a))).toUpperCase()}g.getPollOptionHash=a;g.bufferToHex=c;g.base64ToHex=e}),98);
__d("WAWebSchemaReadReceipt",["WAWebOffdStorageUtils","WAWebStorageMutationBuilder"],(function(a,b,c,d,e,f,g){c=d("WAWebStorageMutationBuilder").columnBuilder();var h=c.addColumn,i=c.addUserDefinedPrimaryKey;function a(){d("WAWebOffdStorageUtils").getStorage().add("read-receipt").version(d("WAWebOffdStorageUtils").getStorage().versions.version(0),[i("id"),h("externalIds")])["delete"](d("WAWebOffdStorageUtils").getStorage().versions.version(3)).view(function(a){return a})}function b(){return d("WAWebOffdStorageUtils").getStorage().table("read-receipt")}g.addTable=a;g.getTable=b}),98);
__d("WAWebOffdStorage",["WALogger","WAWeb-dexie","WAWebDbRolloutUtil","WAWebDexieCastTypes","WAWebOffdStorageUtils","WAWebSchemaDanglingReceipt","WAWebSchemaPeerReadReceipt","WAWebSchemaPendingDeviceSync","WAWebSchemaReadReceipt","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);h=function(){return a};return a}f=4;var i;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i==null&&(yield d("WAWebDbRolloutUtil").loadSchemaVersions(),d("WAWebOffdStorageUtils").createStorage(),d("WAWebSchemaReadReceipt").addTable(),d("WAWebSchemaDanglingReceipt").addTable(),d("WAWebSchemaPeerReadReceipt").addTable(),d("WAWebSchemaPendingDeviceSync").addTable(),i=d("WAWebOffdStorageUtils").getStorage().initialize()["catch"](function(a){d("WALogger").ERROR(h()).verbose().devConsole(a).sendLogs("Failed to initialize offd storage",{sendLogsType:d("WALogger").SendLogsType.CRASH_OR_UNRECOVERABLE_ERROR_SAD});throw a}));return i});return j.apply(this,arguments)}function e(){return d("WAWebOffdStorageUtils").destroyStorage()["catch"](function(){return d("WAWebDexieCastTypes").dexieCastToPromise(new(c("WAWeb-dexie"))(d("WAWebOffdStorageUtils").DATABASE_NAME)["delete"]())})["finally"](function(){i=null})}g.versionToRollout=f;g.initialize=a;g.destroy=e}),98);
__d("WAWebOnlineDanglingReceipts",["Promise","WAAbortError","WALogger","WATimeUtils","WAWebABProps","WAWebCommsSendPing","WAWebNetworkStatus","WAWebSchemaDanglingReceipt","WAWebSendReceiptJobCommon","WAWebWamOfflineResumeReporter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: flush "," receipts"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: flush due to offline."]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: failed to send ping"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: starting clean receipts"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: starting sending ping"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: skip due to empty receipts."]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: start to clean online dangling receipts due to timeout"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOnlineDanglingReceipts: starting clean receipts"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOnlineDanglingReceipts: starting sending ping"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOnlineDanglingReceipts: skip due to empty receipts."]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOnlineDanglingReceipts: skip due to offline."]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: sending online dangling grouped receipts: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: sendAndClearOnlineDanglingReceipts: aborting receipts to signal.aborted"]);u=function(){return a};return a}var v=new Map(),w=null,x=120*1e3;function a(a,b,c){v.has(a)||v.set(a,new Map());a=v.get(a);(a==null?void 0:a.has(b))||(a==null?void 0:a.set(b,[]));a==null?void 0:(a=a.get(b))==null?void 0:a.push(c);w||(w=self.setTimeout(function(){void C(),w=null},x))}function y(){return v.size>0&&d("WAWebABProps").getABPropConfigValue("web_pre_acks_m3_receipts_enabled")}function e(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.aborted&&d("WAWebABProps").getABPropConfigValue("web_abort_preacks_on_disconnect_enabled")){d("WALogger").LOG(u());throw new(d("WAAbortError").AbortError)()}var c=String(d("WATimeUtils").unixTime()),e=0;a=Array.from(v.keys()).map(function(a){var b=v.get(a);if(!b)return;b.forEach(function(a){e+=a.length});d("WALogger").LOG(t(),b.size);return d("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:a,type:d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.DELIVERY,t:c,groupedReceipt:b})});yield (h||(h=b("Promise"))).all(a);d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePreackCount(e,!0);void A()});return z.apply(this,arguments)}function A(){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!c("WAWebNetworkStatus").online){d("WALogger").LOG(s());return(h||(h=b("Promise"))).resolve()}if(v.size===0){d("WALogger").LOG(r());return(h||(h=b("Promise"))).resolve()}d("WALogger").LOG(q());yield d("WAWebCommsSendPing").blockSendPing();d("WALogger").LOG(p());v.clear()});return B.apply(this,arguments)}function C(){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(o());if(v.size===0){d("WALogger").LOG(n());return(h||(h=b("Promise"))).resolve()}if(!c("WAWebNetworkStatus").online)return E();d("WALogger").LOG(m());try{yield d("WAWebCommsSendPing").blockSendPing(),d("WALogger").LOG(l()),v.clear()}catch(a){d("WALogger").LOG(k()),void E()}});return D.apply(this,arguments)}function E(){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!y()||!d("WAWebABProps").getABPropConfigValue("web_pre_acks_m3_enabled"))return;d("WALogger").LOG(j());var a=[];v.forEach(function(b,c){b.forEach(function(b,d){b.forEach(function(b){a.push({from:String(c),author:String(d),externalId:b})})})});a.length>0&&(d("WALogger").LOG(i(),a.length),yield d("WAWebSchemaDanglingReceipt").getTable().create({receipts:a,acks:[]}),v.clear())});return F.apply(this,arguments)}g.addOnlineDanglingReceipts=a;g.hasOnlineDanglingReceipts=y;g.sendAndClearOnlineDanglingReceipts=e}),98);
__d("WAWebWamEnumPsBufferUploadResult",[],(function(a,b,c,d,e,f){a=Object.freeze({SUCCESS:1,ERROR_PARSING:2,ERROR_DECODING:3,ERROR_CREDENTIAL:4,ERROR_OTHER:5,ERROR_CLIENT_NETWORK:6,ERROR_WAIT_FOR_TOKEN:7,ERROR_SERVER_OTHER:8,SKIPPED_NO_NETWORK:9,SKIPPED_NO_DATA:10,ERROR_ACCESS_TOKEN:11});f.PS_BUFFER_UPLOAD_RESULT=a}),66);
__d("WAWebWamEnumPsTokenNotReadyReason",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_REASON:0,REASON_UNKNOWN:1,REASON_WAIT_FOR_FIRST_TOKEN:2,REASON_INVALID_SHARED_KEY:3,REASON_INVALID_FACTOR:4,REASON_GEN_FACTOR_FAILURE:5,REASON_COMPUTE_HMAC_FAILURE:6,REASON_BLIND_FAILURE:7,REASON_UNBLIND_FAILURE:8,REASON_LAST_SIGNREQ_NETWORK_FAILURE:9,REASON_LAST_SIGNREQ_SERVER_ERROR:10,REASON_LAST_SIGNREQ_BAD_REQUEST:11,REASON_LAST_SIGNREQ_OTHER_ERROR:12,REASON_WAIT_FOR_GEN_TOKEN:13,REASON_GEN_SHAREDKEY_FAILURE:14,REASON_WAIT_FOR_GEN_FIRST_TOKEN:15});f.PS_TOKEN_NOT_READY_REASON=a}),66);
__d("WAWebWamEnumPsUploadReason",[],(function(a,b,c,d,e,f){a=Object.freeze({REASON_PS_PINGER:0,REASON_PS_OFFCYCLE:1});f.PS_UPLOAD_REASON=a}),66);
__d("WAWebPsBufferUploadWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumApplicationState","WAWebWamEnumPsBufferUploadResult","WAWebWamEnumPsTokenNotReadyReason","WAWebWamEnumPsUploadReason"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({PsBufferUpload:[2244,{applicationState:[6,d("WAWebWamEnumApplicationState").APPLICATION_STATE],isFromWamsys:[12,a.TYPES.BOOLEAN],isUserSampled:[14,a.TYPES.BOOLEAN],psBufferSequenceNumber:[13,a.TYPES.INTEGER],psBufferUploadHttpResponseCode:[3,a.TYPES.INTEGER],psBufferUploadResult:[1,d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT],psBufferUploadT:[2,a.TYPES.TIMER],psDitheredT:[11,a.TYPES.INTEGER],psForceUpload:[10,a.TYPES.BOOLEAN],psTokenNotReadyReason:[4,d("WAWebWamEnumPsTokenNotReadyReason").PS_TOKEN_NOT_READY_REASON],psUploadReason:[9,d("WAWebWamEnumPsUploadReason").PS_UPLOAD_REASON],waConnectedToChatd:[5,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{PsBufferUpload:[]});g.PsBufferUploadWamEvent=b}),98);
__d("WAWebWamEnumPsIdAction",[],(function(a,b,c,d,e,f){a=Object.freeze({CREATED:1,ROTATED:2,DELETED:3});f.PS_ID_ACTION=a}),66);
__d("WAWebPsIdUpdateWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumPsIdAction"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({PsIdUpdate:[2862,{isFromWamsys:[4,a.TYPES.BOOLEAN],psIdAction:[2,d("WAWebWamEnumPsIdAction").PS_ID_ACTION],psIdKey:[1,a.TYPES.INTEGER],psIdRotationFrequence:[3,a.TYPES.INTEGER]},[1,1,1],"regular"]},{PsIdUpdate:[]});g.PsIdUpdateWamEvent=b}),98);
__d("WAWebPwaDocumentMetadataUtils",["WAWebRuntimeEnvironmentUtils","gkx"],(function(a,b,c,d,e,f,g){var h="",i=-1,j;d("WAWebRuntimeEnvironmentUtils").isWorker()||(h=document.title);function a(a){a===void 0&&(a=null),a!=null&&(h=a),k(h)}function k(a){l()?document.title=" ":(self.clearTimeout(j),document.title+=" ",j=self.setTimeout(function(){document.title=a},0))}function b(a){a!=null&&(i=a),c("gkx")("26264")&&(l==null?void 0:l())&&"setAppBadge"in navigator&&(i===-1||i===0?navigator.clearAppBadge()["catch"](function(a){}):navigator.setAppBadge(i)["catch"](function(a){}))}function l(){return"matchMedia"in self?window.matchMedia("(display-mode: standalone)").matches:!1}g.setDocumentTitle=a;g.setAppBadge=b;g.isCurrentWebSessionInsidePwa=l}),98);
__d("WAWebSendDeliveryReceiptJob",["Promise","WADeprecatedSendIq","WAJids","WAWap","WAWebCommsWapMd","WAWebMessagingGatingUtils","WAWebOnlineDanglingReceipts","WAWebSchemaInactiveReceipt","WAWebSendReceiptJobCommon","WAWebUserPrefsMeUser","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(){return d("WAWebSchemaInactiveReceipt").getInactiveReceiptTable().all().then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=new Map(),e=Date.now().toString();a.forEach(function(a){var b=a.msgId,e=a.chatId;a=a.participantId;e=d("WAWebWidFactory").createWid(e);a=a?d("WAWebWidFactory").createWid(a):null;a=a||e;var f=c.get(e);f||(f=new Map(),c.set(e,f));e=f.get(a);e||(e=[],f.set(a,e));e.push(b)});yield (h||(h=b("Promise"))).all(Array.from(c.keys()).map(function(a){var b=c.get(a);if(!b)return;return d("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:a,type:d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.DELIVERY,t:e,groupedReceipt:b})}));return d("WAWebSchemaInactiveReceipt").getInactiveReceiptTable().bulkRemove(a.map(function(a){return a.msgId}))});return function(b){return a.apply(this,arguments)}}())}function c(a,b,c,d,e,f){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g,i){g===void 0&&(g=!1);var k=d("WAWebUserPrefsMeUser").assertGetMe(),l=c.isUser()&&d("WAWebWidFactory").toUserWid(k).equals(d("WAWebWidFactory").toUserWid(c))||f!=null&&d("WAWebWidFactory").toUserWid(k).equals(d("WAWebWidFactory").toUserWid(f));k=i.hasInactiveMsg===!0&&!l;var m=!k;i=(h||(h=b("Promise"))).resolve();if(!m&&!d("WAWebMessagingGatingUtils").isInactiveReceiptsV2Enabled()){k={msgId:a,chatId:c.toString(),participantId:f?f.toString():null};i=d("WAWebSchemaInactiveReceipt").getInactiveReceiptTable().createOrReplace(k)}return i.then(function(){void j(a,c,e,f,m,l,g);if(m)return d("WAWebSchemaInactiveReceipt").getInactiveReceiptTable().remove(a)})});return i.apply(this,arguments)}function j(a,b,c,d,e,f,g){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h){var i=d("WAWap").DROP_ATTR;h?i=d("WAWap").CUSTOM_STRING(d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.PEER_MSG):g?i=d("WAWap").CUSTOM_STRING(d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.SENDER):f||(i=d("WAWap").CUSTOM_STRING(d("WAWebSendReceiptJobCommon").RECEIPT_TYPE.INACTIVE));f=(yield d("WAWebSendReceiptJobCommon").shouldRequestTcToken(b,i,d("WAWap").DROP_ATTR));var j=d("WAJids").extractJidFromJidWithType(d("WAWebWidToJid").widToJidWithType(b));j=d("WAWap").wap("receipt",{id:d("WAWap").CUSTOM_STRING(a),to:d("WAWap").JID(j),participant:(b.isGroup()||b.isBroadcast())&&e?d("WAWebCommsWapMd").DEVICE_JID(e):d("WAWap").DROP_ATTR,recipient:!h&&g&&c?d("WAWebCommsWapMd").USER_JID(c):d("WAWap").DROP_ATTR,type:i,privacy_token:f?d("WAWap").CUSTOM_STRING("false"):d("WAWap").DROP_ATTR});d("WAWebOnlineDanglingReceipts").addOnlineDanglingReceipts(b,e||b,a);d("WADeprecatedSendIq").deprecatedCastStanza(j)});return k.apply(this,arguments)}g.sendDeliveryReceiptsAfterPresence=a;g.sendDeliveryReceiptsAfterDecryption=c}),98);
__d("WAWebSharedConstants",[],(function(a,b,c,d,e,f){a="__wa-mms";b="mms-type";f.IS_MMS_URL_SEARCH_PARAM=a;f.MMS_URL_MEDIA_TYPE_SEARCH_PARAM=b}),66);
__d("WAWebStatsUploadJob",["Promise","WALogger","WASmaxStatsSendBufferRPC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["SendBufferResponseErrorRetry: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["SendBufferResponseErrorNoRetry: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["fieldStatsUpload:sendSendBufferRPC SendBufferResponseSuccess"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["fieldStatsUpload:sendSendBufferRPC end"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["fieldStatsUpload:sendSendBufferRPC start"]);m=function(){return a};return a}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){d("WALogger").LOG(m());c=(yield d("WASmaxStatsSendBufferRPC").sendSendBufferRPC({addT:c,addElementValue:a}));d("WALogger").LOG(l());if(c.name==="SendBufferResponseSuccess"){d("WALogger").LOG(k());return(h||(h=b("Promise"))).resolve()}else c.name==="SendBufferResponseErrorNoRetry"?(a=c.value.errorIQErrorBadRequestOrNotAcceptableOrFeatureNotImplementedMixinGroup.value,d("WALogger").DEV(j(),a.code)):(c.name,a=c.value.errorIQErrorServiceUnavailableMixin,d("WALogger").DEV(i(),a.code));c=a;a=c.code;c=c.text;return{errorCode:parseInt(a,10),errorText:c}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebUserPrefsAppStateSync",["WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED,!0);return c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.CRITICAL_DATA_SYNCED,!0)});return h.apply(this,arguments)}function e(){var a=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED);return a===!0}function f(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS,a);return c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS,a)});return i.apply(this,arguments)}function j(){var a=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.RECENT_MAILBOX_AGE_DAYS);return a}function k(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS,!0);return c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS,!0)});return l.apply(this,arguments)}function m(){var a=d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED);return a===!0}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED,a),c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED,a)});return o.apply(this,arguments)}function p(){return c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").MD_KEYS.SYNCD_PRIMARY_ALLOWS_ALL_MUTATIONS,!0)}function q(){return!!c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").MD_KEYS.SYNCD_PRIMARY_ALLOWS_ALL_MUTATIONS)}function r(){return d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.NON_CRITICAL_DATA_SYNC_STATUS)}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=(yield r()))!=null?b:{};yield d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(d("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.NON_CRITICAL_DATA_SYNC_STATUS,babelHelpers["extends"]({},b,a))});return t.apply(this,arguments)}g.setAllCriticalDataSynced=a;g.getAllCriticalDataSynced=e;g.setLastPeriodicAppStateSyncTs=f;g.getLastPeriodicAppStateSyncTs=j;g.setShouldCheckContactSyncStatus=k;g.getMdSyncActionsActionSanitized=m;g.setMdSyncActionsActionSanitized=n;g.setPrimaryAllowsAllMutations=p;g.getPrimaryAllowsAllMutations=q;g.getNonCriticalDataSyncStatus=r;g.setNonCriticalDataSyncStatus=s}),98);
__d("WAWebSyncd",["Promise","WALogger","WASyncd","WASyncdConst","WASyncdDisabled","WAWebCmd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebModelStorageUtils","WAWebSchemaSyncActions","WAWebSyncdDb","WAWebUserPrefsAppStateSync","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: invalid action ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: sanitizing null 'action' property in sync-actions table"]);j=function(){return a};return a}var k=["pending-mutations"];function a(){if(d("WASyncdDisabled").isSyncdDisabled())return(h||(h=b("Promise"))).resolve();l();d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd().then(function(){d("WASyncd").processOnAppResume()});m();return d("WASyncd").initializeStateMachine()}function l(){var a=1e3*60;a=c("lodash").debounce(d("WASyncd").reportWam,a,{maxWait:a*3});d("WAWebCmd").Cmd.on(d("WAWebCmd").APP_STATE_SYNC_COMPLETED,a)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebUserPrefsAppStateSync").getMdSyncActionsActionSanitized());if(!a){d("WALogger").LOG(j());a=(yield d("WAWebSchemaSyncActions").getSyncActionsTable().all());a=a.filter(function(a){return a.action==null});a=a.map(function(a){var b=JSON.parse(a.index)[0],c=d("WASyncdConst").Actions.cast(b);if(!c){d("WALogger").LOG(i(),b);return babelHelpers["extends"]({},a)}return babelHelpers["extends"]({},a,{action:b})});yield d("WAWebSyncdDb").updateSyncActionRows(a);yield d("WAWebUserPrefsAppStateSync").setMdSyncActionsActionSanitized(!0)}});return n.apply(this,arguments)}function e(a,c,e){a=d("WAWebModelStorageUtils").getStorage().lock([].concat(a,k),function(a){return(h||(h=b("Promise"))).all([d("WAWebSyncdDb").appendPendingMutationsRows(c),e(a)])}).then(function(){var a=c.map(function(a){return a.collection});void d("WASyncd").markCollectionsForSync(a)});return(h||(h=b("Promise"))).resolve(a)}g.initialize=a;g.sanitizeActionInSyncActionsRow=m;g.lockForSync=e}),98);
__d("WAWebUpdaterVersion",["WACustomError","WAWebBuildConstants"],(function(a,b,c,d,e,f,g){var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("WACustomError").customError("InvalidVersion"));b=function(){function a(a){a=a.split(".");if(a.length!==3)throw new h("Version format does not contain 3 numbers.");this.primary=Number.parseInt(a[0],10);this.secondary=Number.parseInt(a[1],10);this.tertiary=Number.parseInt(a[2],10);if(Number.isNaN(this.primary)||Number.isNaN(this.secondary)||Number.isNaN(this.tertiary))throw new h("Version contains a non-parseable string.")}var b=a.prototype;b.lt=function(b){b=b;typeof b==="string"&&(b=new a(b));return this.primary<b.primary||this.primary===b.primary&&this.secondary<b.secondary||this.primary===b.primary&&this.secondary===b.secondary&&this.tertiary<b.tertiary};b.equals=function(b){b=b;if(b==null||b==="")return!1;typeof b==="string"&&(b=new a(b));return this.primary===b.primary&&this.secondary===b.secondary&&this.tertiary===b.tertiary};b.toString=function(){return this.primary+"."+this.secondary+"."+this.tertiary};return a}();function a(a){return a.replace(/\.[di]$/,"")}c=a(d("WAWebBuildConstants").VERSION_STR);g.Version=b;g.sanitizeVersionStr=a;g.SANITIZED_VERSION_STR=c}),98);
__d("privateStatsUpload",["Promise","WABase64","WACryptoHmac","WALogger","WAPromiseRetryLoop","WATimeUtils","WAWamStorage","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ran out of available retries for a private stats buffer submission"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unsupported code value in the error response 400 from PrivateStats upload request: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unsupported subcode value in the error response 400 from PrivateStats upload request: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Incorrect code or subcode in the error response 400 from PrivateStats upload request"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Incorrect or missing error entry in the error response 400 from PrivateStats upload request"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to parse error response 400 from PrivateStats upload request or parsed response is not an object"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unsupported response status code from PrivateStats upload request: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Try to submit metrics without being connected to the VPN. The PrivateStats endpoint seems to reject VPN originating connections at the CORS check level"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Upload of a private stats buffer failed: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Couldn't get token to submit a private stats buffer"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Removing private stats buffer without submitting it (kill switch)"]);s=function(){return a};return a}var t="https://dit.whatsapp.net/deidentified_telemetry",u="245118376424571|3e7d275052f1522bf3200afcf53841a7",v=0,w="WAMEventBuffer.dat",x=3,y=9,z=111e3,A=3067002,B=3067003,C=3067004;function D(a){return{result:a.result,httpResponseCode:a.httpResponseCode,uploadTime:d("WATimeUtils").monotonicTimeSince(a.uploadStartTime)}}function E(a,c,e,f){var g,i,j,k,l,m,n,x,y,z,A,B,C,D,E,G;return b("regeneratorRuntime").async(function(H){while(1)switch(H.prev=H.next){case 0:H.next=2;return b("regeneratorRuntime").awrap(d("WAWamStorage").privateStatsKillSwitchGetBlockedToken());case 2:H.t0=H.sent;H.t1=u;if(!(H.t0===H.t1)){H.next=7;break}d("WALogger").LOG(s());return H.abrupt("return",d("WAWamStorage").removeBufferByKey(e.key).then(function(){a()}));case 7:g=d("WATimeUtils").monotonicTime();H.next=10;return b("regeneratorRuntime").awrap(f());case 10:i=H.sent;if(!(i==null)){H.next=15;break}d("WALogger").ERROR(r());a();return H.abrupt("return");case 15:j=new FormData();j.append("access_token",u);H.next=19;return b("regeneratorRuntime").awrap(d("WACryptoHmac").hmacSha256(i.sharedSecret,e.content));case 19:k=H.sent;l=d("WABase64").encodeB64UrlSafe(i.token,!0);m=d("WABase64").encodeB64UrlSafe(k,!0);n=l+"+"+m;j.append("credential",n);j.append("message",new Blob([e.content],{type:"application/octet-stream"}),w);j.append("meta_data",JSON.stringify({t:d("WATimeUtils").unixTime(),p:v}));x={method:"POST",body:j,"Content-Type":"multipart/form-data"};H.prev=27;H.next=30;return b("regeneratorRuntime").awrap(fetch(t,x));case 30:y=H.sent;H.next=39;break;case 33:H.prev=33;H.t2=H["catch"](27);d("WALogger").WARN(q(),H.t2);d("WALogger").DEV(p());c({uploadStartTime:g,result:"error-other"});return H.abrupt("return");case 39:z=y.status;A=function(b){a({uploadStartTime:g,httpResponseCode:z,result:b})};B=function(a){c({uploadStartTime:g,httpResponseCode:z,result:a})};H.t3=z;H.next=H.t3===200?45:H.t3===429?46:H.t3===401?48:H.t3===400?49:H.t3===500?57:59;break;case 45:return H.abrupt("return",d("WAWamStorage").removeBufferByKey(e.key).then(function(){A("success")}));case 46:A("error-server-other");return H.abrupt("return");case 48:return H.abrupt("return",(h||(h=b("Promise"))).all([d("WAWamStorage").privateStatsKillSwitchSet(u),d("WAWamStorage").removeBufferByKey(e.key)]).then(function(){A("error-access-token")}));case 49:H.next=51;return b("regeneratorRuntime").awrap(F(y));case 51:C=H.sent;D=C.result;E=C.shouldRetry;G={uploadStartTime:g,httpResponseCode:z,result:D};E==="retry"?c(G):a(G);return H.abrupt("return");case 57:B("error-server-other");return H.abrupt("return");case 59:d("WALogger").WARN(o(),z);B("error-other");return H.abrupt("return");case 62:case"end":return H.stop()}},null,this,[[27,33]])}function F(a){var c,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(a.json()["catch"](function(){}));case 2:c=h.sent;if(!(typeof c!=="object")){h.next=6;break}d("WALogger").WARN(n());return h.abrupt("return",{result:"error-other",shouldRetry:"retry"});case 6:e=c.error;if(!(typeof e!=="object")){h.next=10;break}d("WALogger").WARN(m());return h.abrupt("return",{result:"error-other",shouldRetry:"retry"});case 10:f=e.code,g=e.error_subcode;if(!(typeof f!=="number"||typeof g!=="number")){h.next=14;break}d("WALogger").WARN(l());return h.abrupt("return",{result:"error-other",shouldRetry:"retry"});case 14:h.t0=f;h.next=h.t0===y?17:h.t0===z?18:26;break;case 17:return h.abrupt("return",{result:"error-server-other",shouldRetry:"no-retry"});case 18:h.t1=g;h.next=h.t1===A?21:h.t1===B?22:h.t1===C?23:24;break;case 21:return h.abrupt("return",{result:"error-parsing",shouldRetry:"retry"});case 22:return h.abrupt("return",{result:"error-decoding",shouldRetry:"retry"});case 23:return h.abrupt("return",{result:"error-credential",shouldRetry:"retry"});case 24:d("WALogger").WARN(k(),g);return h.abrupt("return",{result:"error-other",shouldRetry:"retry"});case 26:d("WALogger").WARN(j(),f);return h.abrupt("return",{result:"error-other",shouldRetry:"retry"});case 28:case"end":return h.stop()}},null,this)}function G(a,c){a=a.map(function(a){var b=x,e=[],f=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"uploadPrivateStatsBuffer",timer:{algo:{type:"exponential",first:250},max:1e3},code:function(f){return E(f,function(a){a=D(a);e.push(a);b<=0?(d("WALogger").DEV(i()),f()):b--},a,c)}});f.start();return f.promise().then(function(b){if(b!=null){var c=D(b);e.push(c)}return{uploadedBufferKey:(b==null?void 0:b.result)==="success"?a.key:null,metrics:e}})});return(h||(h=b("Promise"))).all(a).then(function(a){var b=a.reduce(function(a,b){a.push.apply(a,b.metrics);return a},[]);a=a.reduce(function(a,b){b.uploadedBufferKey!=null&&a.push(b.uploadedBufferKey);return a},[]);return{uploadedBufferKeys:a,metrics:b}})}function a(a){return d("WAWamStorage").getFinishedStreamBuffers("private").then(function(b){return G(b,a)})}g.upload_UNSAFE_INTERNAL_DO_NOT_USE=G;g.uploadFinishedPrivateStatsBuffers=a}),98);
__d("WAWebUploadPrivateStatsBackend",["WABackoffUtils","WABase64","WALogger","WAPromiseDelays","WAPromiseLoop","WAWebIssuePrivateStatsToken","WAWebNetworkStatus","WAWebPsBufferUploadWamEvent","WAWebWamEnumApplicationState","WAWebWamEnumPsBufferUploadResult","asyncToGeneratorRuntime","privateStatsUpload"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendLogs retry on error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendLogs failure error: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendLogs success"]);j=function(){return a};return a}function a(a,c){var e=new Uint8Array(d("WABase64").decodeB64(a));return m(c,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("privateStatsUpload").upload_UNSAFE_INTERNAL_DO_NOT_USE([{key:c,content:e}],d("WAWebIssuePrivateStatsToken").getToken)),f=b.uploadedBufferKeys;b=b.metrics;b.map(l);f.length===0&&a(c);d("WALogger").DEV(j());a(void 0)});return function(b){return a.apply(this,arguments)}}())}function k(a){switch(a){case"success":return d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.SUCCESS;case"error-server-other":return d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_SERVER_OTHER;case"error-parsing":return d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_PARSING;case"error-decoding":return d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_DECODING;case"error-credential":return d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_CREDENTIAL;case"error-other":return d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_OTHER;default:a;return d("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_ACCESS_TOKEN}}function l(a){var b=a.result,c=a.uploadTime;a=a.httpResponseCode;b=k(b);new(d("WAWebPsBufferUploadWamEvent").PsBufferUploadWamEvent)({psBufferUploadResult:b,psBufferUploadT:c,psBufferUploadHttpResponseCode:a,applicationState:document.visibilityState==="visible"?d("WAWebWamEnumApplicationState").APPLICATION_STATE.FOREGROUND:d("WAWebWamEnumApplicationState").APPLICATION_STATE.BACKGROUND}).commit()}function m(a,e){return d("WAPromiseLoop").promiseLoop(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f,g){f=d("WAPromiseDelays").delayMs(d("WABackoffUtils").expBackoff(g,12e4,1e3,.1));try{yield c("WAWebNetworkStatus").waitIfOffline({signal:new AbortController().signal});return yield e(b)}catch(c){if(g>1){d("WALogger").WARN(i(),String(c)).devConsole(c);return b(a)}d("WALogger").DEV(h(),String(c));return f}});return function(a,b,c){return f.apply(this,arguments)}}())}g["default"]=a}),98);
__d("WAWebUploadStatsBackend",["WABackoffUtils","WABase64","WALogger","WAPromiseDelays","WAPromiseLoop","WATimeUtils","WAWebBackendErrors","WAWebNetworkStatus","WAWebStatsUploadJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendLogs retry on error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendLogs failure error: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendLogs success"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendLogs b64len:",""]);k=function(){return a};return a}function a(a,e){d("WALogger").DEV(k(),a.length);var f=new Uint8Array(d("WABase64").decodeB64(a)),g=d("WATimeUtils").unixTime();return l(e,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebStatsUploadJob")(f,g));if(b==null?void 0:b.errorCode)if(b.errorCode>=500)throw new(d("WAWebBackendErrors").ServerStatusCodeError)(b.errorCode,b.errorText);else a(e);d("WALogger").DEV(j());a(void 0)});return function(b){return a.apply(this,arguments)}}())}function l(a,e){return d("WAPromiseLoop").promiseLoop(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f,g){f=d("WAPromiseDelays").delayMs(d("WABackoffUtils").expBackoff(g,12e4,1e3,.1));try{yield c("WAWebNetworkStatus").waitIfOffline({signal:new AbortController().signal});return yield e(b)}catch(c){if(g>1){d("WALogger").WARN(i(),String(c)).devConsole(c);return b(a)}d("WALogger").DEV(h(),String(c));return f}});return function(a,b,c){return f.apply(this,arguments)}}())}g["default"]=a}),98);
__d("WAWebUserPrefsIsLoggedIn",["WAWebUserPrefsMultiDevice"],(function(a,b,c,d,e,f,g){var h=!1;function a(){return d("WAWebUserPrefsMultiDevice").isRegistered()&&i()}function i(){return h}function b(a){h=a}g.isLoggedIn=a;g.setIsConnectedAsRegistered=b}),98);
__d("WAWebUserPrefsTabMutex",["WANullthrows","WAWebLocalStorage","WAWebPermanentStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="x"+Math.round(Math.random()*1e9);function i(){return c("WAWebUserPrefsStore").getPSIgnoringCache(d("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX)}function a(a){a=a?h+":"+a:a;c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX,a,{storage:c("WAWebPermanentStorage")})}function b(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX,null,{storage:c("WAWebPermanentStorage")})}function e(a){a=a?JSON.parse(a):"";return a?a.toString().split(/:/).pop():a}function f(a){if(a.key!==d("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX)return!1;a=a.newValue||"";return!a.includes(h)?!0:!1}function j(){return(i()||"").includes(h)}function k(){var a={};a.wa_tab_src=h;c("WANullthrows")(c("WAWebLocalStorage")).setItem(d("WAWebUserPrefsKeys").KEYS.LOCAL_TAKEOVER_OK,JSON.stringify(a));c("WANullthrows")(c("WAWebLocalStorage")).removeItem(d("WAWebUserPrefsKeys").KEYS.LOCAL_TAKEOVER_OK)}function l(a){if(a.key!==d("WAWebUserPrefsKeys").KEYS.LOCAL_TAKEOVER_OK)return!1;a=a.newValue||"";return!a.includes(h)?!0:!1}function m(a){c("WAWebUserPrefsStore").setTS(d("WAWebUserPrefsKeys").KEYS.NO_TAKEOVER,a)}function n(){return!!c("WAWebUserPrefsStore").getTS(d("WAWebUserPrefsKeys").KEYS.NO_TAKEOVER)}g.THIS_TAB=h;g.getMutex=i;g.setMutex=a;g.removeMutex=b;g.parseMutex=e;g.mutexFilter=f;g.currentTabHasMutex=j;g.localTakeoverSuccess=k;g.takeoverFilter=l;g.setNoTakeover=m;g.getNoTakeover=n}),98);
__d("WAWebWamClientErrorsWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WamClientErrors:[1144,{isFromWamsys:[27,a.TYPES.BOOLEAN],wamClientBufferDropErrorCount:[28,a.TYPES.INTEGER],wamClientBufferFetchErrorCount:[29,a.TYPES.INTEGER],wamClientBufferStoreErrorCount:[30,a.TYPES.INTEGER],wamClientCorruptedBuffersCount:[42,a.TYPES.INTEGER],wamClientDroppedEventCount:[2,a.TYPES.INTEGER],wamClientDroppedEventCountNoEnoughStorage:[41,a.TYPES.INTEGER],wamClientDroppedEventSize:[3,a.TYPES.INTEGER],wamClientErrorFlags:[1,a.TYPES.BOOLEAN],wamClientMetadataReadErrorCount:[37,a.TYPES.INTEGER],wamClientMetadataWriteErrorCount:[38,a.TYPES.INTEGER],wamClientPrivateDroppedEventCount:[24,a.TYPES.INTEGER],wamClientPrivateDroppedEventSize:[25,a.TYPES.INTEGER],wamClientPrivateRealtimeDroppedEventCount:[34,a.TYPES.INTEGER],wamClientPrivateRealtimeDroppedEventSize:[35,a.TYPES.INTEGER],wamClientPrivateRealtimeRejectedEventCount:[36,a.TYPES.INTEGER],wamClientPrivateRejectedEventCount:[31,a.TYPES.INTEGER],wamClientRealtimeDroppedEventCount:[22,a.TYPES.INTEGER],wamClientRealtimeDroppedEventSize:[23,a.TYPES.INTEGER],wamClientRealtimeRejectedEventCount:[32,a.TYPES.INTEGER],wamClientRejectedEventCount:[33,a.TYPES.INTEGER],wamErrorBadCurrentEventBufferChecksum:[18,a.TYPES.BOOLEAN],wamErrorBadEventBuffer:[16,a.TYPES.BOOLEAN],wamErrorBadFileHeader:[15,a.TYPES.BOOLEAN],wamErrorBadFileSize:[8,a.TYPES.BOOLEAN],wamErrorBadHeaderChecksum:[17,a.TYPES.BOOLEAN],wamErrorBadRotatedEventBufferChecksum:[19,a.TYPES.BOOLEAN],wamErrorCloseFile:[11,a.TYPES.BOOLEAN],wamErrorCreateWamFile:[14,a.TYPES.BOOLEAN],wamErrorFseekFile:[9,a.TYPES.BOOLEAN],wamErrorOpenFile:[10,a.TYPES.BOOLEAN],wamErrorOpenPsUploadQueueFile:[26,a.TYPES.BOOLEAN],wamErrorOpenWamFile:[13,a.TYPES.BOOLEAN],wamErrorPersistence:[20,a.TYPES.BOOLEAN],wamErrorReadFile:[7,a.TYPES.BOOLEAN],wamErrorRemoveFile:[12,a.TYPES.BOOLEAN],wamErrorWriteEventBuffer:[6,a.TYPES.BOOLEAN],wamErrorWriteFile:[4,a.TYPES.BOOLEAN],wamErrorWriteHeader:[5,a.TYPES.BOOLEAN],wamFirstErrorReadMetadata:[39,a.TYPES.BOOLEAN],wamFirstErrorWriteMetadata:[40,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{WamClientErrors:[]});g.WamClientErrorsWamEvent=b}),98);
__d("WAWebWamConstants",[],(function(a,b,c,d,e,f){a=10;b=5e4;c=5;d=300;e=100;var g=64e3;f.PENDING_DELAY_IN_SECONDS=a;f.WAM_MAX_BUFFER_SIZE=b;f.WAM_PROTOCOL_VERSION=c;f.WAM_ROTATE_INTERVAL_IN_SECONDS=d;f.WAM_WORKER_DATA_BATCH_SIZE=e;f.WAM_MAX_BUFFER_SIZE_FOR_UPLOAD=g}),66);
__d("WAWebWamEnumWebcWindowNavigatorWebdriverType",[],(function(a,b,c,d,e,f){a=Object.freeze({FALSE:0,TRUE:1,UNDEFINED:2});f.WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE=a}),66);
__d("WAWebWamFingerprint",[],(function(a,b,c,d,e,f){function g(){var a=Object.getOwnPropertyNames(window),b=Object.getOwnPropertyNames(document),c=Array.prototype.slice.call(window.document.documentElement.attributes),d=["__webdriver_evaluate","__selenium_evaluate","__webdriver_script_function","__webdriver_script_func","__webdriver_script_fn","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__driver_evaluate","__selenium_unwrapped","__fxdriver_unwrapped"],e=["_phantom","__nightmare","_selenium","callPhantom","callSelenium","_Selenium_IDE_Recorder"],f=["selenium","webdriver","driver"];function g(a,b){var c={};a.map(function(a){c[a]=!!b.includes(a)});return c}e=g(e,a);a=g(d,b);d=g(f,c);e.wd=window.navigator.webdriver;return{wKeys:e,dKeys:a,dElKeys:d}}a={getAutoToolsProperties:function(){return{data:g()}}};f["default"]=a}),66);
__d("WAWebWebcFingerprintWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcWindowNavigatorWebdriverType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({WebcFingerprint:[1704,{webcCanvasFingerprint:[25,a.TYPES.STRING],webcDocumentDriverEvaluate:[9,a.TYPES.BOOLEAN],webcDocumentDriverUnwrapped:[7,a.TYPES.BOOLEAN],webcDocumentElementAttrDriver:[14,a.TYPES.BOOLEAN],webcDocumentElementAttrSelenium:[12,a.TYPES.BOOLEAN],webcDocumentElementAttrWebdriver:[13,a.TYPES.BOOLEAN],webcDocumentFxdriverEvaluate:[6,a.TYPES.BOOLEAN],webcDocumentFxdriverUnwrapped:[11,a.TYPES.BOOLEAN],webcDocumentSeleniumEvaluate:[2,a.TYPES.BOOLEAN],webcDocumentSeleniumUnwrapped:[10,a.TYPES.BOOLEAN],webcDocumentWebdriverEvaluate:[1,a.TYPES.BOOLEAN],webcDocumentWebdriverScriptFn:[5,a.TYPES.BOOLEAN],webcDocumentWebdriverScriptFunc:[4,a.TYPES.BOOLEAN],webcDocumentWebdriverScriptFunction:[3,a.TYPES.BOOLEAN],webcDocumentWebdriverUnwrapped:[8,a.TYPES.BOOLEAN],webcWebglFingerprint:[24,a.TYPES.STRING],webcWebglRenderer:[23,a.TYPES.STRING],webcWebglVendor:[22,a.TYPES.STRING],webcWindowSeleniumIdeRecorder:[20,a.TYPES.BOOLEAN],webcWindowCallphantom:[18,a.TYPES.BOOLEAN],webcWindowCallselenium:[19,a.TYPES.BOOLEAN],webcWindowNavigatorWebdriver:[21,d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE],webcWindowNightmare:[16,a.TYPES.BOOLEAN],webcWindowPhantom:[15,a.TYPES.BOOLEAN],webcWindowSelenium:[17,a.TYPES.BOOLEAN]},[1,1,1],"regular"]},{WebcFingerprint:[]});g.WebcFingerprintWamEvent=b}),98);
__d("WAWebWamFingerprintReporter",["WAWebWamEnumWebcWindowNavigatorWebdriverType","WAWebWamFingerprint","WAWebWebcFingerprintWamEvent"],(function(a,b,c,d,e,f,g){function a(){var a=c("WAWebWamFingerprint").getAutoToolsProperties();a={webcDocumentWebdriverEvaluate:a.data.dKeys.__webdriver_evaluate,webcDocumentSeleniumEvaluate:a.data.dKeys.__selenium_evaluate,webcDocumentWebdriverScriptFunction:a.data.dKeys.__webdriver_script_function,webcDocumentWebdriverScriptFunc:a.data.dKeys.__webdriver_script_func,webcDocumentWebdriverScriptFn:a.data.dKeys.__webdriver_script_fn,webcDocumentFxdriverEvaluate:a.data.dKeys.__fxdriver_evaluate,webcDocumentDriverUnwrapped:a.data.dKeys.__driver_unwrapped,webcDocumentWebdriverUnwrapped:a.data.dKeys.__webdriver_unwrapped,webcDocumentDriverEvaluate:a.data.dKeys.__driver_evaluate,webcDocumentSeleniumUnwrapped:a.data.dKeys.__selenium_unwrapped,webcDocumentFxdriverUnwrapped:a.data.dKeys.__fxdriver_unwrapped,webcDocumentElementAttrSelenium:a.data.dElKeys.selenium,webcDocumentElementAttrWebdriver:a.data.dElKeys.webdriver,webcDocumentElementAttrDriver:a.data.dElKeys.driver,webcWindowPhantom:a.data.wKeys._phantom,webcWindowNightmare:a.data.wKeys.__nightmare,webcWindowSelenium:a.data.wKeys._selenium,webcWindowCallphantom:a.data.wKeys.callPhantom,webcWindowCallselenium:a.data.wKeys.callSelenium,webcWindowSeleniumIdeRecorder:a.data.wKeys._Selenium_IDE_Recorder,webcWindowNavigatorWebdriver:a.data.wKeys.wd===!0?d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE.TRUE:a.data.wKeys.wd===!1?d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE.FALSE:d("WAWebWamEnumWebcWindowNavigatorWebdriverType").WEBC_WINDOW_NAVIGATOR_WEBDRIVER_TYPE.UNDEFINED};a=new(d("WAWebWebcFingerprintWamEvent").WebcFingerprintWamEvent)(a);a.commit()}g.logFingerprintToWam=a}),98);
__d("WAWebWebWamForceFlushWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebWamForceFlush:[3264,{},[1,1,1],"regular"]},{WebWamForceFlush:[]});g.WebWamForceFlushWamEvent=a}),98);
__d("WAWebWamUtils",["WABase64","WABinary","WALogger","WAQplUploader","WAWebABProps","WAWebPsIdUpdateWamEvent","WAWebUserPrefsGeneral","WAWebWamCodegenUtils","WAWebWamConstants","WAWebWamEnumAppBuildType","WAWebWamEnumWebcEnvCode","WAWebWamGlobals","WAWebWebWamForceFlushWamEvent","err","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["dropping invalid wam buffer"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["WAM: commitWorkerWamEvent failed, "," is not defined"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["force flushed all qpl buffers"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["force flushed all wam buffers"]);k=function(){return a};return a}function a(){new(d("WAWebWebWamForceFlushWamEvent").WebWamForceFlushWamEvent)().commitAndWaitForFlush(!0)["finally"](function(){return d("WALogger").LOG(k()).tags("wam")}),d("WAQplUploader").forceQplUpload()["finally"](function(){return d("WALogger").LOG(j()).tags("qpl")})}function b(a,b,c){new(d("WAWebPsIdUpdateWamEvent").PsIdUpdateWamEvent)({psIdAction:a,psIdKey:b,psIdRotationFrequence:c}).commit()}function l(a,b){b=JSON.parse(b);var c=d("WAWebWamCodegenUtils").events[a];if(c==null){d("WALogger").ERROR(i(),a).sendLogs("wam-worker-event-undefined-error");return}new c(b).commit()}function m(a,b){var c;b=JSON.parse(b);b=b.value;d("WAWebWamGlobals").Global.set((c={},c[a]=b,c))}function e(a){var b=a.action,c=a.name;a=a.payload;return b==="commit"?l(c,a):m(c,a)}function f(a){var b=!0;try{var c=d("WAWebABProps").getABPropConfigValue("web_wam_data_loss_mitigation")?d("WAWebWamConstants").WAM_MAX_BUFFER_SIZE_FOR_UPLOAD:d("WAWebWamConstants").WAM_MAX_BUFFER_SIZE;a=new(d("WABinary").Binary)(d("WABase64").decodeB64(a));b=a.size()>c}catch(a){d("WALogger").ERROR(h())}return b}function n(a){return a==="regular"?"regular":"private"}function o(){if(c("gkx")("26258"))return d("WAWebWamEnumAppBuildType").APP_BUILD_TYPE.RELEASE;else if(c("gkx")("26259")||c("gkx")("26261"))return d("WAWebWamEnumAppBuildType").APP_BUILD_TYPE.BETA;return d("WAWebWamEnumAppBuildType").APP_BUILD_TYPE.ALPHA}function p(){if(c("gkx")("26259"))return d("WAWebWamEnumWebcEnvCode").WEBC_ENV_CODE.INTERN;else if(c("gkx")("26258"))return d("WAWebWamEnumWebcEnvCode").WEBC_ENV_CODE.PROD;else if(c("gkx")("26256"))return d("WAWebWamEnumWebcEnvCode").WEBC_ENV_CODE.E2E;throw c("err")("invalid env")}function q(){return d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb()}function r(a){if(c("gkx")("26256")){var b=window.__je2e_recordWAMEvent;(b||typeof b==="function")&&b(babelHelpers["extends"]({name:a.$className},a.all))}}function s(a,b){if(c("gkx")("26256")){var d=window.__je2e_recordWAMEvent;(d||typeof d==="function")&&d({name:a,value:b})}}function t(){return d("WAWebABProps").getABPropConfigValue("web_wam_data_loss_mitigation")?d("WAWebABProps").getABPropConfigValue("web_wam_data_loss_mitigation_buffering_duration"):d("WAWebWamConstants").PENDING_DELAY_IN_SECONDS}function u(){return d("WAWebABProps").getABPropConfigValue("web_wam_data_loss_mitigation")?d("WAWebABProps").getABPropConfigValue("web_wam_data_loss_mitigation_rotate_interval"):d("WAWebWamConstants").WAM_ROTATE_INTERVAL_IN_SECONDS}g.forceFlushAllWamAndQplBuffers=a;g.logPsIdUpdate=b;g.processWorkerWamDataRow=e;g.isWamBufferTooBigToUpload=f;g.getChannelFromBufferKey=n;g.getAppBuild=o;g.getWamEnv=p;g.getAppIsBetaRelease=q;g.maybeForwardWamEventToJestE2e=r;g.maybeForwardWamAttributeToJestE2e=s;g.getInMemoryBufferingDurationInSecs=t;g.getBufferRotateIntervalInSecs=u}),98);
__d("WAWebWamStorage",["WALogger","WAWebWAWCStorage","WAWebWamConstants","WAWebWamUtils","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["processWorkerWamData failed: ","\n",""],["processWorkerWamData failed: ","\\n",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam: getNextSequenceNumberForStream failed"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["getNextSequenceNumberForStream failed: ","\n",""],["getNextSequenceNumberForStream failed: ","\\n",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["deleteAll failed: ","\n",""],["deleteAll failed: ","\\n",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["update failed: ","\n",""],["update failed: ","\\n",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["add failed: ","\n",""],["add failed: ","\\n",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["savePsToken failed: ","\n",""],["savePsToken failed: ","\\n",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["getPsToken failed: ","\n",""],["getPsToken failed: ","\\n",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["updatePsMeta failed: ","\n",""],["updatePsMeta failed: ","\\n",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["addPsMeta failed: ","\n",""],["addPsMeta failed: ","\\n",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["getPsMeta failed: ","\n",""],["getPsMeta failed: ","\\n",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["removePsMeta failed: ","\n",""],["removePsMeta failed: ","\\n",""]);s=function(){return a};return a}function a(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield c("WAWebWAWCStorage").idb());return f.wam.add({key:a,buffer:e,channel:b},a)["catch"](function(a){d("WALogger").LOG(m(),a,a==null?void 0:a.stack)})});return t.apply(this,arguments)}function e(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=0;try{f=(yield c("WAWebWAWCStorage").idb().then(function(c){return c.wam.update(a,{key:a,buffer:e,channel:b})}))}catch(a){d("WALogger").LOG(l(),a,a==null?void 0:a.stack)}return f!==0});return u.apply(this,arguments)}function f(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b={};try{yield c("WAWebWAWCStorage").idb().then(function(c){return c.wam.where("channel").equals(a).modify(function(a,c){b[a.key]=a.buffer,delete c.value})})}catch(a){d("WALogger").LOG(k(),a,a==null?void 0:a.stack)}return b});return v.apply(this,arguments)}function w(a){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=-1,f=1<<16;try{var g=(yield c("WAWebWAWCStorage").idb());yield g.transaction("rw",["wam_meta"],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield g.wam_meta.where("streamId").equals(a).count());b===0?(yield g.wam_meta.add({streamId:a,seqNum:1}),e=1):yield g.wam_meta.where("streamId").equals(a).modify(function(a){e=a.seqNum+1;e>=f&&(e=1);a.seqNum=e;return a})}))}catch(a){d("WALogger").LOG(j(),a,a==null?void 0:a.stack)}if(e===-1){c("gkx")("26258")||d("WALogger").ERROR(i()).sendLogs("getNextSequenceNumberForStreamFailed");throw c("err")("could not get seq number for streamId "+a)}return e});return x.apply(this,arguments)}function y(a){return c("WAWebWAWCStorage").idb().then(function(b){return b.ps_meta.bulkDelete(a)})["catch"](function(a){d("WALogger").LOG(s(),a,a==null?void 0:a.stack)})}function z(){return c("WAWebWAWCStorage").idb().then(function(a){return a.ps_meta.toArray()})["catch"](function(a){d("WALogger").LOG(r(),a,a==null?void 0:a.stack);return[]})}function A(a){return c("WAWebWAWCStorage").idb().then(function(b){return b.ps_meta.bulkPut(a)})["catch"](function(a){d("WALogger").LOG(q(),a,a==null?void 0:a.stack)})}function B(a){return c("WAWebWAWCStorage").idb().then(function(b){return b.ps_meta.update(a.key,a)})["catch"](function(a){d("WALogger").LOG(p(),a,a==null?void 0:a.stack)})}function C(){return c("WAWebWAWCStorage").idb().then(function(a){return a.ps_tokens.get("token")})["catch"](function(a){d("WALogger").LOG(o(),a,a==null?void 0:a.stack)})}function D(a){return c("WAWebWAWCStorage").idb().then(function(b){return b.transaction("rw",["ps_tokens"],function(){return b.ps_tokens.put(a)})})["catch"](function(a){d("WALogger").LOG(n(),a,a==null?void 0:a.stack)})}function E(a,b){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=(yield c("WAWebWAWCStorage").idb());return d.transaction("rw",["core_wam","core_wam_meta"],function(){return d.core_wam.put(b).then(function(){return d.core_wam_meta.put(a)})})});return F.apply(this,arguments)}function G(a){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebWAWCStorage").idb());return b.core_wam.where("streamId").equals(a).modify({finished:!0})});return H.apply(this,arguments)}function I(a){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebWAWCStorage").idb());return b.core_wam_meta.get({streamId:a})});return J.apply(this,arguments)}function K(){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebWAWCStorage").idb());return a.core_wam.toArray()});return L.apply(this,arguments)}function M(){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebWAWCStorage").idb());return a.transaction("rw",["core_wam","core_wam_meta"],function(){return a.core_wam.clear().then(function(){return a.core_wam_meta.clear()})})});return N.apply(this,arguments)}function O(a){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebWAWCStorage").idb());return b.core_wam["delete"](a)});return P.apply(this,arguments)}function Q(a){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebWAWCStorage").idb());return b.transaction("rw",["worker_wam_events"],function(){return b.worker_wam_events.put(a)})});return R.apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebWAWCStorage").idb());try{yield a.transaction("rw",["worker_wam_events"],b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield a.worker_wam_events.limit(d("WAWebWamConstants").WAM_WORKER_DATA_BATCH_SIZE).modify(function(a,b){d("WAWebWamUtils").processWorkerWamDataRow(a),delete b.value})}));var e=(yield a.worker_wam_events.count());return e>0}catch(a){d("WALogger").LOG(h(),a,a==null?void 0:a.stack);return!1}});return T.apply(this,arguments)}a={add:a,update:e,deleteAll:f,getNextSequenceNumberForStream:w,addCoreWamBuffer:E,finishAllCoreWamBuffers:G,getCoreWamStartingSequenceNumber:I,getAllCoreWamBuffers:K,nukeAllCoreWamBuffers:M,removeWamBufferByKey:O,storeWorkerWamData:Q,processWorkerWamData:S,removePsMeta:y,getPsMeta:z,addPsMeta:A,updatePsMeta:B,getPsToken:C,savePsToken:D};e=a;g["default"]=e}),98);
__d("WAWebWamPrivateStats",["Promise","WAHex","WALogger","WAResolvable","WATimeUtils","WAWebWamEnumPsIdAction","WAWebWamGlobals","WAWebWamStorage","WAWebWamUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["error while rotating PS ids ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["error while rotating PS id for key ",""]);j=function(){return a};return a}var k={},l={},m={};d("WAWebWamGlobals").PrivateStatsAllIds.map(function(a){k[a.keyHashInt]=a.key,l[a.key]=a.keyHashInt,m[a.key]={value:a.keyHashInt,rotationPeriodDays:a.rotationPeriodDays}});k[0]="none";l.none=0;m.none={value:"none",rotationPeriodDays:-1};var n=null;function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(n!=null)return n.promise;var a=new(d("WAResolvable").Resolvable)();n=a;var b=[],e=(yield c("WAWebWamStorage").getPsMeta()),f=new Set();e.map(function(a){f.add(a.key),m[a.key]===void 0?b.push(a.key):m[a.key].value=a.value});e=Object.keys(m).filter(function(a){return!f.has(a)}).map(function(a){a!=="none"&&(m[a].value=d("WAHex").randomHex(16));return{key:a,value:m[a].value,rotateInDays:m[a].rotationPeriodDays,creationTs:d("WATimeUtils").unixTime()}});yield c("WAWebWamStorage").addPsMeta(e);yield c("WAWebWamStorage").removePsMeta(b);e.map(function(a){return d("WAWebWamUtils").logPsIdUpdate(d("WAWebWamEnumPsIdAction").PS_ID_ACTION.CREATED,l[a.key],a.rotateInDays)});b.map(function(a){return d("WAWebWamUtils").logPsIdUpdate(d("WAWebWamEnumPsIdAction").PS_ID_ACTION.DELETED,l[a],m[a].rotationPeriodDays)});a.resolve()});return o.apply(this,arguments)}function e(){var a=new Map();d("WAWebWamGlobals").PrivateStatsAllIds.forEach(function(b){a.set(b.keyHashInt,String(m[b.key].value))});return a}function f(a){if(n==null)throw c("err")("can't call getPrivateStatsKeyFromInt without initializing");return k[a]}function p(a){if(a==="regular")throw c("err")("tried to get psId for regular channel event");if(n==null)throw c("err")("can't call getLatestPrivateStatsIdValueFromKey without initializing");return m[a].value}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[];if(n==null)throw c("err")("can't call maybeRotatePsIds without initializing");try{yield n.promise;var e=(yield c("WAWebWamStorage").getPsMeta());yield (h||(h=b("Promise"))).all(e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{var c=b.key,e=b.rotateInDays,f=b.creationTs;u(f,e)&&(a.push(c),yield s(c))}catch(a){d("WALogger").WARN(j(),b.key)}});return function(a){return c.apply(this,arguments)}}()))}catch(a){d("WALogger").WARN(i(),a)}return a});return r.apply(this,arguments)}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAHex").randomHex(16);m[a].value=b;yield c("WAWebWamStorage").updatePsMeta({key:a,rotateInDays:m[a].rotationPeriodDays,value:b,creationTs:d("WATimeUtils").unixTime()});d("WAWebWamUtils").logPsIdUpdate(d("WAWebWamEnumPsIdAction").PS_ID_ACTION.ROTATED,l[a],m[a].rotationPeriodDays)});return t.apply(this,arguments)}function u(a,b){if(b===-1||a==null)return!1;b=b*d("WATimeUtils").DAY_SECONDS;b=Math.floor(d("WATimeUtils").unixTime()/b)*b;return a<b}g.initPrivateStats=a;g.getPrivateStatsIdsForCoreWam=e;g.getPrivateStatsKeyFromInt=f;g.getLatestPrivateStatsIdValueFromKey=p;g.maybeRotatePsIds=q}),98);
__d("WAWebWamInterop",["Promise","WACustomError","WATimeUtils","WAWamStorage","WAWebUserPrefsGeneral","WAWebWamPrivateStats","WAWebWamStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=function(a,c){return(h||(h=b("Promise"))).reject(new(d("WACustomError").UnimplementedMethod)("saveBuffer not implemented yet"))},j=function(a){return(h||(h=b("Promise"))).resolve()},k=function(a){return(h||(h=b("Promise"))).reject(new(d("WACustomError").UnimplementedMethod)("getStartingSequenceRow not implemented yet"))},l=function(){return(h||(h=b("Promise"))).reject(new(d("WACustomError").UnimplementedMethod)("getBuffers not implemented yet"))},m=function(){return(h||(h=b("Promise"))).reject(new(d("WACustomError").UnimplementedMethod)("nukeMetrics not implemented yet"))},n=function(a){return(h||(h=b("Promise"))).reject(new(d("WACustomError").UnimplementedMethod)("finishBuffer not implemented yet"))},o=function(){return(h||(h=b("Promise"))).reject(new(d("WACustomError").UnimplementedMethod)("updatePrivateStatsIds not implemented yet"))},p=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=(yield c("WAWebWamStorage").getPsToken());if(!d)return null;return!a({redeemCount:d.redeemCount,creationTs:d.creationTs},{maxExpirySeconds:86400})?(h||(h=b("Promise"))).resolve(null):c("WAWebWamStorage").savePsToken(babelHelpers["extends"]({},d,{redeemCount:d.redeemCount+1})).then(function(){return d.token})});return function(b){return a.apply(this,arguments)}}();function a(a){return c("WAWebWamStorage").savePsToken({key:"token",token:a,creationTs:d("WATimeUtils").unixTime(),redeemCount:1})}function e(){return(h||(h=b("Promise"))).resolve(d("WAWebUserPrefsGeneral").getPsKillSwitchToken())}function f(a){d("WAWebUserPrefsGeneral").setPsKillSwitchToken(a);return(h||(h=b("Promise"))).resolve()}var q={getStreamId:function(){return 1},saveBuffer:i,finishBuffer:n,getStartingSequenceRow:k,getBuffers:l,removeBufferByKey:j,nukeMetrics:m,updatePrivateStatsIds:o,redeemPrivateStatsToken:p,savePrivateStatsToken:a,privateStatsKillSwitchGetBlockedToken:e,privateStatsKillSwitchSet:f};function r(){d("WAWamStorage").startWamStorage(q)}function s(){d("WAWamStorage").closeWamStorage()}g.startWamStore=r;g.closeWamStore=s}),98);
__d("WAWebWamBeaconing",["WATimeUtils","WAWebUserPrefsGeneral"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("WAWebUserPrefsGeneral").getWamBeaconingSettings(),c=b.find(function(b){return b.key===a}),e=null;if(c==null||h(c.ts)){var f=d("WATimeUtils").unixTime(),g=Math.random()<=.01;g={key:a,ts:f,value:g?1:null};c==null?b.push(g):(c.value=g.value,c.ts=f);e=g.value}else if(c.value==null)return null;else e=++c.value;d("WAWebUserPrefsGeneral").setWamBeaconingSettings(b);return e}function h(a){var b=Math.floor(d("WATimeUtils").unixTime()/d("WATimeUtils").DAY_SECONDS);a=Math.floor(a/d("WATimeUtils").DAY_SECONDS);return b!==a}g.maybeGetEventSequenceNumber=a}),98);
__d("WAWebWamLibProtocol",["WABinary"],(function(a,b,c,d,e,f,g){var h=8,i=0,j=1,k=2,l=4;function a(a,b,c){return m(a,b,c,i)}function b(a,b,c,d){d=d?j:j|l;return m(a,b,c,d)}function c(a,b,c,d){d=d?k:k|l;return m(a,b,c,d)}function m(a,b,c,e){if(c==null)e===i&&n(a,b,e);else if(typeof c==="number"&&c===(c|0))c===0?n(a,b,e|1<<4):c===1?n(a,b,e|2<<4):-128<=c&&c<128?(n(a,b,e|3<<4),a.writeInt8(c)):-32768<=c&&c<32768?(n(a,b,e|4<<4),a.writeInt16(c)):(n(a,b,e|5<<4),a.writeInt32(c));else if(typeof c==="number")n(a,b,e|7<<4),a.writeFloat64(c);else if(typeof c==="string"){var f=d("WABinary").numUtf8Bytes(c);f<256?(n(a,b,e|8<<4),a.writeUint8(f)):f<65536?(n(a,b,e|9<<4),a.writeUint16(f)):(n(a,b,e|10<<4),a.writeUint32(f));a.writeString(c)}}function n(a,b,c){b<256?(a.writeUint8(c),a.writeUint8(b)):(a.writeUint8(c|h),a.writeUint16(b))}g.writeGlobalAttribute=a;g.writeEvent=b;g.writeField=c}),98);
__d("WAWebWamLibContext",["WABase64","WABinary","WALogger","WAWebEventSampling","WAWebWamBeaconing","WAWebWamCodegenUtils","WAWebWamConstants","WAWebWamLibProtocol","WAWebWamPrivateStats"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam: invalid value for timer field ",".",""]);h=function(){return a};return a}var i=47,j=3433,k=6005,l=0,m=2,n=2147483647;a=function(){function a(a,b,c){this.bufferKey=a,this.buffer=new(d("WABinary").Binary)(void 0,!0),this.buffer.writeString("WAM"),this.buffer.writeUint8(d("WAWebWamConstants").WAM_PROTOCOL_VERSION),this.buffer.writeUint8(1),this.buffer.writeUint16(b),this.bufferKey==="regular"?this.buffer.writeUint8(l):this.buffer.writeUint8(m),this.eventsWritten=0,this.prevGlobals={},this.dirtyGlobals={},this.unsavedPortion=null,this.saveKey=String(Math.random()*1e9|0),this.$1(c)}var b=a.prototype;b.size=function(){return this.buffer.size()};b.set=function(a,b){this.dirtyGlobals[String(a)]=b,this.unsavedPortion&&this.unsavedPortion.set(a,b)};b.write=function(a){var b=this.buffer;this.set(i,a.commitTime);var c=d("WAWebWamBeaconing").maybeGetEventSequenceNumber(this.bufferKey);c!=null&&this.set(j,c);a.wamChannel==="private"&&this.set(k,d("WAWebWamPrivateStats").getLatestPrivateStatsIdValueFromKey(this.bufferKey).toString());this.$2();c=a.all;var e=Object.keys(c),f=-1,g=!1;for(var l=0;l<e.length;l++){var m=c[e[l]];m!=null&&(f=l,g=!0)}l=(m=d("WAWebEventSampling").getClientEventSamplingWeight(a.id))!=null?m:a.weight;d("WAWebWamLibProtocol").writeEvent(b,a.id,-l,g);for(m=0;m<=f;m++){l=e[m];var o=d("WAWebWamCodegenUtils").metrics.getEvent(a.$className,l),p=o.id;o=o.type;var q=c[l];if(q==null)continue;typeof q==="boolean"&&(q=q?1:0);g=m<f;if(o==="timer"&&q>n){d("WALogger").ERROR(h(),a.$className,l).sendLogs("wam-event-validation-error");continue}d("WAWebWamLibProtocol").writeField(b,p,q,g)}this.eventsWritten++;this.unsavedPortion&&this.unsavedPortion.write(a)};b.stringBuffer=function(){return this.eventsWritten>0?d("WABase64").encodeB64(this.buffer.peek(function(a){return a.readByteArray()})):""};b.getBuffer=function(){return this.buffer};b.$1=function(a){var b=this.bufferKey==="regular"?"regular":"private";for(var c in a){var e=a[c],f=d("WAWebWamCodegenUtils").metrics.getGlobal(c);f=f.channels.includes(b);e!==void 0&&f&&this.set(d("WAWebWamCodegenUtils").metrics.getGlobal(c).id,e)}};b.$2=function(){var a=this.dirtyGlobals,b=this.prevGlobals;for(var c in a){var e=a[c];if(typeof e==="boolean")e=e?1:0;else if(e===void 0)e=null;else if(Number.isNaN(e))continue;if(e!==b[c]||c===String(i)||c===String(k)){b[c]=e;var f=parseInt(c,10);d("WAWebWamLibProtocol").writeGlobalAttribute(this.buffer,f,e)}}this.dirtyGlobals={}};return a}();g.WamContext=a}),98);
__d("WAWebWamPlatform",["WAWebPwaDocumentMetadataUtils","gkx"],(function(a,b,c,d,e,f,g){function a(){return c("gkx")("26264")&&d("WAWebPwaDocumentMetadataUtils").isCurrentWebSessionInsidePwa()?"PWA":"WEB"}g.getWamPlatform=a}),98);
__d("WAWebWam",["Promise","SiteData","WALogger","WANullthrows","WAResolvable","WAShiftTimer","WATimeUtils","WAWebABProps","WAWebABPropsLocalStorage","WAWebBuildConstants","WAWebCrashlog","WAWebEventSampling","WAWebIsOfficialClient","WAWebMiscBrowserUtils","WAWebUploadPrivateStatsBackend","WAWebUploadStatsBackend","WAWebUserPrefsIsLoggedIn","WAWebUserPrefsTabMutex","WAWebWamClientErrorsWamEvent","WAWebWamConstants","WAWebWamEnumDeviceClassification","WAWebWamEnumPlatformType","WAWebWamEnumWebcWebPlatformType","WAWebWamFingerprintReporter","WAWebWamGlobals","WAWebWamInterop","WAWebWamLibContext","WAWebWamPlatform","WAWebWamPrivateStats","WAWebWamRuntimeProvider","WAWebWamStorage","WAWebWamUtils","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam dropped "," buffers! ("," bytes)"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendAllLogs: process failures success bufferKey ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendAllLogs: adding to WamStorage failed"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendAllLogs: process failures start bufferKey ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendAllLogs: sendLogs success"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendAllLogs: sendLogs start"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:sendAllLogs failed to read because ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:save WamStorage failed to save ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:save successfully saved new entry ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:saveCurrentContext no unsavedPortion WamStorage.update end"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:saveCurrentContext no unsavedPortion WamStorage.update start"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:save other tab claimed buffer, cutting head"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:save successfully updated ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:saveCurrentContext has unsavedPortion WamStorage.update end"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:saveCurrentContext has unsavedPortion WamStorage.update start"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:_executePending error ",""]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:_executePending abandoned current buffer"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:_executePending wam unauthed, didn't send"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:_executePendingForContext drop the rest due to size limit: "," > ",""]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:_executePendingForContext failed to get context ",""]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:executePending "," jobs"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:initialize"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendLogs: uploadStats"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendLogs: uploadPrivateStats"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam enable processing"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam pause processing"]);H=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:set "," = ",""]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:commit ",""]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:commit redundant commit! ",""]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["wam:this tab is in the background, skipping WAM processing for now"]);da=function(){return a};return a}var I,ea=[],J=[],fa=!1,ga="1",ha=c("lodash").mapValues({commit:f,set:la,resumeJobs:pa,initialize:ma},e);function a(){ea=d("WAWebWamGlobals").PrivateStatsAllIds.map(function(a){return a.key});d("WAWebWamPrivateStats").initPrivateStats();d("WAWebWamInterop").startWamStore();d("WAWebWamFingerprintReporter").logFingerprintToWam();I=new(d("WAShiftTimer").ShiftTimer)(function(){if(!d("WAWebUserPrefsTabMutex").currentTabHasMutex()){d("WALogger").WARN(da());return}qa()});d("WAWebWamRuntimeProvider").setWamRuntime(ha);while(J.length){var a=J.pop();a()}fa=!0}function e(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];if(fa)return a.apply(void 0,c);J.push(function(){a.apply(void 0,c)})}}var K={},ia=0,L=[],M=!1,ja=!1,N=null,O=new(d("WAResolvable").Resolvable)(),P=!1,Q=!1;function f(a,c){var e;c===void 0&&(c=!1);if(a.commitTime!=null&&a.commitTime!==0){d("WALogger").WARN(ca(),a.$className);return(h||(h=b("Promise"))).resolve()}e=(e=d("WAWebEventSampling").getClientEventSamplingWeight(a.id))!=null?e:a.weight;if(e!==0&&Math.random()*e>1){a.commitTime=d("WATimeUtils").unixTimeWithoutClockSkewCorrection();return(h||(h=b("Promise"))).resolve()}d("WALogger").DEV(ba(),a.$className).devConsole(a.all);ka(a);d("WAWebWamUtils").maybeForwardWamEventToJestE2e(a);return na(a,c)}function ka(a,b){a.commitTime=b!=null?b:d("WATimeUtils").unixTimeWithoutClockSkewCorrection()}function la(a,b){d("WALogger").DEV(aa(),a.name,String(b));d("WAWebWamUtils").maybeForwardWamAttributeToJestE2e(a.name,String(b));return na([a,b])}function ma(a){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(N&&!a)return(h||(h=b("Promise"))).resolve(N);var e=c("WAWebMiscBrowserUtils").info(),f={appVersion:d("WAWebBuildConstants").VERSION_BASE,appBuild:d("WAWebWamUtils").getAppBuild(),platform:d("WAWebWamEnumPlatformType").PLATFORM_TYPE.WEBCLIENT,appIsBetaRelease:yield d("WAWebWamUtils").getAppIsBetaRelease(),browser:e.name||null,browserVersion:e.ua||null,deviceName:e.os||null,deviceVersion:e.version||null,webcEnv:d("WAWebWamUtils").getWamEnv(),webcTabId:d("WAWebUserPrefsTabMutex").THIS_TAB,webcWebPlatform:d("WAWebWamEnumWebcWebPlatformType").WEBC_WEB_PLATFORM_TYPE[d("WAWebWamPlatform").getWamPlatform()],ocVersion:d("WAWebIsOfficialClient").isOfficialClient?1:0,deviceClassification:d("WAWebWamEnumDeviceClassification").DEVICE_CLASSIFICATION.DESKTOP,webcRevision:c("SiteData").client_revision,abKey2:(e=d("WAWebABPropsLocalStorage").getABKey())!=null?e:""};N=f;a&&Object.assign(N,a);d("WALogger").DEV(D()).devConsole(N);d("WAWebWamGlobals").Global.commitOnSet=!1;d("WAWebWamGlobals").Global.set(N);d("WAWebWamGlobals").Global.commitOnSet=!0;Object.keys(f).forEach(function(a){return d("WAWebWamUtils").maybeForwardWamAttributeToJestE2e(a,String(f[a]))});return f});return R.apply(this,arguments)}function na(a,b){b===void 0&&(b=!1);L.push(a);M?b?(P=!1,Q=!0,self.setTimeout(function(){return I.forceRunNow()},1)):I.onOrBefore(d("WAWebWamUtils").getInMemoryBufferingDurationInSecs()*1e3):b&&(I.cancel(),P=!0,Q=!1);return O.promise}function oa(){d("WALogger").DEV(H());M=!1;I.cancel();var a=O;O=new(d("WAResolvable").Resolvable)();return a}function pa(){d("WALogger").DEV(G()),M=!0,Q=!1,L.length>0&&I.onOrBefore(d("WAWebWamUtils").getInMemoryBufferingDurationInSecs()*1e3),P&&(P=!1,Q=!0,I.forceRunNow())}function qa(){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=Q,c=oa(),e=[].concat(L);L=[];try{var f=(yield ma()),g=(yield d("WAWebWamPrivateStats").maybeRotatePsIds());yield (h||(h=b("Promise"))).all(g.map(function(a){return ra(a,f)}));d("WALogger").DEV(C(),e.length);yield h.all(["regular","none"].concat(ea).map(function(b){return ta(b,e,a,f)}))}finally{c.resolve(),pa()}});return S.apply(this,arguments)}function ra(a,b){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield Y(a,b);K[a]=(yield U(a,b));return K[a]});return T.apply(this,arguments)}function U(a,b){return V.apply(this,arguments)}function V(){V=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return new(d("WAWebWamLibContext").WamContext)(a,yield c("WAWebWamStorage").getNextSequenceNumberForStream(ga),b)});return V.apply(this,arguments)}function sa(a,b){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;c=(c=K[a])!=null?c:yield U(a,b);K[a]=c;return c});return W.apply(this,arguments)}function ta(a,b,c,d){return X.apply(this,arguments)}function X(){X=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("WAWebWamUtils").getChannelFromBufferKey(a),g;try{g=(yield sa(a,e))}catch(a){d("WALogger").WARN(B(),String((a==null?void 0:a.stack)?a.stack:a));return}try{for(var h=0;h<b.length;h++){if(g.size()>d("WAWebWamConstants").WAM_MAX_BUFFER_SIZE)if(d("WAWebABProps").getABPropConfigValue("web_wam_data_loss_mitigation")){var i=(yield ra(a,e));if(i==null)break;g=i}else{d("WALogger").WARN(A(),g.size(),d("WAWebWamConstants").WAM_MAX_BUFFER_SIZE);break}i=b[h];if(!Array.isArray(i)){var j=i;(j.wamChannel==="regular"&&j.wamChannel===f||j.wamChannel==="private"&&a===d("WAWebWamPrivateStats").getPrivateStatsKeyFromInt(j.privateStatsIdInt))&&g.write(j)}else{j=i[0];i=i[1];j.channels.includes(f)&&(e[j.name]=i,g.set(j.id,i))}}j=d("WATimeUtils").unixTimeWithoutClockSkewCorrection();if(g.eventsWritten>0&&(c||g.size()>d("WAWebWamConstants").WAM_MAX_BUFFER_SIZE||j>=ia+d("WAWebWamUtils").getBufferRotateIntervalInSecs()||!ja)){i=d("WAWebUserPrefsIsLoggedIn").isLoggedIn();if(!i){d("WALogger").DEV(z());g.buffer.size()>d("WAWebWamConstants").WAM_MAX_BUFFER_SIZE?(K[a]=null,d("WALogger").DEV(y())):yield Y(a,e);return}yield ua(a)}else yield Y(a,e)}catch(b){d("WALogger").WARN(x(),String((b==null?void 0:b.stack)?b.stack:b)).devConsole(b),void d("WAWebCrashlog").upload({reason:"wam-error"}),new(d("WAWebWamClientErrorsWamEvent").WamClientErrorsWamEvent)({wamClientBufferDropErrorCount:1}).commit(),K[a]=null}});return X.apply(this,arguments)}function Y(a,b){return Z.apply(this,arguments)}function Z(){Z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!K[a])return;var e=K[a].stringBuffer();if(!e)return;var f=c("WANullthrows")(K[a]).unsavedPortion;if(f&&f.eventsWritten===0)return;var g=c("WANullthrows")(K[a]).saveKey;try{if(f){d("WALogger").DEV(w());f=(yield c("WAWebWamStorage").update(g,a,e));d("WALogger").DEV(v());if(!K[a])return;if(f)d("WALogger").DEV(u(),g),c("WANullthrows")(K[a]).unsavedPortion=(yield U(a,b));else{K[a]=K[a].unsavedPortion;d("WALogger").DEV(t());yield Y(a,b);return}}else{d("WALogger").DEV(s());yield c("WAWebWamStorage").add(g,a,e);d("WALogger").DEV(r());if(!K[a])return;d("WALogger").DEV(q(),g);c("WANullthrows")(K[a]).unsavedPortion=(yield U(a,b))}}catch(a){d("WALogger").WARN(p(),String(a)).devConsole(a)}});return Z.apply(this,arguments)}function ua(a){return $.apply(this,arguments)}function $(){$=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e;try{e=(yield c("WAWebWamStorage").deleteAll(a))}catch(a){e={},d("WALogger").WARN(o(),String(a)).devConsole(a)}var f=e;if(K[a]){K[a].unsavedPortion&&!(K[a].saveKey in f)&&(K[a]=K[a].unsavedPortion);e=c("WANullthrows")(K[a]).saveKey;f[e]=c("WANullthrows")(K[a]).stringBuffer()}d("WALogger").DEV(n());e=(yield (h||(h=b("Promise"))).all(c("lodash").map(f,function(b,c){return va(b,c,d("WAWebWamUtils").getChannelFromBufferKey(a))})));d("WALogger").DEV(m());var g=e.filter(Boolean);g.length!==e.length&&(ia=d("WATimeUtils").unixTimeWithoutClockSkewCorrection(),ja=!0);K[a]&&!g.includes(K[a].saveKey)&&(K[a]=null);if(g.length===0)return;e=g.reduce(function(a,b){return a+f[b].length},0);e<d("WAWebWamConstants").WAM_MAX_BUFFER_SIZE?(d("WALogger").DEV(l(),a),yield (h||(h=b("Promise"))).all(c("lodash").map(g,function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{yield c("WAWebWamStorage").add(b,a,f[b])}catch(a){d("WALogger").WARN(k())}});return function(a){return e.apply(this,arguments)}}())),d("WALogger").DEV(j(),a)):(K[a]=null,new(d("WAWebWamClientErrorsWamEvent").WamClientErrorsWamEvent)({wamClientBufferDropErrorCount:1}).commit(),d("WALogger").WARN(i(),g.length,e).devConsole(f))});return $.apply(this,arguments)}function va(a,e,f){if(a==="")return(h||(h=b("Promise"))).resolve();if(a[0]==="[")return(h||(h=b("Promise"))).resolve();if(d("WAWebWamUtils").isWamBufferTooBigToUpload(a)){new(d("WAWebWamClientErrorsWamEvent").WamClientErrorsWamEvent)({wamClientBufferDropErrorCount:1}).commit();return(h||(h=b("Promise"))).resolve()}if(f==="private"){d("WALogger").DEV(F());return c("WAWebUploadPrivateStatsBackend")(a,e)}if(f==="regular"){d("WALogger").DEV(E());return c("WAWebUploadStatsBackend")(a,e)}return(h||(h=b("Promise"))).resolve()}g.Wam=ha;g.initWamRuntime=a;g.sendAllLogs=ua}),98);
__d("WAWebWorkerStorage",["WALogger","WAWeb-dexie","WAWebDbRolloutUtil","WAWebDexieBootstrap","WAWebDexieCastTypes","WAWebSchemaDeferredMessagesStorage","WAWebSchemaLocalStorage","WAWebWorkerStorageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);h=function(){return a};return a}var i;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebDexieBootstrap").patchDexie();i==null&&(yield d("WAWebDbRolloutUtil").loadSchemaVersions(),d("WAWebWorkerStorageUtils").createStorage(),d("WAWebSchemaLocalStorage").addTable(),d("WAWebSchemaDeferredMessagesStorage").addTable(),i=d("WAWebWorkerStorageUtils").getStorage().initialize()["catch"](function(a){d("WALogger").ERROR(h()).verbose().devConsole(a).sendLogs("Failed to initialize worker storage",{sendLogsType:d("WALogger").SendLogsType.CRASH_OR_UNRECOVERABLE_ERROR_SAD});throw a}));return i});return j.apply(this,arguments)}function e(){return d("WAWebWorkerStorageUtils").destroyStorage()["catch"](function(){return d("WAWebDexieCastTypes").dexieCastToPromise(new(c("WAWeb-dexie"))(d("WAWebWorkerStorageUtils").DATABASE_NAME)["delete"]())})["finally"](function(){i=null})}g.getLocalStorageTable=d("WAWebSchemaLocalStorage").getTable;g.getDeferredMessagesTable=d("WAWebSchemaDeferredMessagesStorage").getTable;g.initialize=a;g.destroy=e}),98);/*FB_PKG_DELIM*/
__d("CookieStore",["CookieCoreLoggingConfig","FBLogger","Random","gkx","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=window.I_AM_CORE_COOKIE_INFRASTRUCTURE_AND_NEED_TO_ACCESS_COOKIES!=null?window.I_AM_CORE_COOKIE_INFRASTRUCTURE_AND_NEED_TO_ACCESS_COOKIES():null,j={set:function(a){document.cookie=a},get:function(){return document.cookie}};function k(){return i!=null?i:j}function l(a,b,c,d,e,f,g,h){return b+"="+encodeURIComponent(c)+"; "+(f!==0&&f!==void 0&&f!==null?"expires="+new Date(a+f).toUTCString()+"; ":"")+"path="+d+"; domain="+e+(g?"; secure":"")+(h?"; SameSite="+h:"")}function m(a,b,c){return a+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+b+"; domain="+c}function n(){if(c("CookieCoreLoggingConfig").sampleRate>0){var a=(h||(h=c("performanceNow")))(),b=k().get();a=h()-a;var d=a>c("CookieCoreLoggingConfig").maximumIgnorableStallMs&&c("Random").coinflip(1/c("CookieCoreLoggingConfig").sampleRate);d&&c("FBLogger")("cookie_infra").addMetadata("COOKIE_INFRA","WALL_TIME",String(a)).warn("Cookie read exceeded %s milliseconds.",c("CookieCoreLoggingConfig").maximumIgnorableStallMs);return b}else return k().get()}var o=function(){function a(){this.$1=0}var b=a.prototype;b.setCookie=function(a,b,c,d,e,f,g,h){k().set(l(a,b,c,d,e,f,g,h))};b.clearCookie=function(a,b,c){k().set(m(a,b,c))};b.getCookie=function(a){var b;this.$1++;b=(b=n())==null?void 0:b.match("(?:^|;\\s*)"+a+"=(.*?)(?:;|$)");return b?decodeURIComponent(b[1]):null};return a}(),p=10*1e3,q=function(){function a(){this.$1={},this.$2=0,this.$3=0,this.$4=0}var b=a.prototype;b.setCookie=function(a,b,c,d,e,f,g,h){k().set(l(a,b,c,d,e,f,g,h)),this.$1[b]={value:c,updated:a}};b.clearCookie=function(a,b,c){k().set(m(a,b,c)),this.$1[a]={value:null,updated:Date.now()}};b.getCookie=function(a){a=this.$5(a);a=a.cookie;return a};b.$5=function(a){var b=Date.now(),c=this.$1[a];if(!c){if(this.$2+p<b){this.$6();return{cookie:this.$5(a).cookie,hit:!1}}this.$3++;return{cookie:null,hit:!0}}if(c.updated+p<b){this.$6();return{cookie:this.$5(a).cookie,hit:!1}}this.$3++;return{cookie:c.value,hit:!0}};b.$6=function(){var a;this.$4++;a=(a=(a=n())==null?void 0:a.split(";"))!=null?a:[];this.$2=Date.now();this.$1={};for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d=d.match("\\s*([^=]+)=(.*)");if(!d)continue;this.$1[d[1]]={value:decodeURIComponent(d[2]),updated:this.$2}}};return a}();function a(){return c("gkx")("20940")?new q():new o()}g.newCookieStore=a;g.CookieCacheForTest=q;g.CookieStoreSlowForTest=o}),98);
__d("JsCrossSiteCookieUsageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6476");b=d("FalcoLoggerInternal").create("js_cross_site_cookie_usage",a);e=b;g["default"]=e}),98);
__d("CookieCore",["CookieCoreConfig","CookieDomain","CookiePrivacySandboxConfig","CookieStore","JsCrossSiteCookieUsageFalcoEvent","err","justknobx"],(function(a,b,c,d,e,f,g){var h=/_js_(.*)/,i;function j(){i||(i=d("CookieStore").newCookieStore());return i}function k(){return"."+c("CookieDomain").domain}function l(a){return window.self!==window.top?!1:!0}function m(a,b){if(!r(a))return;n(a,b,t(a),u(a),s(a),v(a));w(a,1)}function a(a,b,c){if(!r(a))return;n(a,b,t(a),u(a),s(a),v(a),c)}function n(a,b,c,d,e,f,g){var h=Date.now();if(c!=null)if(c>h)c-=h;else if(c===1){o(a,d,g);return}j().setCookie(h,a,b,d,(h=g)!=null?h:k(),c,e,f)}function b(a,b){if(!l(a))return;m(a,b)}function e(a,b,c,d,e,f){if(!l(a))return;n(a,b,c,d,e,null,f)}function o(a,b,c){b===void 0&&(b="/");b=b||"/";j().clearCookie(a,b,(b=c)!=null?b:k());w(a,2)}function f(a){if(!r(a))return null;w(a,0);return j().getCookie(a)}function p(a){return{insecure:a.i||!1,path:a.p||"/",ttlSeconds:a.t||0,sameSite:a.s||"None"}}function q(a){if(c("CookieCoreConfig")[a]!==void 0)return p(c("CookieCoreConfig")[a]);a=a.match(h);return a&&a.length>1?q(a[1]):null}function r(a){return q(a)!==null}function s(a){a=q(a);return a==null?!0:!a.insecure}function t(a){a=q(a);return a==null?null:a.ttlSeconds*1e3}function u(a){a=q(a);return a==null?"/":a.path}function v(a){a=q(a);return a==null||a.sameSite==null?null:a.sameSite}function w(a,b){var e=d("CookiePrivacySandboxConfig").is_affected_by_samesite_lax;e&&c("justknobx")._("2552")&&c("JsCrossSiteCookieUsageFalcoEvent").log(function(){return{cookie_name:a,cookie_op:b,js_backtrace:c("err")("read cookie backtrace: ").stack}})}g.set=m;g.setWithDomain_FOR_MESSENGER_LS_ONLY=a;g.setWithoutChecks=n;g.setIfFirstPartyContext=b;g.setWithoutChecksIfFirstPartyContext=e;g.clear=o;g.get=f}),98);
__d("Cookie",["CookieConsent","CookieCore","InitialCookieConsent","ODS"],(function(a,b,c,d,e,f,g){var h,i,j;function k(a){if(!(j||(j=c("CookieConsent"))).hasConsent(1)){(h||(h=d("ODS"))).bumpEntityKey(798,"defer_cookies","set."+a);return!1}return!0}function l(){return!(i||(i=c("InitialCookieConsent"))).noCookies}function a(a,b){if(!l()||!k(a))return;d("CookieCore").set(a,b)}function b(a,b){if(!l())return;d("CookieCore").set(a,b)}function e(a,b,c,e,f,g){if(!l()||!k(a))return;d("CookieCore").setWithoutChecks(a,b,c,e,f,null,g)}a={clear:(f=d("CookieCore")).clear,get:f.get,set:a,setIfFirstPartyContext:f.setIfFirstPartyContext,setWithoutCheckingUserConsent_DANGEROUS:b,setWithoutChecks:e,setWithoutChecksIfFirstPartyContext:f.setWithoutChecksIfFirstPartyContext};g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("moment-2.29.4",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.moment=c()})(this,function(){var a;function b(){return a.apply(null,arguments)}function c(b){a=b}function d(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}function e(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;else{var b;for(b in a)if(f(a,b))return!1;return!0}}function i(a){return a===void 0}function j(a){return typeof a==="number"||Object.prototype.toString.call(a)==="[object Number]"}function k(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}function aa(a,b){var c=[],d,e=a.length;for(d=0;d<e;++d)c.push(b(a[d],d));return c}function l(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);f(b,"toString")&&(a.toString=b.toString);f(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function m(c,a,b,d){return cd(c,a,b,d,!0).utc()}function ba(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function n(a){a._pf==null&&(a._pf=ba());return a._pf}var ca;Array.prototype.some?ca=Array.prototype.some:ca=function(a){var b=Object(this),c=b.length>>>0,d;for(d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};function da(a){if(a._isValid==null){var b=n(a),c=ca.call(b.parsedDateParts,function(a){return a!=null});c=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidEra&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(c=c&&b.charsLeftOver===0&&b.unusedTokens.length===0&&b.bigHour===void 0);if(Object.isFrozen==null||!Object.isFrozen(a))a._isValid=c;else return c}return a._isValid}function ea(a){var b=m(NaN);a!=null?l(n(b),a):n(b).userInvalidated=!0;return b}var fa=b.momentProperties=[],ga=!1;function ha(b,a){var c,d,e,f=fa.length;i(a._isAMomentObject)||(b._isAMomentObject=a._isAMomentObject);i(a._i)||(b._i=a._i);i(a._f)||(b._f=a._f);i(a._l)||(b._l=a._l);i(a._strict)||(b._strict=a._strict);i(a._tzm)||(b._tzm=a._tzm);i(a._isUTC)||(b._isUTC=a._isUTC);i(a._offset)||(b._offset=a._offset);i(a._pf)||(b._pf=n(a));i(a._locale)||(b._locale=a._locale);if(f>0)for(c=0;c<f;c++)d=fa[c],e=a[d],i(e)||(b[d]=e);return b}function ia(a){ha(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ga===!1&&(ga=!0,b.updateOffset(this),ga=!1)}function o(a){return a instanceof ia||a!=null&&a._isAMomentObject!=null}function ja(a){b.suppressDeprecationWarnings===!1&&typeof console!=="undefined"&&emptyFunction}function p(a,c){var d=!0;return l(function(){b.deprecationHandler!=null&&b.deprecationHandler(null,a);if(d){var e=[],g,h,i,j=arguments.length;for(h=0;h<j;h++){g="";if(typeof arguments[h]==="object"){g+="\n["+h+"] ";for(i in arguments[0])f(arguments[0],i)&&(g+=i+": "+arguments[0][i]+", ");g=g.slice(0,-2)}else g=arguments[h];e.push(g)}ja(a+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+new Error().stack);d=!1}return c.apply(this,arguments)},c)}var ka={};function la(a,c){b.deprecationHandler!=null&&b.deprecationHandler(a,c),ka[a]||(ja(c),ka[a]=!0)}b.suppressDeprecationWarnings=!1;b.deprecationHandler=null;function q(a){return typeof Function!=="undefined"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}function ma(a){var b,c;for(c in a)f(a,c)&&(b=a[c],q(b)?this[c]=b:this["_"+c]=b);this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function na(a,b){var c=l({},a),d;for(d in b)f(b,d)&&(e(a[d])&&e(b[d])?(c[d]={},l(c[d],a[d]),l(c[d],b[d])):b[d]!=null?c[d]=b[d]:delete c[d]);for(d in a)f(a,d)&&!f(b,d)&&e(a[d])&&(c[d]=l({},c[d]));return c}function oa(a){a!=null&&this.set(a)}var pa;Object.keys?pa=Object.keys:pa=function(a){var b,c=[];for(b in a)f(a,b)&&c.push(b);return c};var qa={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ra(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return q(a)?a.call(b,c):a}function r(a,b,c){var d=""+Math.abs(a);b=b-d.length;a=a>=0;return(a?c?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+d}var sa=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ta=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ua={},va={};function s(b,c,a,d){var e=d;typeof d==="string"&&(e=function(){return this[d]()});b&&(va[b]=e);c&&(va[c[0]]=function(){return r(e.apply(this,arguments),c[1],c[2])});a&&(va[a]=function(){return this.localeData().ordinal(e.apply(this,arguments),b)})}function wa(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function xa(a){var b=a.match(sa),c,d;for(c=0,d=b.length;c<d;c++)va[b[c]]?b[c]=va[b[c]]:b[c]=wa(b[c]);return function(e){var f="",c;for(c=0;c<d;c++)f+=q(b[c])?b[c].call(e,a):b[c];return f}}function ya(b,a){if(!b.isValid())return b.localeData().invalidDate();a=za(a,b.localeData());ua[a]=ua[a]||xa(a);return ua[a](b)}function za(a,b){var c=5;function d(a){return b.longDateFormat(a)||a}ta.lastIndex=0;while(c>=0&&ta.test(a))a=a.replace(ta,d),ta.lastIndex=0,c-=1;return a}var Aa={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ba(b){var a=this._longDateFormat[b],c=this._longDateFormat[b.toUpperCase()];if(a||!c)return a;this._longDateFormat[b]=c.match(sa).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join("");return this._longDateFormat[b]}var Ca="Invalid date";function Da(){return this._invalidDate}var Ea="%d",Fa=/\d{1,2}/;function Ga(a){return this._ordinal.replace("%d",a)}var t={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ha(a,b,c,d){var e=this._relativeTime[c];return q(e)?e(a,b,c,d):e.replace(/%d/i,a)}function Ia(a,b){a=this._relativeTime[a>0?"future":"past"];return q(a)?a(b):a.replace(/%s/i,b)}var Ja={};function u(a,b){var c=a.toLowerCase();Ja[c]=Ja[c+"s"]=Ja[b]=a}function v(a){return typeof a==="string"?Ja[a]||Ja[a.toLowerCase()]:void 0}function Ka(a){var b={},c,d;for(d in a)f(a,d)&&(c=v(d),c&&(b[c]=a[d]));return b}var La={};function w(a,b){La[a]=b}function Ma(a){var b=[],c;for(c in a)f(a,c)&&b.push({unit:c,priority:La[c]});b.sort(function(a,b){return a.priority-b.priority});return b}function Na(a){return a%4===0&&a%100!==0||a%400===0}function x(a){if(a<0)return Math.ceil(a)||0;else return Math.floor(a)}function y(a){a=+a;var b=0;a!==0&&isFinite(a)&&(b=x(a));return b}function Oa(a,c){return function(d){if(d!=null){Qa(this,a,d);b.updateOffset(this,c);return this}else return Pa(this,a)}}function Pa(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Qa(a,b,c){a.isValid()&&!isNaN(c)&&(b==="FullYear"&&Na(a.year())&&a.month()===1&&a.date()===29?(c=y(c),a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ob(c,a.month()))):a._d["set"+(a._isUTC?"UTC":"")+b](c))}function Ra(a){a=v(a);return q(this[a])?this[a]():this}function Sa(a,b){if(typeof a==="object"){a=Ka(a);var c=Ma(a),d,e=c.length;for(d=0;d<e;d++)this[c[d].unit](a[c[d].unit])}else{a=v(a);if(q(this[a]))return this[a](b)}return this}var Ta=/\d/,z=/\d\d/,Ua=/\d{3}/,Va=/\d{4}/,Wa=/[+-]?\d{6}/,A=/\d\d?/,Xa=/\d\d\d\d?/,Ya=/\d\d\d\d\d\d?/,Za=/\d{1,3}/,$a=/\d{1,4}/,ab=/[+-]?\d{1,6}/,bb=/\d+/,cb=/[+-]?\d+/,db=/Z|[+-]\d\d:?\d\d/gi,eb=/Z|[+-]\d\d(?::?\d\d)?/gi,fb=/[+-]?\d+(\.\d{1,3})?/,B=/[0-9]{0,256}[\'a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,gb;gb={};function C(a,b,c){gb[a]=q(b)?b:function(d,a){return d&&c?c:b}}function hb(a,b){return!f(gb,a)?new RegExp(ib(a)):gb[a](b._strict,b._locale)}function ib(a){return D(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function D(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var jb={};function E(a,b){var c,d=b,e;typeof a==="string"&&(a=[a]);j(b)&&(d=function(a,c){c[b]=y(a)});e=a.length;for(c=0;c<e;c++)jb[a[c]]=d}function F(a,b){E(a,function(c,d,e,a){e._w=e._w||{},b(c,e._w,e,a)})}function kb(a,b,c){b!=null&&f(jb,a)&&jb[a](b,c._a,c,a)}var G=0,H=1,I=2,J=3,K=4,L=5,M=6,lb=7,mb=8;function nb(a,b){return(a%b+b)%b}var N;Array.prototype.indexOf?N=Array.prototype.indexOf:N=function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};function ob(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=nb(b,12);a+=(b-c)/12;return c===1?Na(a)?29:28:31-c%7%2}s("M",["MM",2],"Mo",function(){return this.month()+1});s("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});s("MMMM",0,0,function(a){return this.localeData().months(this,a)});u("month","M");w("month",8);C("M",A);C("MM",A,z);C("MMM",function(b,a){return a.monthsShortRegex(b)});C("MMMM",function(b,a){return a.monthsRegex(b)});E(["M","MM"],function(a,b){b[H]=y(a)-1});E(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);d!=null?b[H]=d:n(c).invalidMonth=a});var pb="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qb="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rb=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sb=B,tb=B;function ub(b,a){return!b?d(this._months)?this._months:this._months.standalone:d(this._months)?this._months[b.month()]:this._months[(this._months.isFormat||rb).test(a)?"format":"standalone"][b.month()]}function vb(b,a){return!b?d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone:d(this._monthsShort)?this._monthsShort[b.month()]:this._monthsShort[rb.test(a)?"format":"standalone"][b.month()]}function wb(b,a,c){var d,e;b=b.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(d=0;d<12;++d)e=m([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(e,"").toLocaleLowerCase()}if(c)if(a==="MMM"){e=N.call(this._shortMonthsParse,b);return e!==-1?e:null}else{e=N.call(this._longMonthsParse,b);return e!==-1?e:null}else if(a==="MMM"){e=N.call(this._shortMonthsParse,b);if(e!==-1)return e;e=N.call(this._longMonthsParse,b);return e!==-1?e:null}else{e=N.call(this._longMonthsParse,b);if(e!==-1)return e;e=N.call(this._shortMonthsParse,b);return e!==-1?e:null}}function xb(b,a,c){var d,e;if(this._monthsParseExact)return wb.call(this,b,a,c);this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;d<12;d++){e=m([2e3,d]);c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i"));!c&&!this._monthsParse[d]&&(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i"));if(c&&a==="MMMM"&&this._longMonthsParse[d].test(b))return d;else if(c&&a==="MMM"&&this._shortMonthsParse[d].test(b))return d;else if(!c&&this._monthsParse[d].test(b))return d}}function yb(a,b){var c;if(!a.isValid())return a;if(typeof b==="string")if(/^\d+$/.test(b))b=y(b);else{b=a.localeData().monthsParse(b);if(!j(b))return a}c=Math.min(a.date(),ob(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function zb(a){if(a!=null){yb(this,a);b.updateOffset(this,!0);return this}else return Pa(this,"Month")}function Ab(){return ob(this.year(),this.month())}function Bb(a){if(this._monthsParseExact){f(this,"_monthsRegex")||Db.call(this);if(a)return this._monthsShortStrictRegex;else return this._monthsShortRegex}else{f(this,"_monthsShortRegex")||(this._monthsShortRegex=sb);return this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}}function Cb(a){if(this._monthsParseExact){f(this,"_monthsRegex")||Db.call(this);if(a)return this._monthsStrictRegex;else return this._monthsRegex}else{f(this,"_monthsRegex")||(this._monthsRegex=tb);return this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}}function Db(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],e,f;for(e=0;e<12;e++)f=m([2e3,e]),b.push(this.monthsShort(f,"")),c.push(this.months(f,"")),d.push(this.months(f,"")),d.push(this.monthsShort(f,""));b.sort(a);c.sort(a);d.sort(a);for(e=0;e<12;e++)b[e]=D(b[e]),c[e]=D(c[e]);for(e=0;e<24;e++)d[e]=D(d[e]);this._monthsRegex=new RegExp("^("+d.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}s("Y",0,0,function(){var a=this.year();return a<=9999?r(a,4):"+"+a});s(0,["YY",2],0,function(){return this.year()%100});s(0,["YYYY",4],0,"year");s(0,["YYYYY",5],0,"year");s(0,["YYYYYY",6,!0],0,"year");u("year","y");w("year",1);C("Y",cb);C("YY",A,z);C("YYYY",$a,Va);C("YYYYY",ab,Wa);C("YYYYYY",ab,Wa);E(["YYYYY","YYYYYY"],G);E("YYYY",function(a,c){c[G]=a.length===2?b.parseTwoDigitYear(a):y(a)});E("YY",function(a,c){c[G]=b.parseTwoDigitYear(a)});E("Y",function(a,b){b[G]=parseInt(a,10)});function Eb(a){return Na(a)?366:365}b.parseTwoDigitYear=function(a){return y(a)+(y(a)>68?1900:2e3)};var Fb=Oa("FullYear",!0);function Gb(){return Na(this.year())}function Hb(a,b,c,d,e,f,g){var h;a<100&&a>=0?(h=new Date(a+400,b,c,d,e,f,g),isFinite(h.getFullYear())&&h.setFullYear(a)):h=new Date(a,b,c,d,e,f,g);return h}function Ib(a){var b,c;a<100&&a>=0?(c=Array.prototype.slice.call(arguments),c[0]=a+400,b=new Date(Date.UTC.apply(null,c)),isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a)):b=new Date(Date.UTC.apply(null,arguments));return b}function Jb(a,b,c){c=7+b-c;a=(7+Ib(a,0,c).getUTCDay()-b)%7;return-a+c-1}function Kb(a,b,c,d,e){c=(7+c-d)%7;d=Jb(a,d,e);e=1+7*(b-1)+c+d;e<=0?(b=a-1,c=Eb(b)+e):e>Eb(a)?(b=a+1,c=e-Eb(a)):(b=a,c=e);return{year:b,dayOfYear:c}}function Lb(a,b,c){var d=Jb(a.year(),b,c);d=Math.floor((a.dayOfYear()-d-1)/7)+1;var e,f;d<1?(f=a.year()-1,e=d+O(f,b,c)):d>O(a.year(),b,c)?(e=d-O(a.year(),b,c),f=a.year()+1):(f=a.year(),e=d);return{week:e,year:f}}function O(a,b,c){var d=Jb(a,b,c);b=Jb(a+1,b,c);return(Eb(a)-d+b)/7}s("w",["ww",2],"wo","week");s("W",["WW",2],"Wo","isoWeek");u("week","w");u("isoWeek","W");w("week",5);w("isoWeek",5);C("w",A);C("ww",A,z);C("W",A);C("WW",A,z);F(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=y(a)});function Mb(a){return Lb(a,this._week.dow,this._week.doy).week}var P={dow:0,doy:6};function Nb(){return this._week.dow}function Ob(){return this._week.doy}function Pb(a){var b=this.localeData().week(this);return a==null?b:this.add((a-b)*7,"d")}function Qb(a){var b=Lb(this,1,4).week;return a==null?b:this.add((a-b)*7,"d")}s("d",0,"do","day");s("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});s("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});s("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});s("e",0,0,"weekday");s("E",0,0,"isoWeekday");u("day","d");u("weekday","e");u("isoWeekday","E");w("day",11);w("weekday",11);w("isoWeekday",11);C("d",A);C("e",A);C("E",A);C("dd",function(b,a){return a.weekdaysMinRegex(b)});C("ddd",function(b,a){return a.weekdaysShortRegex(b)});C("dddd",function(b,a){return a.weekdaysRegex(b)});F(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);d!=null?b.d=d:n(c).invalidWeekday=a});F(["d","e","E"],function(a,b,c,d){b[d]=y(a)});function Rb(b,a){if(typeof b!=="string")return b;if(!isNaN(b))return parseInt(b,10);b=a.weekdaysParse(b);return typeof b==="number"?b:null}function Sb(b,a){return typeof b==="string"?a.weekdaysParse(b)%7||7:isNaN(b)?null:b}function Tb(a,b){return a.slice(b,7).concat(a.slice(0,b))}var Q="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ub="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vb="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Wb=B,Xb=B,Yb=B;function Zb(b,a){a=d(this._weekdays)?this._weekdays:this._weekdays[b&&b!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return b===!0?Tb(a,this._week.dow):b?a[b.day()]:a}function $b(a){return a===!0?Tb(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function ac(a){return a===!0?Tb(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function bc(b,a,c){var d,e;b=b.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(d=0;d<7;++d)e=m([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(e,"").toLocaleLowerCase()}if(c)if(a==="dddd"){e=N.call(this._weekdaysParse,b);return e!==-1?e:null}else if(a==="ddd"){e=N.call(this._shortWeekdaysParse,b);return e!==-1?e:null}else{e=N.call(this._minWeekdaysParse,b);return e!==-1?e:null}else if(a==="dddd"){e=N.call(this._weekdaysParse,b);if(e!==-1)return e;e=N.call(this._shortWeekdaysParse,b);if(e!==-1)return e;e=N.call(this._minWeekdaysParse,b);return e!==-1?e:null}else if(a==="ddd"){e=N.call(this._shortWeekdaysParse,b);if(e!==-1)return e;e=N.call(this._weekdaysParse,b);if(e!==-1)return e;e=N.call(this._minWeekdaysParse,b);return e!==-1?e:null}else{e=N.call(this._minWeekdaysParse,b);if(e!==-1)return e;e=N.call(this._weekdaysParse,b);if(e!==-1)return e;e=N.call(this._shortWeekdaysParse,b);return e!==-1?e:null}}function cc(b,a,c){var d,e;if(this._weekdaysParseExact)return bc.call(this,b,a,c);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;d<7;d++){e=m([2e3,1]).day(d);c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".","\\.?")+"$","i"));this._weekdaysParse[d]||(e="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(e.replace(".",""),"i"));if(c&&a==="dddd"&&this._fullWeekdaysParse[d].test(b))return d;else if(c&&a==="ddd"&&this._shortWeekdaysParse[d].test(b))return d;else if(c&&a==="dd"&&this._minWeekdaysParse[d].test(b))return d;else if(!c&&this._weekdaysParse[d].test(b))return d}}function dc(a){if(!this.isValid())return a!=null?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(a!=null){a=Rb(a,this.localeData());return this.add(a-b,"d")}else return b}function ec(a){if(!this.isValid())return a!=null?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return a==null?b:this.add(a-b,"d")}function fc(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){a=Sb(a,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function gc(a){if(this._weekdaysParseExact){f(this,"_weekdaysRegex")||jc.call(this);if(a)return this._weekdaysStrictRegex;else return this._weekdaysRegex}else{f(this,"_weekdaysRegex")||(this._weekdaysRegex=Wb);return this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex}}function hc(a){if(this._weekdaysParseExact){f(this,"_weekdaysRegex")||jc.call(this);if(a)return this._weekdaysShortStrictRegex;else return this._weekdaysShortRegex}else{f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xb);return this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}function ic(a){if(this._weekdaysParseExact){f(this,"_weekdaysRegex")||jc.call(this);if(a)return this._weekdaysMinStrictRegex;else return this._weekdaysMinRegex}else{f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yb);return this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function jc(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],e=[],f,g,h,i;for(f=0;f<7;f++)g=m([2e3,1]).day(f),h=D(this.weekdaysMin(g,"")),i=D(this.weekdaysShort(g,"")),g=D(this.weekdays(g,"")),b.push(h),c.push(i),d.push(g),e.push(h),e.push(i),e.push(g);b.sort(a);c.sort(a);d.sort(a);e.sort(a);this._weekdaysRegex=new RegExp("^("+e.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function kc(){return this.hours()%12||12}function lc(){return this.hours()||24}s("H",["HH",2],0,"hour");s("h",["hh",2],0,kc);s("k",["kk",2],0,lc);s("hmm",0,0,function(){return""+kc.apply(this)+r(this.minutes(),2)});s("hmmss",0,0,function(){return""+kc.apply(this)+r(this.minutes(),2)+r(this.seconds(),2)});s("Hmm",0,0,function(){return""+this.hours()+r(this.minutes(),2)});s("Hmmss",0,0,function(){return""+this.hours()+r(this.minutes(),2)+r(this.seconds(),2)});function mc(a,b){s(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}mc("a",!0);mc("A",!1);u("hour","h");w("hour",13);function nc(b,a){return a._meridiemParse}C("a",nc);C("A",nc);C("H",A);C("h",A);C("k",A);C("HH",A,z);C("hh",A,z);C("kk",A,z);C("hmm",Xa);C("hmmss",Ya);C("Hmm",Xa);C("Hmmss",Ya);E(["H","HH"],J);E(["k","kk"],function(a,b,c){c=y(a);b[J]=c===24?0:c});E(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a});E(["h","hh"],function(a,b,c){b[J]=y(a),n(c).bigHour=!0});E("hmm",function(a,b,c){var d=a.length-2;b[J]=y(a.substr(0,d));b[K]=y(a.substr(d));n(c).bigHour=!0});E("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[J]=y(a.substr(0,d));b[K]=y(a.substr(d,2));b[L]=y(a.substr(e));n(c).bigHour=!0});E("Hmm",function(a,b,c){c=a.length-2;b[J]=y(a.substr(0,c));b[K]=y(a.substr(c))});E("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[J]=y(a.substr(0,c));b[K]=y(a.substr(c,2));b[L]=y(a.substr(d))});function oc(a){return(a+"").toLowerCase().charAt(0)==="p"}B=/[ap]\.?m?\.?/i;lc=Oa("Hours",!0);function pc(a,b,c){if(a>11)return c?"pm":"PM";else return c?"am":"AM"}var qc={calendar:qa,longDateFormat:Aa,invalidDate:Ca,ordinal:Ea,dayOfMonthOrdinalParse:Fa,relativeTime:t,months:pb,monthsShort:qb,week:P,weekdays:Q,weekdaysMin:Vb,weekdaysShort:Ub,meridiemParse:B},R={},rc={},sc;function tc(a,b){var c,d=Math.min(a.length,b.length);for(c=0;c<d;c+=1)if(a[c]!==b[c])return c;return d}function uc(a){return a?a.toLowerCase().replace("_","-"):a}function vc(b){var c=0,d,e,a,f;while(c<b.length){f=uc(b[c]).split("-");d=f.length;e=uc(b[c+1]);e=e?e.split("-"):null;while(d>0){a=xc(f.slice(0,d).join("-"));if(a)return a;if(e&&e.length>=d&&tc(f,e)>=d-1)break;d--}c++}return sc}function wc(a){return a.match("^[^/\\\\]*$")!=null}function xc(a){R[a]===void 0&&typeof h!=="undefined"&&h&&h.exports&&wc(a)&&(R[a]=null);return R[a]}function S(a,b){var c;a&&(i(b)?c=T(a):c=yc(a,b),c?sc=c:typeof console!=="undefined"&&emptyFunction);return sc._abbr}function yc(b,c){if(c!==null){var a,d=qc;c.abbr=b;if(R[b]!=null)la("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=R[b]._config;else if(c.parentLocale!=null)if(R[c.parentLocale]!=null)d=R[c.parentLocale]._config;else{a=xc(c.parentLocale);if(a!=null)d=a._config;else{rc[c.parentLocale]||(rc[c.parentLocale]=[]);rc[c.parentLocale].push({name:b,config:c});return null}}R[b]=new oa(na(d,c));rc[b]&&rc[b].forEach(function(a){yc(a.name,a.config)});S(b);return R[b]}else{delete R[b];return null}}function zc(a,b){if(b!=null){var c,d=qc;R[a]!=null&&R[a].parentLocale!=null?R[a].set(na(R[a]._config,b)):(c=xc(a),c!=null&&(d=c._config),b=na(d,b),c==null&&(b.abbr=a),d=new oa(b),d.parentLocale=R[a],R[a]=d);S(a)}else R[a]!=null&&(R[a].parentLocale!=null?(R[a]=R[a].parentLocale,a===S()&&S(a)):R[a]!=null&&delete R[a]);return R[a]}function T(b){var a;b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr);if(!b)return sc;if(!d(b)){a=xc(b);if(a)return a;b=[b]}return vc(b)}function Ac(){return pa(R)}function Bc(a){var b=a._a;b&&n(a).overflow===-2&&(b=b[H]<0||b[H]>11?H:b[I]<1||b[I]>ob(b[G],b[H])?I:b[J]<0||b[J]>24||b[J]===24&&(b[K]!==0||b[L]!==0||b[M]!==0)?J:b[K]<0||b[K]>59?K:b[L]<0||b[L]>59?L:b[M]<0||b[M]>999?M:-1,n(a)._overflowDayOfYear&&(b<G||b>I)&&(b=I),n(a)._overflowWeeks&&b===-1&&(b=lb),n(a)._overflowWeekday&&b===-1&&(b=mb),n(a).overflow=b);return a}var Cc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ec=/Z|[+-]\d\d(?::?\d\d)?/,Fc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Gc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hc=/^\/?Date\((-?\d+)/i,Ic=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Jc={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Kc(a){var b,c=a._i;c=Cc.exec(c)||Dc.exec(c);var d,e,f,g,h=Fc.length,i=Gc.length;if(c){n(a).iso=!0;for(b=0,h=h;b<h;b++)if(Fc[b][1].exec(c[1])){e=Fc[b][0];d=Fc[b][2]!==!1;break}if(e==null){a._isValid=!1;return}if(c[3]){for(b=0,h=i;b<h;b++)if(Gc[b][1].exec(c[3])){f=(c[2]||" ")+Gc[b][0];break}if(f==null){a._isValid=!1;return}}if(!d&&f!=null){a._isValid=!1;return}if(c[4])if(Ec.exec(c[4]))g="Z";else{a._isValid=!1;return}a._f=e+(f||"")+(g||"");Wc(a)}else a._isValid=!1}function Lc(a,b,c,d,e,f){a=[Mc(a),qb.indexOf(b),parseInt(c,10),parseInt(d,10),parseInt(e,10)];f&&a.push(parseInt(f,10));return a}function Mc(a){a=parseInt(a,10);if(a<=49)return 2e3+a;else if(a<=999)return 1900+a;return a}function Nc(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Oc(a,b,c){if(a){a=Ub.indexOf(a);b=new Date(b[0],b[1],b[2]).getDay();if(a!==b){n(c).weekdayMismatch=!0;c._isValid=!1;return!1}}return!0}function Pc(a,b,c){if(a)return Jc[a];else if(b)return 0;else{a=parseInt(c,10);b=a%100;c=(a-b)/100;return c*60+b}}function Qc(a){var b=Ic.exec(Nc(a._i)),c;if(b){c=Lc(b[4],b[3],b[2],b[5],b[6],b[7]);if(!Oc(b[1],c,a))return;a._a=c;a._tzm=Pc(b[8],b[9],b[10]);a._d=Ib.apply(null,a._a);a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);n(a).rfc2822=!0}else a._isValid=!1}function Rc(a){var c=Hc.exec(a._i);if(c!==null){a._d=new Date(+c[1]);return}Kc(a);if(a._isValid===!1)delete a._isValid;else return;Qc(a);if(a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:b.createFromInputFallback(a)}b.createFromInputFallback=p("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function Sc(a,b,c){if(a!=null)return a;return b!=null?b:c}function Tc(a){var c=new Date(b.now());return a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function Uc(a){var b=[],c,d;if(a._d)return;c=Tc(a);a._w&&a._a[I]==null&&a._a[H]==null&&Vc(a);a._dayOfYear!=null&&(d=Sc(a._a[G],c[G]),(a._dayOfYear>Eb(d)||a._dayOfYear===0)&&(n(a)._overflowDayOfYear=!0),d=Ib(d,0,a._dayOfYear),a._a[H]=d.getUTCMonth(),a._a[I]=d.getUTCDate());for(d=0;d<3&&a._a[d]==null;++d)a._a[d]=b[d]=c[d];for(;d<7;d++)a._a[d]=b[d]=a._a[d]==null?d===2?1:0:a._a[d];a._a[J]===24&&a._a[K]===0&&a._a[L]===0&&a._a[M]===0&&(a._nextDay=!0,a._a[J]=0);a._d=(a._useUTC?Ib:Hb).apply(null,b);c=a._useUTC?a._d.getUTCDay():a._d.getDay();a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[J]=24);a._w&&typeof a._w.d!=="undefined"&&a._w.d!==c&&(n(a).weekdayMismatch=!0)}function Vc(a){var b,c,d,e,f,g,h,i;b=a._w;b.GG!=null||b.W!=null||b.E!=null?(f=1,g=4,c=Sc(b.GG,a._a[G],Lb(U(),1,4).year),d=Sc(b.W,1),e=Sc(b.E,1),(e<1||e>7)&&(h=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,i=Lb(U(),f,g),c=Sc(b.gg,a._a[G],i.year),d=Sc(b.w,i.week),b.d!=null?(e=b.d,(e<0||e>6)&&(h=!0)):b.e!=null?(e=b.e+f,(b.e<0||b.e>6)&&(h=!0)):e=f);d<1||d>O(c,f,g)?n(a)._overflowWeeks=!0:h!=null?n(a)._overflowWeekday=!0:(i=Kb(c,d,e,f,g),a._a[G]=i.year,a._dayOfYear=i.dayOfYear)}b.ISO_8601=function(){};b.RFC_2822=function(){};function Wc(c){if(c._f===b.ISO_8601){Kc(c);return}if(c._f===b.RFC_2822){Qc(c);return}c._a=[];n(c).empty=!0;var d=""+c._i,e,f,a,g,h,i=d.length,j=0,k;a=za(c._f,c._locale).match(sa)||[];k=a.length;for(e=0;e<k;e++)g=a[e],f=(d.match(hb(g,c))||[])[0],f&&(h=d.substr(0,d.indexOf(f)),h.length>0&&n(c).unusedInput.push(h),d=d.slice(d.indexOf(f)+f.length),j+=f.length),va[g]?(f?n(c).empty=!1:n(c).unusedTokens.push(g),kb(g,f,c)):c._strict&&!f&&n(c).unusedTokens.push(g);n(c).charsLeftOver=i-j;d.length>0&&n(c).unusedInput.push(d);c._a[J]<=12&&n(c).bigHour===!0&&c._a[J]>0&&(n(c).bigHour=void 0);n(c).parsedDateParts=c._a.slice(0);n(c).meridiem=c._meridiem;c._a[J]=Xc(c._locale,c._a[J],c._meridiem);h=n(c).era;h!==null&&(c._a[G]=c._locale.erasConvertYear(h,c._a[G]));Uc(c);Bc(c)}function Xc(b,c,a){if(a==null)return c;if(b.meridiemHour!=null)return b.meridiemHour(c,a);else if(b.isPM!=null){b=b.isPM(a);b&&c<12&&(c+=12);!b&&c===12&&(c=0);return c}else return c}function Yc(a){var b,c,d,e,f,g,h=!1,i=a._f.length;if(i===0){n(a).invalidFormat=!0;a._d=new Date(NaN);return}for(e=0;e<i;e++)f=0,g=!1,b=ha({},a),a._useUTC!=null&&(b._useUTC=a._useUTC),b._f=a._f[e],Wc(b),da(b)&&(g=!0),f+=n(b).charsLeftOver,f+=n(b).unusedTokens.length*10,n(b).score=f,!h?(d==null||f<d||g)&&(d=f,c=b,g&&(h=!0)):f<d&&(d=f,c=b);l(a,c||b)}function Zc(a){if(a._d)return;var b=Ka(a._i),c=b.day===void 0?b.date:b.day;a._a=aa([b.year,b.month,c,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});Uc(a)}function $c(a){a=new ia(Bc(ad(a)));a._nextDay&&(a.add(1,"d"),a._nextDay=void 0);return a}function ad(b){var c=b._i,a=b._f;b._locale=b._locale||T(b._l);if(c===null||a===void 0&&c==="")return ea({nullInput:!0});typeof c==="string"&&(b._i=c=b._locale.preparse(c));if(o(c))return new ia(Bc(c));else k(c)?b._d=c:d(a)?Yc(b):a?Wc(b):bd(b);da(b)||(b._d=null);return b}function bd(a){var c=a._i;i(c)?a._d=new Date(b.now()):k(c)?a._d=new Date(c.valueOf()):typeof c==="string"?Rc(a):d(c)?(a._a=aa(c.slice(0),function(a){return parseInt(a,10)}),Uc(a)):e(c)?Zc(a):j(c)?a._d=new Date(c):b.createFromInputFallback(a)}function cd(c,a,b,f,h){var i={};(a===!0||a===!1)&&(f=a,a=void 0);(b===!0||b===!1)&&(f=b,b=void 0);(e(c)&&g(c)||d(c)&&c.length===0)&&(c=void 0);i._isAMomentObject=!0;i._useUTC=i._isUTC=h;i._l=b;i._i=c;i._f=a;i._strict=f;return $c(i)}function U(c,a,b,d){return cd(c,a,b,d,!1)}mc=p("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=U.apply(null,arguments);if(this.isValid()&&a.isValid())return a<this?this:a;else return ea()});nc=p("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=U.apply(null,arguments);if(this.isValid()&&a.isValid())return a>this?this:a;else return ea()});function dd(a,b){var c,e;b.length===1&&d(b[0])&&(b=b[0]);if(!b.length)return U();c=b[0];for(e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](c))&&(c=b[e]);return c}function ed(){var a=[].slice.call(arguments,0);return dd("isBefore",a)}function fd(){var a=[].slice.call(arguments,0);return dd("isAfter",a)}Xa=function(){return Date.now?Date.now():+new Date()};var gd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function hd(a){var b,c=!1,d=gd.length;for(b in a)if(f(a,b)&&!(N.call(gd,b)!==-1&&(a[b]==null||!isNaN(a[b]))))return!1;for(b=0;b<d;++b)if(a[gd[b]]){if(c)return!1;parseFloat(a[gd[b]])!==y(a[gd[b]])&&(c=!0)}return!0}function id(){return this._isValid}function jd(){return V(NaN)}function kd(b){b=Ka(b);var c=b.year||0,d=b.quarter||0,e=b.month||0,a=b.week||b.isoWeek||0,f=b.day||0,g=b.hour||0,h=b.minute||0,i=b.second||0,j=b.millisecond||0;this._isValid=hd(b);this._milliseconds=+j+i*1e3+h*6e4+g*1e3*60*60;this._days=+f+a*7;this._months=+e+d*3+c*12;this._data={};this._locale=T();this._bubble()}function ld(a){return a instanceof kd}function md(a){if(a<0)return Math.round(-1*a)*-1;else return Math.round(a)}function nd(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0,g;for(g=0;g<d;g++)(c&&a[g]!==b[g]||!c&&y(a[g])!==y(b[g]))&&f++;return f+e}function od(a,b){s(a,0,0,function(){var a=this.utcOffset(),c="+";a<0&&(a=-a,c="-");return c+r(~~(a/60),2)+b+r(~~a%60,2)})}od("Z",":");od("ZZ","");C("Z",eb);C("ZZ",eb);E(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=qd(eb,a)});var pd=/([\+\-]|\d\d)/gi;function qd(a,b){b=(b||"").match(a);if(b===null)return null;a=b[b.length-1]||[];b=(a+"").match(pd)||["-",0,0];a=+(b[1]*60)+y(b[2]);return a===0?0:b[0]==="+"?a:-a}function rd(c,d){var a;if(d._isUTC){d=d.clone();a=(o(c)||k(c)?c.valueOf():U(c).valueOf())-d.valueOf();d._d.setTime(d._d.valueOf()+a);b.updateOffset(d,!1);return d}else return U(c).local()}function sd(a){return-Math.round(a._d.getTimezoneOffset())}b.updateOffset=function(){};function td(c,d,e){var a=this._offset||0,f;if(!this.isValid())return c!=null?this:NaN;if(c!=null){if(typeof c==="string"){c=qd(eb,c);if(c===null)return this}else Math.abs(c)<16&&!e&&(c=c*60);!this._isUTC&&d&&(f=sd(this));this._offset=c;this._isUTC=!0;f!=null&&this.add(f,"m");a!==c&&(!d||this._changeInProgress?Jd(this,V(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null));return this}else return this._isUTC?a:sd(this)}function ud(a,b){if(a!=null){typeof a!=="string"&&(a=-a);this.utcOffset(a,b);return this}else return-this.utcOffset()}function vd(a){return this.utcOffset(0,a)}function wd(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(sd(this),"m"));return this}function xd(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i==="string"){var a=qd(db,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}function yd(a){if(!this.isValid())return!1;a=a?U(a).utcOffset():0;return(this.utcOffset()-a)%60===0}function zd(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ad(){if(!i(this._isDSTShifted))return this._isDSTShifted;var a={},b;ha(a,this);a=ad(a);a._a?(b=a._isUTC?m(a._a):U(a._a),this._isDSTShifted=this.isValid()&&nd(a._a,b.toArray())>0):this._isDSTShifted=!1;return this._isDSTShifted}function Bd(){return this.isValid()?!this._isUTC:!1}function Cd(){return this.isValid()?this._isUTC:!1}function Dd(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ed=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fd=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function V(a,b){var c=a,d=null;ld(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:j(a)||!isNaN(+a)?(c={},b?c[b]=+a:c.milliseconds=+a):(d=Ed.exec(a))?(b=d[1]==="-"?-1:1,c={y:0,d:y(d[I])*b,h:y(d[J])*b,m:y(d[K])*b,s:y(d[L])*b,ms:y(md(d[M]*1e3))*b}):(d=Fd.exec(a))?(b=d[1]==="-"?-1:1,c={y:W(d[2],b),M:W(d[3],b),w:W(d[4],b),d:W(d[5],b),h:W(d[6],b),m:W(d[7],b),s:W(d[8],b)}):c==null?c={}:typeof c==="object"&&("from"in c||"to"in c)&&(d=Hd(U(c.from),U(c.to)),c={},c.ms=d.milliseconds,c.M=d.months);b=new kd(c);ld(a)&&f(a,"_locale")&&(b._locale=a._locale);ld(a)&&f(a,"_isValid")&&(b._isValid=a._isValid);return b}V.fn=kd.prototype;V.invalid=jd;function W(b,a){b=b&&parseFloat(b.replace(",","."));return(isNaN(b)?0:b)*a}function Gd(a,b){var c={};c.months=b.month()-a.month()+(b.year()-a.year())*12;a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function Hd(a,b){var c;if(!(a.isValid()&&b.isValid()))return{milliseconds:0,months:0};b=rd(b,a);a.isBefore(b)?c=Gd(a,b):(c=Gd(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months);return c}function Id(a,b){return function(c,d){var e;d!==null&&!isNaN(+d)&&(la(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),e=c,c=d,d=e);e=V(c,d);Jd(this,e,a);return this}}function Jd(a,c,d,e){var f=c._milliseconds,g=md(c._days);c=md(c._months);if(!a.isValid())return;e=e==null?!0:e;c&&yb(a,Pa(a,"Month")+c*d);g&&Qa(a,"Date",Pa(a,"Date")+g*d);f&&a._d.setTime(a._d.valueOf()+f*d);e&&b.updateOffset(a,g||c)}Ya=Id(1,"add");qa=Id(-1,"subtract");function Kd(a){return typeof a==="string"||a instanceof String}function Ld(a){return o(a)||k(a)||Kd(a)||j(a)||Nd(a)||Md(a)||a===null||a===void 0}function Md(a){var b=e(a)&&!g(a),c=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],h,i,j=d.length;for(h=0;h<j;h+=1)i=d[h],c=c||f(a,i);return b&&c}function Nd(a){var b=d(a),c=!1;b&&(c=a.filter(function(b){return!j(b)&&Kd(a)}).length===0);return b&&c}function Od(a){var b=e(a)&&!g(a),c=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],h,i;for(h=0;h<d.length;h+=1)i=d[h],c=c||f(a,i);return b&&c}function Pd(a,b){a=a.diff(b,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function Qd(c,d){arguments.length===1&&(!arguments[0]?(c=void 0,d=void 0):Ld(arguments[0])?(c=arguments[0],d=void 0):Od(arguments[0])&&(d=arguments[0],c=void 0));var e=c||U(),f=rd(e,this).startOf("day"),a=b.calendarFormat(this,f)||"sameElse",g=d&&(q(d[a])?d[a].call(this,e):d[a]);return this.format(g||this.localeData().calendar(a,this,U(e)))}function Rd(){return new ia(this)}function Sd(a,b){a=o(a)?a:U(a);if(!(this.isValid()&&a.isValid()))return!1;b=v(b)||"millisecond";if(b==="millisecond")return this.valueOf()>a.valueOf();else return a.valueOf()<this.clone().startOf(b).valueOf()}function Td(a,b){a=o(a)?a:U(a);if(!(this.isValid()&&a.isValid()))return!1;b=v(b)||"millisecond";if(b==="millisecond")return this.valueOf()<a.valueOf();else return this.clone().endOf(b).valueOf()<a.valueOf()}function Ud(a,b,c,d){a=o(a)?a:U(a);b=o(b)?b:U(b);if(!(this.isValid()&&a.isValid()&&b.isValid()))return!1;d=d||"()";return(d[0]==="("?this.isAfter(a,c):!this.isBefore(a,c))&&(d[1]===")"?this.isBefore(b,c):!this.isAfter(b,c))}function Vd(a,b){a=o(a)?a:U(a);if(!(this.isValid()&&a.isValid()))return!1;b=v(b)||"millisecond";if(b==="millisecond")return this.valueOf()===a.valueOf();else{a=a.valueOf();return this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()}}function Wd(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function Xd(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function Yd(a,b,c){var d,e;if(!this.isValid())return NaN;a=rd(a,this);if(!a.isValid())return NaN;d=(a.utcOffset()-this.utcOffset())*6e4;b=v(b);switch(b){case"year":e=Zd(this,a)/12;break;case"month":e=Zd(this,a);break;case"quarter":e=Zd(this,a)/3;break;case"second":e=(this-a)/1e3;break;case"minute":e=(this-a)/6e4;break;case"hour":e=(this-a)/36e5;break;case"day":e=(this-a-d)/864e5;break;case"week":e=(this-a-d)/6048e5;break;default:e=this-a}return c?e:x(e)}function Zd(a,b){if(a.date()<b.date())return-Zd(b,a);var c=(b.year()-a.year())*12+(b.month()-a.month()),d=a.clone().add(c,"months"),e,f;b-d<0?(e=a.clone().add(c-1,"months"),f=(b-d)/(d-e)):(e=a.clone().add(c+1,"months"),f=(b-d)/(e-d));return-(c+f)||0}b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";b.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $d(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ae(a){if(!this.isValid())return null;a=a!==!0;var b=a?this.clone().utc():this;if(b.year()<0||b.year()>9999)return ya(b,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ");if(q(Date.prototype.toISOString))if(a)return this.toDate().toISOString();else return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ya(b,"Z"));return ya(b,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function be(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="",c,d;this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",b="Z");a="["+a+'("]';c=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";d="-MM-DD[T]HH:mm:ss.SSS";b=b+'[")]';return this.format(a+c+d+b)}function ce(a){a||(a=this.isUtc()?b.defaultFormatUtc:b.defaultFormat);a=ya(this,a);return this.localeData().postformat(a)}function de(a,b){if(this.isValid()&&(o(a)&&a.isValid()||U(a).isValid()))return V({to:this,from:a}).locale(this.locale()).humanize(!b);else return this.localeData().invalidDate()}function ee(a){return this.from(U(),a)}function fe(a,b){if(this.isValid()&&(o(a)&&a.isValid()||U(a).isValid()))return V({from:this,to:a}).locale(this.locale()).humanize(!b);else return this.localeData().invalidDate()}function ge(a){return this.to(U(),a)}function he(a){if(a===void 0)return this._locale._abbr;else{a=T(a);a!=null&&(this._locale=a);return this}}Aa=p("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){if(a===void 0)return this.localeData();else return this.locale(a)});function ie(){return this._locale}var je=1e3,ke=60*je,le=60*ke,me=(365*400+97)*24*le;function ne(a,b){return(a%b+b)%b}function oe(a,b,c){if(a<100&&a>=0)return new Date(a+400,b,c)-me;else return new Date(a,b,c).valueOf()}function pe(a,b,c){if(a<100&&a>=0)return Date.UTC(a+400,b,c)-me;else return Date.UTC(a,b,c)}function qe(a){var c,d;a=v(a);if(a===void 0||a==="millisecond"||!this.isValid())return this;d=this._isUTC?pe:oe;switch(a){case"year":c=d(this.year(),0,1);break;case"quarter":c=d(this.year(),this.month()-this.month()%3,1);break;case"month":c=d(this.year(),this.month(),1);break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":c=d(this.year(),this.month(),this.date());break;case"hour":c=this._d.valueOf();c-=ne(c+(this._isUTC?0:this.utcOffset()*ke),le);break;case"minute":c=this._d.valueOf();c-=ne(c,ke);break;case"second":c=this._d.valueOf();c-=ne(c,je);break}this._d.setTime(c);b.updateOffset(this,!0);return this}function re(a){var c,d;a=v(a);if(a===void 0||a==="millisecond"||!this.isValid())return this;d=this._isUTC?pe:oe;switch(a){case"year":c=d(this.year()+1,0,1)-1;break;case"quarter":c=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":c=d(this.year(),this.month()+1,1)-1;break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":c=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":c=this._d.valueOf();c+=le-ne(c+(this._isUTC?0:this.utcOffset()*ke),le)-1;break;case"minute":c=this._d.valueOf();c+=ke-ne(c,ke)-1;break;case"second":c=this._d.valueOf();c+=je-ne(c,je)-1;break}this._d.setTime(c);b.updateOffset(this,!0);return this}function se(){return this._d.valueOf()-(this._offset||0)*6e4}function te(){return Math.floor(this.valueOf()/1e3)}function ue(){return new Date(this.valueOf())}function ve(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function we(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function xe(){return this.isValid()?this.toISOString():null}function ye(){return da(this)}function ze(){return l({},n(this))}function Ae(){return n(this).overflow}function Be(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}s("N",0,0,"eraAbbr");s("NN",0,0,"eraAbbr");s("NNN",0,0,"eraAbbr");s("NNNN",0,0,"eraName");s("NNNNN",0,0,"eraNarrow");s("y",["y",1],"yo","eraYear");s("y",["yy",2],0,"eraYear");s("y",["yyy",3],0,"eraYear");s("y",["yyyy",4],0,"eraYear");C("N",Me);C("NN",Me);C("NNN",Me);C("NNNN",Ne);C("NNNNN",Oe);E(["N","NN","NNN","NNNN","NNNNN"],function(a,b,c,d){b=c._locale.erasParse(a,d,c._strict);b?n(c).era=b:n(c).invalidEra=a});C("y",bb);C("yy",bb);C("yyy",bb);C("yyyy",bb);C("yo",Pe);E(["y","yy","yyy","yyyy"],G);E(["yo"],function(a,b,c,d){var e;c._locale._eraYearOrdinalRegex&&(e=a.match(c._locale._eraYearOrdinalRegex));c._locale.eraYearOrdinalParse?b[G]=c._locale.eraYearOrdinalParse(a,e):b[G]=parseInt(a,10)});function Ce(c,a){var d,e;c=this._eras||T("en")._eras;for(a=0,d=c.length;a<d;++a){switch(typeof c[a].since){case"string":e=b(c[a].since).startOf("day");c[a].since=e.valueOf();break}switch(typeof c[a].until){case"undefined":c[a].until=+Infinity;break;case"string":e=b(c[a].until).startOf("day").valueOf();c[a].until=e.valueOf();break}}return c}function De(b,a,c){var d,e,f=this.eras(),g,h,i;b=b.toUpperCase();for(d=0,e=f.length;d<e;++d){g=f[d].name.toUpperCase();h=f[d].abbr.toUpperCase();i=f[d].narrow.toUpperCase();if(c)switch(a){case"N":case"NN":case"NNN":if(h===b)return f[d];break;case"NNNN":if(g===b)return f[d];break;case"NNNNN":if(i===b)return f[d];break}else if([g,h,i].indexOf(b)>=0)return f[d]}}function Ee(a,c){var d=a.since<=a.until?1:-1;if(c===void 0)return b(a.since).year();else return b(a.since).year()+(c-a.offset)*d}function Fe(){var a,b,c,d=this.localeData().eras();for(a=0,b=d.length;a<b;++a){c=this.clone().startOf("day").valueOf();if(d[a].since<=c&&c<=d[a].until)return d[a].name;if(d[a].until<=c&&c<=d[a].since)return d[a].name}return""}function Ge(){var a,b,c,d=this.localeData().eras();for(a=0,b=d.length;a<b;++a){c=this.clone().startOf("day").valueOf();if(d[a].since<=c&&c<=d[a].until)return d[a].narrow;if(d[a].until<=c&&c<=d[a].since)return d[a].narrow}return""}function He(){var a,b,c,d=this.localeData().eras();for(a=0,b=d.length;a<b;++a){c=this.clone().startOf("day").valueOf();if(d[a].since<=c&&c<=d[a].until)return d[a].abbr;if(d[a].until<=c&&c<=d[a].since)return d[a].abbr}return""}function Ie(){var a,c,d,e,f=this.localeData().eras();for(a=0,c=f.length;a<c;++a){d=f[a].since<=f[a].until?1:-1;e=this.clone().startOf("day").valueOf();if(f[a].since<=e&&e<=f[a].until||f[a].until<=e&&e<=f[a].since)return(this.year()-b(f[a].since).year())*d+f[a].offset}return this.year()}function Je(a){f(this,"_erasNameRegex")||Qe.call(this);return a?this._erasNameRegex:this._erasRegex}function Ke(a){f(this,"_erasAbbrRegex")||Qe.call(this);return a?this._erasAbbrRegex:this._erasRegex}function Le(a){f(this,"_erasNarrowRegex")||Qe.call(this);return a?this._erasNarrowRegex:this._erasRegex}function Me(b,a){return a.erasAbbrRegex(b)}function Ne(b,a){return a.erasNameRegex(b)}function Oe(b,a){return a.erasNarrowRegex(b)}function Pe(b,a){return a._eraYearOrdinalRegex||bb}function Qe(){var a=[],b=[],c=[],d=[],e,f,g=this.eras();for(e=0,f=g.length;e<f;++e)b.push(D(g[e].name)),a.push(D(g[e].abbr)),c.push(D(g[e].narrow)),d.push(D(g[e].name)),d.push(D(g[e].abbr)),d.push(D(g[e].narrow));this._erasRegex=new RegExp("^("+d.join("|")+")","i");this._erasNameRegex=new RegExp("^("+b.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}s(0,["gg",2],0,function(){return this.weekYear()%100});s(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Re(a,b){s(0,[a,a.length],0,b)}Re("gggg","weekYear");Re("ggggg","weekYear");Re("GGGG","isoWeekYear");Re("GGGGG","isoWeekYear");u("weekYear","gg");u("isoWeekYear","GG");w("weekYear",1);w("isoWeekYear",1);C("G",cb);C("g",cb);C("GG",A,z);C("gg",A,z);C("GGGG",$a,Va);C("gggg",$a,Va);C("GGGGG",ab,Wa);C("ggggg",ab,Wa);F(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=y(a)});F(["gg","GG"],function(a,c,d,e){c[e]=b.parseTwoDigitYear(a)});function Se(a){return Ye.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Te(a){return Ye.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Ue(){return O(this.year(),1,4)}function Ve(){return O(this.isoWeekYear(),1,4)}function We(){var a=this.localeData()._week;return O(this.year(),a.dow,a.doy)}function Xe(){var a=this.localeData()._week;return O(this.weekYear(),a.dow,a.doy)}function Ye(a,b,c,d,e){var f;if(a==null)return Lb(this,d,e).year;else{f=O(a,d,e);b>f&&(b=f);return Ze.call(this,a,b,c,d,e)}}function Ze(a,b,c,d,e){a=Kb(a,b,c,d,e);b=Ib(a.year,0,a.dayOfYear);this.year(b.getUTCFullYear());this.month(b.getUTCMonth());this.date(b.getUTCDate());return this}s("Q",0,"Qo","quarter");u("quarter","Q");w("quarter",7);C("Q",Ta);E("Q",function(a,b){b[H]=(y(a)-1)*3});function $e(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}s("D",["DD",2],"Do","date");u("date","D");w("date",9);C("D",A);C("DD",A,z);C("Do",function(b,a){return b?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient});E(["D","DD"],I);E("Do",function(a,b){b[I]=y(a.match(A)[0])});Ca=Oa("Date",!0);s("DDD",["DDDD",3],"DDDo","dayOfYear");u("dayOfYear","DDD");w("dayOfYear",4);C("DDD",Za);C("DDDD",Ua);E(["DDD","DDDD"],function(a,b,c){c._dayOfYear=y(a)});function af(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?b:this.add(a-b,"d")}s("m",["mm",2],0,"minute");u("minute","m");w("minute",14);C("m",A);C("mm",A,z);E(["m","mm"],K);Ea=Oa("Minutes",!1);s("s",["ss",2],0,"second");u("second","s");w("second",15);C("s",A);C("ss",A,z);E(["s","ss"],L);Fa=Oa("Seconds",!1);s("S",0,0,function(){return~~(this.millisecond()/100)});s(0,["SS",2],0,function(){return~~(this.millisecond()/10)});s(0,["SSS",3],0,"millisecond");s(0,["SSSS",4],0,function(){return this.millisecond()*10});s(0,["SSSSS",5],0,function(){return this.millisecond()*100});s(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});s(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});s(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});s(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});u("millisecond","ms");w("millisecond",16);C("S",Za,Ta);C("SS",Za,z);C("SSS",Za,Ua);for(t="SSSS";t.length<=9;t+="S")C(t,bb);function bf(a,b){b[M]=y(("0."+a)*1e3)}for(t="S";t.length<=9;t+="S")E(t,bf);pb=Oa("Milliseconds",!1);s("z",0,0,"zoneAbbr");s("zz",0,0,"zoneName");function cf(){return this._isUTC?"UTC":""}function df(){return this._isUTC?"Coordinated Universal Time":""}P=ia.prototype;P.add=Ya;P.calendar=Qd;P.clone=Rd;P.diff=Yd;P.endOf=re;P.format=ce;P.from=de;P.fromNow=ee;P.to=fe;P.toNow=ge;P.get=Ra;P.invalidAt=Ae;P.isAfter=Sd;P.isBefore=Td;P.isBetween=Ud;P.isSame=Vd;P.isSameOrAfter=Wd;P.isSameOrBefore=Xd;P.isValid=ye;P.lang=Aa;P.locale=he;P.localeData=ie;P.max=nc;P.min=mc;P.parsingFlags=ze;P.set=Sa;P.startOf=qe;P.subtract=qa;P.toArray=ve;P.toObject=we;P.toDate=ue;P.toISOString=ae;P.inspect=be;typeof Symbol!=="undefined"&&Symbol["for"]!=null&&(P[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});P.toJSON=xe;P.toString=$d;P.unix=te;P.valueOf=se;P.creationData=Be;P.eraName=Fe;P.eraNarrow=Ge;P.eraAbbr=He;P.eraYear=Ie;P.year=Fb;P.isLeapYear=Gb;P.weekYear=Se;P.isoWeekYear=Te;P.quarter=P.quarters=$e;P.month=zb;P.daysInMonth=Ab;P.week=P.weeks=Pb;P.isoWeek=P.isoWeeks=Qb;P.weeksInYear=We;P.weeksInWeekYear=Xe;P.isoWeeksInYear=Ue;P.isoWeeksInISOWeekYear=Ve;P.date=Ca;P.day=P.days=dc;P.weekday=ec;P.isoWeekday=fc;P.dayOfYear=af;P.hour=P.hours=lc;P.minute=P.minutes=Ea;P.second=P.seconds=Fa;P.millisecond=P.milliseconds=pb;P.utcOffset=td;P.utc=vd;P.local=wd;P.parseZone=xd;P.hasAlignedHourOffset=yd;P.isDST=zd;P.isLocal=Bd;P.isUtcOffset=Cd;P.isUtc=Dd;P.isUTC=Dd;P.zoneAbbr=cf;P.zoneName=df;P.dates=p("dates accessor is deprecated. Use date instead.",Ca);P.months=p("months accessor is deprecated. Use month instead",zb);P.years=p("years accessor is deprecated. Use year instead",Fb);P.zone=p("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ud);P.isDSTShifted=p("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ad);function ef(a){return U(a*1e3)}function ff(){return U.apply(null,arguments).parseZone()}function gf(a){return a}Q=oa.prototype;Q.calendar=ra;Q.longDateFormat=Ba;Q.invalidDate=Da;Q.ordinal=Ga;Q.preparse=gf;Q.postformat=gf;Q.relativeTime=Ha;Q.pastFuture=Ia;Q.set=ma;Q.eras=Ce;Q.erasParse=De;Q.erasConvertYear=Ee;Q.erasAbbrRegex=Ke;Q.erasNameRegex=Je;Q.erasNarrowRegex=Le;Q.months=ub;Q.monthsShort=vb;Q.monthsParse=xb;Q.monthsRegex=Cb;Q.monthsShortRegex=Bb;Q.week=Mb;Q.firstDayOfYear=Ob;Q.firstDayOfWeek=Nb;Q.weekdays=Zb;Q.weekdaysMin=ac;Q.weekdaysShort=$b;Q.weekdaysParse=cc;Q.weekdaysRegex=gc;Q.weekdaysShortRegex=hc;Q.weekdaysMinRegex=ic;Q.isPM=oc;Q.meridiem=pc;function hf(a,c,d,e){var b=T();e=m().set(e,c);return b[d](e,a)}function jf(a,b,c){j(a)&&(b=a,a=void 0);a=a||"";if(b!=null)return hf(a,b,c,"month");var d;b=[];for(d=0;d<12;d++)b[d]=hf(a,d,c,"month");return b}function kf(c,a,d,e){typeof c==="boolean"?(j(a)&&(d=a,a=void 0),a=a||""):(a=c,d=a,c=!1,j(a)&&(d=a,a=void 0),a=a||"");var b=T();c=c?b._week.dow:0;b=[];if(d!=null)return hf(a,(d+c)%7,e,"day");for(d=0;d<7;d++)b[d]=hf(a,(d+c)%7,e,"day");return b}function lf(a,b){return jf(a,b,"months")}function mf(a,b){return jf(a,b,"monthsShort")}function nf(b,a,c){return kf(b,a,c,"weekdays")}function of(b,a,c){return kf(b,a,c,"weekdaysShort")}function pf(b,a,c){return kf(b,a,c,"weekdaysMin")}S("en",{eras:[{since:"0001-01-01",until:+Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;b=y(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return a+b}});b.lang=p("moment.lang is deprecated. Use moment.locale instead.",S);b.langData=p("moment.langData is deprecated. Use moment.localeData instead.",T);var X=Math.abs;function qf(){var a=this._data;this._milliseconds=X(this._milliseconds);this._days=X(this._days);this._months=X(this._months);a.milliseconds=X(a.milliseconds);a.seconds=X(a.seconds);a.minutes=X(a.minutes);a.hours=X(a.hours);a.months=X(a.months);a.years=X(a.years);return this}function rf(a,b,c,d){b=V(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function sf(a,b){return rf(this,a,b,1)}function tf(a,b){return rf(this,a,b,-1)}function uf(a){if(a<0)return Math.floor(a);else return Math.ceil(a)}function vf(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;a>=0&&b>=0&&c>=0||a<=0&&b<=0&&c<=0||(a+=uf(xf(c)+b)*864e5,b=0,c=0);d.milliseconds=a%1e3;a=x(a/1e3);d.seconds=a%60;a=x(a/60);d.minutes=a%60;a=x(a/60);d.hours=a%24;b+=x(a/24);a=x(wf(b));c+=a;b-=uf(xf(a));a=x(c/12);c%=12;d.days=b;d.months=c;d.years=a;return this}function wf(a){return a*4800/146097}function xf(a){return a*146097/4800}function yf(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;a=v(a);if(a==="month"||a==="quarter"||a==="year"){b=this._days+d/864e5;c=this._months+wf(b);switch(a){case"month":return c;case"quarter":return c/3;case"year":return c/12}}else{b=this._days+Math.round(xf(this._months));switch(a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return b*24+d/36e5;case"minute":return b*1440+d/6e4;case"second":return b*86400+d/1e3;case"millisecond":return Math.floor(b*864e5)+d;default:throw new Error("Unknown unit "+a)}}}function zf(){return!this.isValid()?NaN:this._milliseconds+this._days*864e5+this._months%12*2592e6+y(this._months/12)*31536e6}function Y(a){return function(){return this.as(a)}}Vb=Y("ms");B=Y("s");od=Y("m");jd=Y("h");Id=Y("d");Me=Y("w");Ne=Y("M");Oe=Y("Q");Pe=Y("y");function Af(){return V(this)}function Bf(a){a=v(a);return this.isValid()?this[a+"s"]():NaN}function Z(a){return function(){return this.isValid()?this._data[a]:NaN}}Re=Z("milliseconds");$a=Z("seconds");Va=Z("minutes");ab=Z("hours");Wa=Z("days");F=Z("months");u=Z("years");function Cf(){return x(this.days()/7)}var $=Math.round,Df={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ef(b,c,d,e,a){return a.relativeTime(c||1,!!d,b,e)}function Ff(d,e,c,a){var f=V(d).abs(),g=$(f.as("s")),h=$(f.as("m")),i=$(f.as("h")),j=$(f.as("d")),k=$(f.as("M")),b=$(f.as("w"));f=$(f.as("y"));g=g<=c.ss&&["s",g]||g<c.s&&["ss",g]||h<=1&&["m"]||h<c.m&&["mm",h]||i<=1&&["h"]||i<c.h&&["hh",i]||j<=1&&["d"]||j<c.d&&["dd",j];c.w!=null&&(g=g||b<=1&&["w"]||b<c.w&&["ww",b]);g=g||k<=1&&["M"]||k<c.M&&["MM",k]||f<=1&&["y"]||["yy",f];g[2]=e;g[3]=+d>0;g[4]=a;return Ef.apply(null,g)}function Gf(a){if(a===void 0)return $;if(typeof a==="function"){$=a;return!0}return!1}function Hf(a,b){if(Df[a]===void 0)return!1;if(b===void 0)return Df[a];Df[a]=b;a==="s"&&(Df.ss=b-1);return!0}function If(a,b){if(!this.isValid())return this.localeData().invalidDate();var c=!1,d=Df;typeof a==="object"&&(b=a,a=!1);typeof a==="boolean"&&(c=a);typeof b==="object"&&(d=Object.assign({},Df,b),b.s!=null&&b.ss==null&&(d.ss=b.s-1));a=this.localeData();b=Ff(this,!c,d,a);c&&(b=a.pastFuture(+this,b));return a.postformat(b)}var Jf=Math.abs;function Kf(a){return(a>0)-(a<0)||+a}function Lf(){if(!this.isValid())return this.localeData().invalidDate();var a=Jf(this._milliseconds)/1e3,b=Jf(this._days),c=Jf(this._months),d,e,f,g,h=this.asSeconds(),i,j,k;if(!h)return"P0D";d=x(a/60);e=x(d/60);a%=60;d%=60;f=x(c/12);c%=12;g=a?a.toFixed(3).replace(/\.?0+$/,""):"";i=h<0?"-":"";j=Kf(this._months)!==Kf(h)?"-":"";k=Kf(this._days)!==Kf(h)?"-":"";h=Kf(this._milliseconds)!==Kf(h)?"-":"";return i+"P"+(f?j+f+"Y":"")+(c?j+c+"M":"")+(b?k+b+"D":"")+(e||d||a?"T":"")+(e?h+e+"H":"")+(d?h+d+"M":"")+(a?h+g+"S":"")}w=kd.prototype;w.isValid=id;w.abs=qf;w.add=sf;w.subtract=tf;w.as=yf;w.asMilliseconds=Vb;w.asSeconds=B;w.asMinutes=od;w.asHours=jd;w.asDays=Id;w.asWeeks=Me;w.asMonths=Ne;w.asQuarters=Oe;w.asYears=Pe;w.valueOf=zf;w._bubble=vf;w.clone=Af;w.get=Bf;w.milliseconds=Re;w.seconds=$a;w.minutes=Va;w.hours=ab;w.days=Wa;w.weeks=Cf;w.months=F;w.years=u;w.humanize=If;w.toISOString=Lf;w.toString=Lf;w.toJSON=Lf;w.locale=he;w.localeData=ie;w.toIsoString=p("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Lf);w.lang=Aa;s("X",0,0,"unix");s("x",0,0,"valueOf");C("x",cb);C("X",fb);E("X",function(a,b,c){c._d=new Date(parseFloat(a)*1e3)});E("x",function(a,b,c){c._d=new Date(y(a))});b.version="2.29.4";c(U);b.fn=P;b.min=ed;b.max=fd;b.now=Xa;b.utc=m;b.unix=ef;b.months=lf;b.isDate=k;b.locale=S;b.invalid=ea;b.duration=V;b.isMoment=o;b.weekdays=nf;b.parseZone=ff;b.localeData=T;b.isDuration=ld;b.monthsShort=mf;b.weekdaysMin=pf;b.defineLocale=yc;b.updateLocale=zc;b.locales=Ac;b.weekdaysShort=of;b.normalizeUnits=v;b.relativeTimeRounding=Gf;b.relativeTimeThreshold=Hf;b.calendarFormat=Pd;b.prototype=P;b.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};b.patch=function(){return b};return b})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("WAWeb-moment",["moment-2.29.4"],(function(a,b,c,d,e,f){e.exports=b("moment-2.29.4")()}),null);
__d("asyncToGeneratorRuntime",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function h(a,c,d,e,f,h,i){try{var j=a[h](i),k=j.value}catch(a){d(a);return}j.done?c(k):(g||(g=b("Promise"))).resolve(k).then(e,f)}function a(a){return function(){var c=this,d=arguments;return new(g||(g=b("Promise")))(function(b,e){var f=a.apply(c,d);function g(a){h(f,b,e,g,i,"next",a)}function i(a){h(f,b,e,g,i,"throw",a)}g(void 0)})}}f.asyncToGenerator=a}),66);
__d("regeneratorRuntime",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=Object.prototype.hasOwnProperty,i=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator")||"@@iterator",j=e.exports;function k(a,b,c,d){b=Object.create((b||r).prototype);d=new A(d||[]);b._invoke=x(a,c,d);return b}j.wrap=k;function l(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var m="suspendedStart",n="suspendedYield",o="executing",p="completed",q={};function r(){}function s(){}function t(){}var u=t.prototype=r.prototype;s.prototype=u.constructor=t;t.constructor=s;s.displayName="GeneratorFunction";function a(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}j.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===s||(a.displayName||a.name)==="GeneratorFunction":!1};j.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,t):Object.assign(a,t);a.prototype=Object.create(u);return a};j.awrap=function(a){return new v(a)};function v(a){this.arg=a}function w(a){function c(c,f){var h=a[c](f);c=h.value;return c instanceof v?(g||(g=b("Promise"))).resolve(c.arg).then(d,e):(g||(g=b("Promise"))).resolve(c).then(function(a){h.value=a;return h})}typeof process==="object"&&process.domain&&(c=process.domain.bind(c));var d=c.bind(a,"next"),e=c.bind(a,"throw");c.bind(a,"return");var f;function h(a,d){var e=f?f.then(function(){return c(a,d)}):new(g||(g=b("Promise")))(function(b){b(c(a,d))});f=e["catch"](function(a){});return e}this._invoke=h}a(w.prototype);j.async=function(a,b,c,d){var e=new w(k(a,b,c,d));return j.isGeneratorFunction(b)?e:e.next().then(function(a){return a.done?a.value:e.next()})};function x(a,b,c){var d=m;return function(e,f){if(d===o)throw new Error("Generator is already running");if(d===p){if(e==="throw")throw f;return C()}while(!0){var g=c.delegate;if(g){if(e==="return"||e==="throw"&&g.iterator[e]===void 0){c.delegate=null;var h=g.iterator["return"];if(h){h=l(h,g.iterator,f);if(h.type==="throw"){e="throw";f=h.arg;continue}}if(e==="return")continue}h=l(g.iterator[e],g.iterator,f);if(h.type==="throw"){c.delegate=null;e="throw";f=h.arg;continue}e="next";f=void 0;var i=h.arg;if(i.done)c[g.resultName]=i.value,c.next=g.nextLoc;else{d=n;return i}c.delegate=null}if(e==="next")d===n?c.sent=f:c.sent=void 0;else if(e==="throw"){if(d===m){d=p;throw f}c.dispatchException(f)&&(e="next",f=void 0)}else e==="return"&&c.abrupt("return",f);d=o;h=l(a,b,c);if(h.type==="normal"){d=c.done?p:n;var i={value:h.arg,done:c.done};if(h.arg===q)c.delegate&&e==="next"&&(f=void 0);else return i}else h.type==="throw"&&(d=p,e="throw",f=h.arg)}}}a(u);u[i]=function(){return this};u.toString=function(){return"[object Generator]"};function y(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function z(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function A(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(y,this),this.reset(!0)}j.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function B(a){if(a){var b=a[i];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var c=-1;b=function b(){while(++c<a.length)if(h.call(a,c)){b.value=a[c];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:C}}j.values=B;function C(){return{value:void 0,done:!0}}A.prototype={constructor:A,reset:function(a){this.prev=0;this.next=0;this.sent=void 0;this.done=!1;this.delegate=null;this.tryEntries.forEach(z);if(!a)for(a in this)a.charAt(0)==="t"&&h.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function c(c,d){f.type="throw";f.arg=a;b.next=c;return!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if(e.tryLoc==="root")return c("end");if(e.tryLoc<=this.prev){var g=h.call(e,"catchLoc"),i=h.call(e,"finallyLoc");if(g&&i){if(this.prev<e.catchLoc)return c(e.catchLoc,!0);else if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return c(e.catchLoc,!0)}else if(i){if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&h.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&(a==="break"||a==="continue")&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);d=e?e.completion:{};d.type=a;d.arg=b;e?this.next=e.finallyLoc:this.complete(d);return q},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=a.arg,this.next="end"):a.type==="normal"&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);z(c);return q}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;z(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:B(a),resultName:b,nextLoc:c};return q}}}),null);
__d("WAWebDropdown.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={"-emoji-picker-width":"388px;",container:"_ak4w",containerMaterial:"_ap4-",containerMaterialPadding:"_ap4_",suggestions:"_ak54",reactionDetails:"_ak51",reactionSendTray:"_ak52",datePicker:"_aos4",right:"_ak4x",picker:"_ak4z",tooltip:"_ak56",items:"_ak5b",nib:"_ak5a",tooltipHighlight:"_ak57",inverse:"_ak58",emoji:"_ak4-",sticker:"_ak4_",colorPicker:"_ak50",labelColorPicker:"_aozv",reactionPicker:"_ak53",inverseVertical:"_ak59",text:"_ak55",attachMenu:"_ak4y",attachMenuPopup:"_al02",expressionsPanel:"_alox",expressionsPanelInsideInput:"_ao_l",expressionsPanelOutsideInput:"_ao_m"};b=a;g["default"]=b}),98);
__d("WAWebStylePropertiesDeprecated",[],(function(a,b,c,d,e,f){function g(a,b){return a[b]}function a(a,b){return parseInt(g(a,b),10)}function b(a,b){return parseFloat(g(a,b))}f.getIntFromStylesProp=a;f.getFloatFromStylesProp=b}),66);
__d("WAWebDropdown.react",["$InternalEnum","WALogger","WANullthrows","WAWebAttachMenuGatingUtils","WAWebClassnames","WAWebCmd","WAWebCompatibility","WAWebDropdown.scss","WAWebFocusIndicator","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebMiscGatingUtils","WAWebStylePropertiesDeprecated","WAWebUISpacing","WAWebWDSGatingUtils","react","stylex","useMergeRefs","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["React components are not focusable elements"]);k=function(){return a};return a}a=j||d("react");var l=h||(h=c("react")),m=a.Children;e=a.forwardRef;var n=a.useEffect,o=a.useMemo,p=a.useRef,q=a.useState;f=d("WAWebStylePropertiesDeprecated").getIntFromStylesProp(c("WAWebDropdown.scss"),"-emoji-picker-width");var r=32,s=32,t=10,u=b("$InternalEnum").Mirrored(["Dropdown","DropdownMenu","DropdownText","AttachMenu","Picker","EmojiPicker","StickerPicker","ColorPicker","LabelColorPicker","Tooltip","ReactionDetailsPane","ReactionSendTray","ReactionPicker","DatePicker","Suggestions","AttachMenuPopup","ExpressionsPanel","EventsRSVPPopup"]),v=b("$InternalEnum").Mirrored(["Default","Highlight"]),w=b("$InternalEnum").Mirrored(["LEFT","CENTER","RIGHT"]),x=b("$InternalEnum").Mirrored(["TOP","BOTTOM"]),y={eventsRSVPPopup:{boxSizing:"x9f619",borderTopStartRadius:"xp8fpb",borderTopEndRadius:"xjcfk4l",borderBottomEndRadius:"x10zrdz0",borderBottomStartRadius:"xp22k0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function z(a){switch(a){case w.RIGHT:return w.LEFT;case w.LEFT:return w.RIGHT;case w.CENTER:return w.CENTER}}function A(a,b,d){d=d&&c("WAWebL10N").isRTL()?z(a):a;return[d,b]}function B(a,b){a=z(a);b=b===x.TOP?x.BOTTOM:x.TOP;return b+" "+a}function C(a,b,c,d){var e={};switch(a){case w.RIGHT:e.left=Math.min(window.innerWidth-((a=d==null?void 0:d.offsetWidth)!=null?a:0)-s,c.x);break;case w.LEFT:e.right=window.innerWidth-c.x;break;case w.CENTER:e.left=c.x-((a=d==null?void 0:d.offsetWidth)!=null?a:0)/2;e.marginLeft=0;e.marginRight=0;break}switch(b){case x.BOTTOM:e.top=c.y;a=d==null?void 0:d.offsetHeight;if(a!=null){b=window.innerHeight-a-r;e.top=Math.min(b,c.y);e.top<0&&(e.top=0,e.height=window.innerHeight-r,e.overflowY="auto")}break;case x.TOP:e.bottom=window.innerHeight-c.y;break}return e}function D(a,b,c){return a!==w.CENTER||b==null||c==null?null:{left:b.offsetWidth/2-c.offsetWidth/2}}a=e(function(a,b){var e,f=a.type,g=f===void 0?u.Dropdown:f;f=a.dirX;var h=f===void 0?w.RIGHT:f;f=a.dirY;var j=f===void 0?x.BOTTOM:f,r=a.children,s=a.flipOnRTL,z=a.origin,F=a.style;f=a.horizontal;var G=a.isTemporaryRender,H=a.autoFocus,aa=a.findFirstItem,I=a.onDefault,J=a.testid;J=a.tooltipColorScheme;a=q(!1);var ba=a[0],K=a[1];a=q(null);var ca=a[0],L=a[1],M=p(null);a=p();var N=p();b=c("useMergeRefs")(b,M);var O=c("useWAWebUIM")(),P=o(function(){return g!==u.EmojiPicker&&g!==u.Suggestions&&g!==u.ReactionDetailsPane&&g!==u.ReactionSendTray&&g!==u.StickerPicker&&g!==u.DatePicker&&g!==u.ColorPicker&&g!==u.LabelColorPicker&&g!==u.ReactionPicker&&g!==u.DropdownText},[g]);n(function(){if(!P)return;if(H){var a;a=(a=N.current)==null?void 0:a.querySelector("[tabindex]");var b;aa&&a?b=a:N.current&&N.current.firstChild instanceof HTMLDivElement&&a?b=a:N.current&&N.current.children.length>0?b=N.current.children[0]:r!=null&&(d("WALogger").WARN(k()).sendLogs("unfocusable-react-components-in-dropdown"),b=m.toArray(r)[0]);c("WAWebFocusTracer").focus(b);K(!0);L(b)}else c("WAWebFocusTracer").focus(M.current)},[]);n(function(){if(!N.current||!M.current||G)return;d("WAWebCmd").Cmd.floaterEscapeOverlap(M.current,t)},[G]);var Q=o(function(){var a,b={};a=(a=F)!=null?a:{};var c=A(h,j,s),e=c[0];c=c[1];b[d("WAWebCompatibility").compatPrefix("transformOrigin")]=B(e,c);if(!z)return babelHelpers["extends"]({},a,b);e=C(e,c,z,M.current);return babelHelpers["extends"]({},a,b,e)},[h,j,s,z,F]),da=function(a){c("WAWebFocusTracer").focus(M.current),K(!1)},R=function(a,b){b=(b<0?a.length-1:b)%a.length;c("WAWebFocusTracer").focus(a[b]);K(!0);L(a[b])},S=function(){var a=Array.from(c("WANullthrows")(N.current).querySelectorAll("li:not(.dropdown-item-disabled)"));return{activeChildren:a,currentlyFocusedIndex:a.indexOf(ca)}},T=function(a){E(a);a=S();var b=a.activeChildren;a=a.currentlyFocusedIndex;if(b.length===0)return;R(b,a-1)},U=function(a){E(a);a=S();var b=a.activeChildren;a=a.currentlyFocusedIndex;if(b.length===0)return;R(b,a+1)},V=function(a){E(a);var b=S(),c=b.activeChildren;b=b.currentlyFocusedIndex;if(c.length===0)return;if(c.length>12||c.length===6){U(a);return}var d;a=(c.length-2)/2;var e=0,f=a-1,g=a,h=c.length-3;b===-1?d=e:b>=g&&b<=h?d=b-a:b>=e&&b<=f?d=b:d=g;R(c,d)},W=function(a){E(a);var b=S(),c=b.activeChildren;b=b.currentlyFocusedIndex;if(c.length===0)return;if(c.length>12||c.length===6){T(a);return}a=(c.length-2)/2;var d=0,e=a-1,f=a,g=c.length-3;b>=f&&b<=g?f=g+1:b>=d&&b<=e?f=b+a:f=b;R(c,f)},ea=function(a){a.preventDefault(),O==null?void 0:O.requestDismiss()},X=function(a){I&&(c("WAWebFocusIndicator").shouldIndicateFocus(),O==null?void 0:O.requestDismiss(),I(a))},fa=function(a){a.stopPropagation(),c("WAWebFocusTracer").focus(M.current),L(void 0)},Y=d("WAWebWDSGatingUtils").materialRefreshEnabled();J=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebDropdown.scss").container]=g===u.Dropdown||g===u.DropdownMenu||g===u.EmojiPicker||g===u.StickerPicker||g===u.ColorPicker||g===u.LabelColorPicker||g===u.ReactionDetailsPane||g===u.ReactionSendTray||g===u.ReactionPicker||g===u.DatePicker||g===u.Suggestions||g===u.DropdownText||g===u.AttachMenuPopup||g===u.ExpressionsPanel||g===u.EventsRSVPPopup,e[c("WAWebDropdown.scss").right]=g===u.DropdownMenu,e[c("WAWebDropdown.scss").attachMenu]=g===u.AttachMenu,e[c("WAWebDropdown.scss").picker]=g===u.Picker,e[c("WAWebDropdown.scss").emoji]=g===u.EmojiPicker,e[c("WAWebDropdown.scss").sticker]=g===u.StickerPicker,e[c("WAWebDropdown.scss").colorPicker]=g===u.ColorPicker,e[c("WAWebDropdown.scss").labelColorPicker]=g===u.LabelColorPicker,e[c("WAWebDropdown.scss").reactionDetails]=g===u.ReactionDetailsPane,e[c("WAWebDropdown.scss").reactionSendTray]=g===u.ReactionSendTray,e[c("WAWebDropdown.scss").reactionPicker]=g===u.ReactionPicker,e[c("WAWebDropdown.scss").datePicker]=g===u.DatePicker,e[c("WAWebDropdown.scss").suggestions]=g===u.Suggestions,e[c("WAWebDropdown.scss").attachMenuPopup]=g===u.AttachMenuPopup,e[c("WAWebDropdown.scss").expressionsPanel]=g===u.ExpressionsPanel,e[c("WAWebDropdown.scss").expressionsPanelInsideInput]=g===u.ExpressionsPanel&&!d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput(),e[c("WAWebDropdown.scss").expressionsPanelOutsideInput]=g===u.ExpressionsPanel&&d("WAWebAttachMenuGatingUtils").shouldShowExpressionPanelsOutOfInput(),e[c("WAWebDropdown.scss").text]=g===u.DropdownText,e[c("WAWebDropdown.scss").tooltip]=g===u.Tooltip,e[c("WAWebDropdown.scss").tooltipHighlight]=J===v.Highlight,e[c("WAWebDropdown.scss").inverse]=(g===u.Picker||g===u.EmojiPicker||g===u.StickerPicker||g===u.ColorPicker||g===u.LabelColorPicker||g===u.ReactionDetailsPane||g===u.ReactionSendTray||g===u.ReactionPicker||g===u.DatePicker||g===u.DropdownText||g===u.Tooltip)&&h===w.LEFT,e[c("WAWebDropdown.scss").inverseVertical]=(g===u.EmojiPicker||g===u.StickerPicker||g===u.ColorPicker||g===u.LabelColorPicker||g===u.ReactionDetailsPane||g===u.ReactionSendTray||g===u.ReactionPicker||g===u.DatePicker||g===u.DropdownText)&&j===x.TOP,e[c("WAWebDropdown.scss").containerMaterial]=Y,e[c("WAWebDropdown.scss").containerMaterialPadding]=Y&&(g===u.Dropdown||g===u.DropdownMenu),e));Y=[].concat(g===u.EventsRSVPPopup?[y.eventsRSVPPopup,d("WAWebUISpacing").uiPadding.vert0]:[]);e=g===u.Picker||g===u.EmojiPicker||g===u.StickerPicker||g===u.LabelColorPicker||g===u.DropdownText||g===u.Tooltip?l.jsx("div",{"data-testid":void 0,ref:a,className:c("WAWebDropdown.scss").nib,"data-animate-dropdown-nib":!0,style:D(h,M.current,a.current)}):null;if(P){a={enter:X,tab:E,"shift+tab":E,up:function(){},down:function(){}};var Z,$;d("WAWebMiscGatingUtils").multiSkinToneEmojiPickerEnabled()&&g===u.Picker?c("WAWebL10N").isRTL()?(Z=W,$=V):(Z=V,$=W):(Z=T,$=U);if(f){a[(V=c("WAWebL10N")).LR("left","right")]=T;a[V.LR("right","left")]=U;a[V.LR("up","down")]=Z;a[V.LR("down","up")]=$}else g===u.AttachMenu?(a.up=U,a.down=T):(a.up=T,a.down=U),g!==u.ExpressionsPanel&&(a[c("WAWebL10N").LR("left","right")]=ea,a[c("WAWebL10N").LR("right","left")]=X);return l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:b,handlers:a,role:"application",className:J+" "+(i||(i=c("stylex")))(Y),style:Q,onMouseMove:ba?da:null,onMouseUp:fa,children:[l.jsx("ul",{"data-testid":void 0,ref:N,className:c("WAWebDropdown.scss").items,children:r}),e]})}return l.jsxs("div",{ref:b,className:J,style:Q,"data-testid":void 0,children:[r,e]})});function E(a){a.stopPropagation(),a.preventDefault()}g.EMOJI_PICKER_WIDTH=f;g.MenuType=u;g.TooltipColorScheme=v;g.DirX=w;g.DirY=x;g.Dropdown=a}),98);
__d("warning",["cr:755"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:755")}),98);
__d("warningComet",["SiteData","cr:1072546","cr:1072547","cr:1072549","cr:983844","err","fb-error"],(function(a,b,c,d,e,f,g){function a(a,b){}b=a;c=b;g["default"]=c}),98);
__d("warningWWW",["WebDriverConfig","cr:1105154","cr:11202","cr:2682"],(function(a,b,c,d,e,f,g){a=b("cr:2682");c=a;g["default"]=c}),98);/*FB_PKG_DELIM*/
__d("FalcoConsentChecker",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){var e;switch(typeof d){case"string":e=a[String(d)];return!e?!1:e<=b;case"number":return g(a,b,c,c[Number(d)]);default:e=!1;if(Array.isArray(d)){var f=d[0];for(var h=1;h<d.length;h++){e=g(a,b,c,d[h]);if(e){if(f==="or")return!0}else if(f==="and")return!1}}return e}}f["default"]=g}),66);
__d("OdsWebBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1838142");b=d("FalcoLoggerInternal").create("ods_web_batch",a);e=b;g["default"]=e}),98);
__d("pageID",["WebSession"],(function(a,b,c,d,e,f,g){"use strict";a=d("WebSession").getPageId_DO_NOT_USE();g["default"]=a}),98);
__d("WebStorageMutex",["WebStorage","clearTimeout","pageID","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1,k=c("pageID");function l(){j||(j=!0,i=(h||(h=c("WebStorage"))).getLocalStorage());return i}a=function(){function a(a){this.name=a}a.testSetPageID=function(a){k=a};var b=a.prototype;b.$2=function(){var a,b=l();if(!b)return k;b=b.getItem("mutex_"+this.name);b=((a=b)!=null?a:"").split(":");return b&&parseInt(b[1],10)>=Date.now()?b[0]:null};b.$3=function(a){var b=l();if(!b)return;a=a==null?1e3:a;a=Date.now()+a;(h||(h=c("WebStorage"))).setItemGuarded(b,"mutex_"+this.name,k+":"+a)};b.hasLock=function(){return this.$2()===k};b.lock=function(a,b,d){var e=this;this.$1&&c("clearTimeout")(this.$1);k===(this.$2()||k)&&this.$3(d);this.$1=c("setTimeout")(function(){e.$1=null;var c=e.hasLock()?a:b;c&&c(e)},0)};b.unlock=function(){this.$1&&c("clearTimeout")(this.$1);var a=l();a&&this.hasLock()&&a.removeItem("mutex_"+this.name)};return a}();g["default"]=a}),98);
__d("guid",[],(function(a,b,c,d,e,f){function a(){if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function"&&typeof String.prototype.padStart==="function"){var a=crypto.getRandomValues(new Uint32Array(2));return"f"+a[0].toString(16).padStart(8,"0")+a[1].toString(16).padStart(8,"0")}return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}f["default"]=a}),66);
__d("PersistedQueue",["AnalyticsCoreData","BaseEventEmitter","ExecutionEnvironment","Run","WebStorage","WebStorageMutex","cr:8958","err","guid","nullthrows","performanceAbsoluteNow","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=24*60*60*1e3,m=30*1e3,n=new(c("BaseEventEmitter"))(),o;function p(a){a===void 0&&(a=!1);if(o===void 0){var b;if(((b=(h||(h=c("AnalyticsCoreData"))).queue_activation_experiment)!=null?b:!1)&&a)try{return(i||(i=c("WebStorage"))).getLocalStorageForRead()}catch(a){return null}b="check_quota";try{a=(i||(i=c("WebStorage"))).getLocalStorage();a?(a.setItem(b,b),a.removeItem(b),o=a):o=null}catch(a){o=null}}return o}function q(a){var b=a.prev,c=a.next;c&&(c.prev=b);b&&(b.next=c);a.next=null;a.prev=null}function r(a){return{item:a,next:null,prev:null}}function s(a,b){return a+"^$"+((a=b==null?void 0:b.queueNameSuffix)!=null?a:"")}var t={},u={},v={},w=!1;a=function(){function a(a,b){var d,e=this;this.$7=0;this.$3=a;this.$5=(d=b==null?void 0:b.queueNameSuffix)!=null?d:"";this.$15=b==null?void 0:b.application;this.$4=s(a,b);this.$11=this.$4+"^$"+c("guid")();this.$14=!1;if(b){this.$8=(d=b.max_age_in_ms)!=null?d:l;this.$12=b.migrate;this.$13=b.onLoad}else this.$8=l;this.$9=[n.addListener("active",function(){(e.$10!=null||!e.$14)&&(e.$14=!0,e.$10=null,e.$16())}),n.addListener("inactive",function(){e.$10==null&&(e.$10=Date.now(),e.$17())})];((j||(j=c("ExecutionEnvironment"))).canUseDOM||(j||(j=c("ExecutionEnvironment"))).isInWorker)&&c("requestAnimationFrame")(function(){return e.$16()})}var d=a.prototype;d.isActive=function(){var a=this.$10;if(a==null)return!0;if(Date.now()-a>m){this.$10=null;n.emit("active",null);return!0}return!1};d.$16=function(){this.$18(),this.$19()};d.$17=function(){this.$20()};d.getFullName=function(){return this.$4};d.getQueueNameSuffix=function(){return this.$5};a.isQueueActivateExperiment=function(){return w};a.setOnQueueActivateExperiment=function(){w=!0};a.create=function(b,d){var e=s(b,d);if(e in t)throw c("err")("Duplicate queue created: "+b);d=new a(b,d);t[e]=d;v[b]?v[b].push(d):v[b]=[d];e=u[b];e&&d.setHandler(e);return d};a.setHandler=function(a,b){if(v[a]){var c=v[a];for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.setHandler(b)}}u[a]=b};d.destroy=function(){this.$9.forEach(function(a){return a.remove()})};a.destroy=function(a,b){a=s(a,b);t[a].destroy();delete t[a]};d.setHandler=function(a){this.$6=a;this.$19();return this};d.$19=function(){this.$7>0&&this.$6&&this.$6(this)};d.length=function(){return this.$7};d.enumeratedLength=function(){return this.$21().length};a.isPersistenceAllowed=function(){var a=p();return!a?!1:!0};a.getSuffixesForKey=function(a){var b=[];try{var c=p(!0);if(!c)return b;a=a+"^$";for(var d=0;d<c.length;d++){var e=c.key(d);if(typeof e==="string"&&e.startsWith("mutex_falco_"))c.removeItem(e);else if(typeof e==="string"&&e.startsWith(a)){e=e.split("^$");if(e.length>2){e=e[1];b.push(e)}else b.push("")}}}catch(a){}return b};d.$18=function(){var d,e=this,a=p(!0);if(!a)return;var f=this.$4+"^$";d=new(c("WebStorageMutex"))((d=this.$15)!=null?d:f);var g=this.$12,h=this.$13;d.lock(function(d){var i=Date.now()-e.$8;try{for(var j=0;j<a.length;j++){var k=a.key(j);if(typeof k==="string"&&k.startsWith(f)){var l=a.getItem(k);a.removeItem(k);if(l!=null&&l.startsWith("{")){k=b("cr:8958").parse(c("nullthrows")(l));if(k.ts>i)try{for(var l=k.items,k=Array.isArray(l),m=0,l=k?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(k){if(m>=l.length)break;n=l[m++]}else{m=l.next();if(m.done)break;n=m.value}n=n;g!=null?g(n):n;n=h!=null?h(n):n;e.$22(n)}}catch(a){}}}}}catch(a){}d.unlock();e.$19()})};d.$20=function(){var a=p();if(!a)return;var d=this.$21();if(d.length===0){a.getItem(this.$11)!=null&&a.removeItem(this.$11);return}(i||(i=c("WebStorage"))).setItemGuarded(a,this.$11,b("cr:8958").stringify({items:d.map(function(a){return a}),ts:(k||(k=c("performanceAbsoluteNow")))()}))};d.$21=function(){var a=this.$1,b=[];if(!a)return b;do b.push(a.item);while(a=a.prev);return b.reverse()};d.markItemAsCompleted=function(a){var b=a.prev;q(a);this.$1===a&&(this.$1=b);this.$7--;this.isActive()||this.$20()};d.markItemAsFailed=function(a){q(a);var b=this.$2;if(b){var c=b.prev;c&&(c.next=a,a.prev=c);a.next=b;b.prev=a}this.$2=a;this.isActive()&&this.$19()};d.markItem=function(a,b){b?this.markItemAsCompleted(a):this.markItemAsFailed(a)};d.$22=function(a){a=r(a);var b=this.$1;b&&(b.next=a,a.prev=b);this.$1=a;this.$2||(this.$2=a);this.$7++};d.wrapAndEnqueueItem=function(a){this.$22(a),this.isActive()?this.$19():this.$20()};d.dequeueItem=function(){if(this.$10!=null)return null;var a=this.$2;if(!a)return null;this.$2=a.next;return a};return a}();a.eventEmitter=n;if((j||(j=c("ExecutionEnvironment"))).canUseDOM){var x=d("Run").maybeOnBeforeUnload(function(){n.emit("inactive",null),x==null?void 0:x.remove()},!1);if(!x)var y=d("Run").onUnload(function(){n.emit("inactive",null),y.remove()})}g["default"]=a}),98);
__d("ServerTime",["ServerTimeData"],(function(a,b,c,d,e,f,g){var h,i=0;f=0;var j=null;h=(h=(typeof window!=="undefined"?window:self).performance)==null?void 0:h.timing;if(h){var k=h.requestStart;h=h.domLoading;if(k&&h){var l=c("ServerTimeData").timeOfResponseStart-c("ServerTimeData").timeOfRequestStart;k=h-k-l;f=k/2;l=h-c("ServerTimeData").timeOfResponseStart-f;h=Math.max(50,k*.8);Math.abs(l)>h&&(i=l,j=Date.now())}}else d(c("ServerTimeData").serverTime);function a(){return Date.now()-i}function b(){return i}function d(a){a=Date.now()-a;Math.abs(i-a)>6e4&&(i=a,j=Date.now())}function e(){return j===null?null:Date.now()-j}f=a;k=b;g.getMillis=a;g.getOffsetMillis=b;g.update=d;g.getMillisSinceLastUpdate=e;g.get=f;g.getSkew=k}),98);
__d("FalcoLoggerInternal",["AnalyticsCoreData","BaseEventEmitter","FBLogger","FalcoConsentChecker","FalcoUtils","PersistedQueue","Promise","Random","ServerTime","nullthrows","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("FalcoUtils").getTaggedBitmap(33),l=d("FalcoUtils").getTaggedBitmap(0),m=500*1024*.6,n=new Map();new Set(["javascript_web_error","comet_redblock"]);function o(a){var b;a.tags=d("FalcoUtils").xorBitmap((b=a.tags)!=null?b:[0,0],k);return a}function a(a,b){var d;d=(d=c("PersistedQueue").getSuffixesForKey(a))!=null?d:[];d.push(b);for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;var j=a+"^$"+h;if(n.has(j))continue;g=((g=(i||(i=c("AnalyticsCoreData"))).use_falco_as_mutex_key)!=null?g:!1)?c("PersistedQueue").create(a,{onLoad:o,queueNameSuffix:h,application:"falco"}):c("PersistedQueue").create(a,{onLoad:o,queueNameSuffix:h});n.set(j,g)}return c("nullthrows")(n.get(a+"^$"+b))}f=d("FalcoUtils").identityToString((i||(i=c("AnalyticsCoreData"))).identity);var p=a("falco_queue_log",f),q=a("falco_queue_immediately",f),r=a("falco_queue_critical",f),s=new(c("BaseEventEmitter"))(),t={};function u(a,b,e){var f=c("Random").coinflip(b.r);if(!f){d("FalcoUtils").bumpODSMetrics(e,"event.filters.sampling",1);return!1}f=b.c;if(f!=null&&(i||(i=c("AnalyticsCoreData"))).consents!=null){b=v(f,(i||(i=c("AnalyticsCoreData"))).consents,a);if(!b){d("FalcoUtils").bumpODSMetrics(e,"event.filters.consent",1);return!1}}return!0}function v(a,b,d){var e=t[a];e==null&&(e=t[a]=JSON.parse(a));return c("FalcoConsentChecker")(b,d,e,e[0])}function w(){return(j||(j=c("performanceAbsoluteNow")))()-d("ServerTime").getOffsetMillis()}function x(a,b,d,e,f,g){if((i||(i=c("AnalyticsCoreData"))).enable_observer){a=babelHelpers["extends"]({name:a,time:b,sampled:d,getData:f,policy:e},g&&{getPrivacyContext:g});s.emit("event",a)}}function y(a,b,e,f,g,h){g=JSON.stringify(g);if(g.length>m){d("FalcoUtils").bumpODSMetrics(a,"event.filters.exceeded_size",1);c("FBLogger")("falco","oversized_message:"+a).warn('Dropping event "%s" due to exceeding the max size %s at %s',a,m,g.length);return}h.wrapAndEnqueueItem({name:a,policy:b,time:e,extra:g,privacyContext:f,tags:d("FalcoUtils").xorBitmap([0,0],l)});d("FalcoUtils").bumpODSMetrics(a,"event.captured",1)}function z(a,b,c,e,f){try{var g=w();d("FalcoUtils").bumpODSMetrics(a,"event.logged",1);var h=u(g,b,a);if(h){var i=e(),j=c&&c();y(a,b,g,j,i,f)}x(a,g,h,b,e,c)}catch(a){B(a)}}function A(a,c,e,f,g){try{var i=w();d("FalcoUtils").bumpODSMetrics(a,"event.logged",1);var j=u(i,c,a);if(j){var k=f(),l=(h||(h=b("Promise"))).resolve(e&&e());return h.all([k,l]).then(function(b){var d=b[0],e=b[1];y(a,c,i,e,d,g);x(a,i,j,c,function(){return d},e&&function(){return e})})}else{x(a,i,j,c,f,e);return(h||(h=b("Promise"))).resolve()}}catch(a){return(h||(h=b("Promise"))).reject(a)}}function B(a){var b=c("FBLogger")("falco");a instanceof Error?b.catching(a).warn("Error while attempting to log to Falco"):b.warn("Caught non-error while attempting to log to Falco: %s",JSON.stringify(a))}function e(a,b){return{log:function(c,d){z(a,b,d,c,p)},logAsync:function(c,d){A(a,b,d,c,p)["catch"](B)},logImmediately:function(c,d){z(a,b,d,c,q)},logCritical:function(c,d){z(a,b,d,c,r)},logRealtimeEvent:function(c,d){z(a,b,d,c,r)}}}g.observable=s;g.create=e}),98);
__d("FalcoUtils",["AnalyticsCoreData","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="ods_web_batch";function a(a){if(a){var b=a.fbIdentity,c=a.appScopedIdentity;a=a.claim;var d="";if(b){var e=b.accountId;b=b.actorId;d=e+"^#"+b+"^#"}else c!==void 0&&(d="^#^#"+c);return d+"^#"+a}return""}function b(a){return a>30?[0,1<<a-30]:[1<<a,0]}function e(a,b){return[a[0]|b[0],a[1]|b[1]]}function f(a,b,e){if(a===j)return;(i||(i=d("ODS"))).bumpEntityKey(7173,"entities.ff_js_web."+a+"."+(h||(h=c("AnalyticsCoreData"))).app_id+"."+((a=(h||(h=c("AnalyticsCoreData"))).app_version)!=null?a:"0")+"."+h.push_phase,b,e)}g.identityToString=a;g.getTaggedBitmap=b;g.xorBitmap=e;g.bumpODSMetrics=f}),98);
__d("ODS",["ExecutionEnvironment","OdsWebBatchFalcoEvent","Random","Run","clearTimeout","gkx","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=(h||(h=c("ExecutionEnvironment"))).canUseDOM||(h||c("ExecutionEnvironment")).isInWorker,k={};function l(a,b,c,d,e){var f;d===void 0&&(d=1);e===void 0&&(e=1);var g=(f=k[b])!=null?f:null;if(g!=null&&g<=0)return;i=i||{};var h=i[a]||(i[a]={}),j=h[b]||(h[b]={}),l=j[c]||(j[c]=[0,null]),m=Number(d),o=Number(e);g>0&&(m/=g,o/=g);if(!isFinite(m)||!isFinite(o))return;l[0]+=m;if(arguments.length>=5){var p=l[1];p==null&&(p=0);l[1]=p+o}n()}var m;function n(){if(m!=null)return;m=c("setTimeout")(function(){o()},c("gkx")("20935")?13e3/2:5e3)}function a(a,b){if(!j)return;k[a]=d("Random").random()<b?b:0}function b(a,b,c,d){d===void 0&&(d=1);if(!j)return;l(a,b,c,d)}function e(a,b,c,d,e){d===void 0&&(d=1);e===void 0&&(e=1);if(!j)return;l(a,b,c,d,e)}function o(a){a===void 0&&(a="normal");if(!j)return;c("clearTimeout")(m);m=null;if(i==null)return;var b=i;i=null;function d(){return{batch:b}}a==="critical"?c("OdsWebBatchFalcoEvent").logCritical(d):c("OdsWebBatchFalcoEvent").log(d)}j&&d("Run").onUnload(function(){o("critical")});g.setEntitySample=a;g.bumpEntityKey=b;g.bumpFraction=e;g.flush=o}),98);
__d("Qe2JsExposureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1837559");b=d("FalcoLoggerInternal").create("qe2_js_exposure",a);e=b;g["default"]=e}),98);
__d("QE2Logger",["Qe2JsExposureFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a,b){G(a,(a=b)!=null?a:"",9)}function b(a,b){G(a,(a=b)!=null?a:"",9,null,"immediate")}function d(a){G(a,"",4)}function e(a){G(a,"",32)}function f(a){G(a,"",32,null,"immediate")}function i(a){G(a,"",54)}function j(a,b){G(a,"",54,b,"immediate")}function k(a,b){G(a,"",54,b,"critical")}function l(a,b){G(a,b,3)}function m(a){G(a,"",5)}function n(a){G(a,"",5,null,"immediate")}function o(a){G(a,"",31)}function p(a){G(a,"",98)}function q(a,b){G(a,b,7)}function r(a,b){G(a,b,55)}function s(a,b){G(a,b,17)}function t(a,b){G(a,b,25)}function u(a,b){G(a,b,115)}function v(a,b){G(a,b,8)}function w(a,b){G(a,b,22)}function x(a,b){G(a,b,27)}function y(a,b){G(a,b,0)}function z(a,b){G(a,(a=b)!=null?a:"",89)}function A(a,b){G(a,(a=b)!=null?a:"",89,null,"immediate")}function B(a,b){G(a,b,60)}function C(a,b){G(a,b,90)}function D(a,b){G(a,b,144)}function E(a,b,c){G(a,b,c)}function F(a,b,c){G(a,b,c,null,"immediate")}function G(a,b,d,e,f){var g=a+"|"+b;e!=null&&(g=g+"|"+e);if(h[g])return;f==="immediate"?c("Qe2JsExposureFalcoEvent").logImmediately(function(){return{universe:a,unit_id:b,unit_type:d,param:e}}):f==="critical"?c("Qe2JsExposureFalcoEvent").logCritical(function(){return{universe:a,unit_id:b,unit_type:d,param:e}}):c("Qe2JsExposureFalcoEvent").log(function(){return{universe:a,unit_id:b,unit_type:d,param:e}});h[g]=!0}g.logExposureForUser=a;g.logExposureForUserImmediately=b;g.logExposureForIGDjangoUser=d;g.logExposureForIGUser=e;g.logExposureForIGUserImmediately=f;g.logExposureForIGWebCookie=i;g.logExposureForIGWebCookieImmediately=j;g.logExposureForIGWebCookieCritical=k;g.logExposureForEmail=l;g.logExposureForDatr=m;g.logExposureForDatrImmediately=n;g.logExposureForOculusLoggedOut=o;g.logExposureForOculusLoggedOutCookieID=p;g.logExposureForPage=q;g.logExposureForPaymentAccountID=r;g.logExposureForBusiness=s;g.logExposureForGroup=t;g.logExposureForPhabricatorDiff=u;g.logExposureForPhoneNumber=v;g.logExposureForScimCompanyID=w;g.logExposureForAnalyticsEntityID=x;g.logExposureForAdAccountID=y;g.logExposureForActingAccount=z;g.logExposureForActingAccountImmediately=A;g.logExposureForMixedUserAndPage=B;g.logExposureForCommerceMerchantSettings=C;g.logExposureForShopifyApplicationInstallationID=D;g.logExposure=E;g.logExposureImmediately=F}),98);
__d("FbtLogging",["QE2Logger","cr:1094907","cr:1290","cr:8828"],(function(a,b,c,d,e,f,g){"use strict";d("QE2Logger").logExposureForUser("fbt_js_performance_testing");a=b("cr:1290")==null?void 0:b("cr:1290").JHashToSampleRate;c=b("cr:1094907")==null?void 0:b("cr:1094907").logImpression;e=b("cr:8828")==null?void 0:b("cr:8828").logImpressionV2;g.m=a;g.logImpression=c;g.logImpressionV2=e}),98);
__d("IntlQtEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1848815");b=d("FalcoLoggerInternal").create("intl_qt_event",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("IntlCLDRNumberType43",["IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a={getVariation:function(a){if(a===1)return c("IntlVariations").NUMBER_ONE;else if(a%10>=2&&a%10<=4&&(a%100<12||a%100>14))return c("IntlVariations").NUMBER_FEW;else return c("IntlVariations").NUMBER_MANY}};b=a;g["default"]=b}),98);
__d("WADynamicRouterAsync",["Promise","WAErr","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);i=function(){return a};return a}var j={sentinel:"RESPONSE_NAMESPACE"},k={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$1=(h||(h=b("Promise"))).resolve();this.$2=new Map();this.$4=0;this.$5=null;this.$6=null;this.$7=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$3==null?void 0:a.$3(b,c,d),a.$9(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$3==null?void 0:a.$3(c,d,e);return new(h||(h=b("Promise")))(function(b,g){a.$9(c,d,e,function(c){try{var d=n(c);d?d.call(c,function(c){a.$9(j,"",c,b,f)},function(b){a.$9(j,"",b,g,!1)}):a.$9(j,"",c,b,f)}catch(b){a.$9(j,"",b,g,!1)}},f)})};this.$8=function(){var b=a.$6;if(!b)return;var c=a.$2,d;while(b&&!(d=l(c,b)))a.$6=b=b.nextRoute;if(!b||!d)return;c=a.$10(d,b);var e=!0;if(c!==k){var f=b.prevRoute,g=b.nextRoute;a.$6===b&&(a.$6=g);f?f.nextRoute=g:a.$5=g;g?g.prevRoute=f:(e=!1,a.$7=f)}e&&a.$1.then(a.$8);return c}}var e=a.prototype;e.hasHandlerForNamespace=function(a){return this.$2.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$2.keys())};e.setOnRouteCalled=function(a){this.$3=a};e.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;++this.$4;c.set(a,b);if(!d){c=this.$5;c&&(this.$6||this.$1.then(this.$8),this.$6=c)}};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(i(),e,a);throw c("WAErr")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};e.$9=function(a,b,c,d,e){var f=this.$7;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$7=a;b=!0;f?(f.nextRoute=a,b=!this.$6):this.$5=a;b&&l(this.$2,a)&&(this.$6=a,this.$1.then(this.$8))};e.$10=function(a,d){var e=d.route,f=d.arg,g=d.resolver;d=d.silentLog;var i=this.$4,j=null,l=null;try{j=a(e,f,g,d)}catch(a){l=(h||(h=b("Promise"))).reject(a)}if(j===k)if(i===this.$4)l=(h||(h=b("Promise"))).reject(c("WAErr")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return k;if(g){l&&g(l);return}else return l};return a}();function l(a,b){b=b.namespace;return b===j?m:a.get(b)}function m(a,b,c){c(b)}function n(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}g.NOT_HANDLED=k;g.DynamicRouter=a}),98);
__d("WAWebCountriesLocaleZH-HK",[],(function(a,b,c,d,e,f){a={AC:"\u963f\u68ee\u677e\u5cf6",AD:"\u5b89\u9053\u723e",AE:"\u963f\u62c9\u4f2f\u806f\u5408\u914b\u9577\u570b",AF:"\u963f\u5bcc\u6c57",AG:"\u5b89\u63d0\u74dc\u548c\u5df4\u5e03\u9054",AI:"\u5b89\u594e\u62c9",AL:"\u963f\u723e\u5df4\u5c3c\u4e9e",AM:"\u4e9e\u7f8e\u5c3c\u4e9e",AO:"\u5b89\u54e5\u62c9",AQ:"\u5357\u6975\u6d32",AR:"\u963f\u6839\u5ef7",AS:"\u7f8e\u5c6c\u85a9\u6469\u4e9e",AT:"\u5967\u5730\u5229",AU:"\u6fb3\u6d32",AW:"\u963f\u9b6f\u5df4",AX:"\u5967\u862d\u7fa4\u5cf6",AZ:"\u4e9e\u585e\u62dc\u7586",BA:"\u6ce2\u65af\u5c3c\u4e9e\u548c\u9ed1\u585e\u54e5\u7dad\u90a3",BB:"\u5df4\u5df4\u591a\u65af",BD:"\u5b5f\u52a0\u62c9",BE:"\u6bd4\u5229\u6642",BF:"\u5e03\u57fa\u7d0d\u6cd5\u7d22",BG:"\u4fdd\u52a0\u5229\u4e9e",BH:"\u5df4\u6797",BI:"\u5e03\u9686\u8fea",BJ:"\u8c9d\u5be7",BL:"\u8056\u5df4\u6cf0\u52d2\u7c73",BM:"\u767e\u6155\u9054",BN:"\u6c76\u840a",BO:"\u73bb\u5229\u7dad\u4e9e",BQ:"\u8377\u862d\u52a0\u52d2\u6bd4\u5340",BR:"\u5df4\u897f",BS:"\u5df4\u54c8\u99ac",BT:"\u4e0d\u4e39",BV:"\u9b91\u5a01\u7279\u5cf6",BW:"\u535a\u8328\u74e6\u7d0d",BY:"\u767d\u4fc4\u7f85\u65af",BZ:"\u4f2f\u5229\u8332",CA:"\u52a0\u62ff\u5927",CC:"\u79d1\u79d1\u65af (\u57fa\u6797) \u7fa4\u5cf6",CD:"\u525b\u679c\uff08\u91d1\u590f\u6c99\uff09",CF:"\u4e2d\u975e\u5171\u548c\u570b",CG:"\u525b\u679c\uff08\u5e03\u62c9\u85a9\uff09",CH:"\u745e\u58eb",CI:"\u79d1\u7279\u8fea\u74e6",CK:"\u5eab\u514b\u7fa4\u5cf6",CL:"\u667a\u5229",CM:"\u5580\u9ea5\u9686",CN:"\u4e2d\u570b",CO:"\u54e5\u502b\u6bd4\u4e9e",CP:"\u514b\u91cc\u73c0\u9813\u5cf6",CR:"\u54e5\u65af\u9054\u9ece\u52a0",CU:"\u53e4\u5df4",CV:"\u4f5b\u5f97\u89d2",CW:"\u5eab\u62c9\u7d22",CX:"\u8056\u8a95\u5cf6",CY:"\u585e\u6d66\u8def\u65af",CZ:"\u6377\u514b",DE:"\u5fb7\u570b",DG:"\u8fea\u4e9e\u54e5\u52a0\u897f\u4e9e\u5cf6",DJ:"\u5409\u5e03\u63d0",DK:"\u4e39\u9ea5",DM:"\u591a\u7c73\u5c3c\u514b",DO:"\u591a\u7c73\u5c3c\u52a0\u5171\u548c\u570b",DZ:"\u963f\u723e\u53ca\u5229\u4e9e",EA:"\u4f11\u9054\u8207\u6885\u5229\u5229\u4e9e",EC:"\u5384\u74dc\u591a\u723e",EE:"\u611b\u6c99\u5c3c\u4e9e",EG:"\u57c3\u53ca",EH:"\u897f\u6492\u54c8\u62c9",ER:"\u5384\u7acb\u7279\u91cc\u4e9e",ES:"\u897f\u73ed\u7259",ET:"\u57c3\u585e\u4fc4\u6bd4\u4e9e",EU:"\u6b50\u76df",EZ:"\u6b50\u5143\u5340",FI:"\u82ac\u862d",FJ:"\u6590\u6fdf",FK:"\u798f\u514b\u862d\u7fa4\u5cf6",FM:"\u5bc6\u514b\u7f85\u5c3c\u897f\u4e9e",FO:"\u6cd5\u7f85\u7fa4\u5cf6",FR:"\u6cd5\u570b",GA:"\u52a0\u84ec",GB:"\u82f1\u570b",GD:"\u683c\u6797\u7d0d\u9054",GE:"\u683c\u9b6f\u5409\u4e9e",GF:"\u6cd5\u5c6c\u572d\u4e9e\u90a3",GG:"\u6839\u606f",GH:"\u52a0\u7d0d",GI:"\u76f4\u5e03\u7f85\u9640",GL:"\u683c\u9675\u862d",GM:"\u5ca1\u6bd4\u4e9e",GN:"\u5e7e\u5167\u4e9e",GP:"\u74dc\u5730\u6d1b\u666e",GQ:"\u8d64\u9053\u5e7e\u5167\u4e9e",GR:"\u5e0c\u81d8",GS:"\u5357\u4f50\u6cbb\u4e9e\u5cf6\u8207\u5357\u6851\u5a01\u5947\u7fa4\u5cf6",GT:"\u5371\u5730\u99ac\u62c9",GU:"\u95dc\u5cf6",GW:"\u5e7e\u5167\u4e9e\u6bd4\u7d39",GY:"\u572d\u4e9e\u90a3",HK:"\u4e2d\u570b\u9999\u6e2f\u7279\u5225\u884c\u653f\u5340",HM:"\u8d6b\u5fb7\u5cf6\u53ca\u9ea5\u5510\u7d0d\u7fa4\u5cf6",HN:"\u6d2a\u90fd\u62c9\u65af",HR:"\u514b\u7f85\u5730\u4e9e",HT:"\u6d77\u5730",HU:"\u5308\u7259\u5229",IC:"\u52a0\u90a3\u5229\u7fa4\u5cf6",ID:"\u5370\u5c3c",IE:"\u611b\u723e\u862d",IL:"\u4ee5\u8272\u5217",IM:"\u99ac\u6069\u5cf6",IN:"\u5370\u5ea6",IO:"\u82f1\u5c6c\u5370\u5ea6\u6d0b\u9818\u5730",IQ:"\u4f0a\u62c9\u514b",IR:"\u4f0a\u6717",IS:"\u51b0\u5cf6",IT:"\u610f\u5927\u5229",JE:"\u6fa4\u897f\u5cf6",JM:"\u7259\u8cb7\u52a0",JO:"\u7d04\u65e6",JP:"\u65e5\u672c",KE:"\u80af\u5c3c\u4e9e",KG:"\u5409\u723e\u5409\u65af",KH:"\u67ec\u57d4\u5be8",KI:"\u5409\u91cc\u5df4\u65af",KM:"\u79d1\u6469\u7f85",KN:"\u8056\u57fa\u8328\u548c\u5c3c\u7dad\u65af",KP:"\u5317\u97d3",KR:"\u5357\u97d3",KW:"\u79d1\u5a01\u7279",KY:"\u958b\u66fc\u7fa4\u5cf6",KZ:"\u54c8\u85a9\u514b",LA:"\u8001\u64be",LB:"\u9ece\u5df4\u5ae9",LC:"\u8056\u76e7\u897f\u4e9e",LI:"\u5217\u652f\u6566\u58eb\u767b",LK:"\u65af\u91cc\u862d\u5361",LR:"\u5229\u6bd4\u91cc\u4e9e",LS:"\u8cf4\u7d22\u6258",LT:"\u7acb\u9676\u5b9b",LU:"\u76e7\u68ee\u5821",LV:"\u62c9\u812b\u7dad\u4e9e",LY:"\u5229\u6bd4\u4e9e",MA:"\u6469\u6d1b\u54e5",MC:"\u6469\u7d0d\u54e5",MD:"\u6469\u723e\u591a\u74e6",ME:"\u9ed1\u5c71",MF:"\u6cd5\u5c6c\u8056\u99ac\u4e01",MG:"\u99ac\u9054\u52a0\u65af\u52a0",MH:"\u99ac\u7d39\u723e\u7fa4\u5cf6",MK:"\u5317\u99ac\u5176\u9813",ML:"\u99ac\u91cc",MM:"\u7dec\u7538",MN:"\u8499\u53e4",MO:"\u4e2d\u570b\u6fb3\u9580\u7279\u5225\u884c\u653f\u5340",MP:"\u5317\u99ac\u5229\u5b89\u7d0d\u7fa4\u5cf6",MQ:"\u99ac\u4e01\u5c3c\u514b",MR:"\u6bdb\u91cc\u5854\u5c3c\u4e9e",MS:"\u8499\u7279\u585e\u62c9\u7279",MT:"\u99ac\u8033\u4ed6",MU:"\u6bdb\u91cc\u88d8\u65af",MV:"\u99ac\u723e\u4ee3\u592b",MW:"\u99ac\u62c9\u7dad",MX:"\u58a8\u897f\u54e5",MY:"\u99ac\u4f86\u897f\u4e9e",MZ:"\u83ab\u6851\u6bd4\u514b",NA:"\u7d0d\u7c73\u6bd4\u4e9e",NC:"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9e",NE:"\u5c3c\u65e5\u723e",NF:"\u8afe\u798f\u514b\u5cf6",NG:"\u5c3c\u65e5\u5229\u4e9e",NI:"\u5c3c\u52a0\u62c9\u74dc",NL:"\u8377\u862d",NO:"\u632a\u5a01",NP:"\u5c3c\u6cca\u723e",NR:"\u7459\u9b6f",NU:"\u7d10\u57c3\u5cf6",NZ:"\u7d10\u897f\u862d",OM:"\u963f\u66fc",PA:"\u5df4\u62ff\u99ac",PE:"\u79d8\u9b6f",PF:"\u6cd5\u5c6c\u6ce2\u5229\u5c3c\u897f\u4e9e",PG:"\u5df4\u5e03\u4e9e\u65b0\u5e7e\u5167\u4e9e",PH:"\u83f2\u5f8b\u8cd3",PK:"\u5df4\u57fa\u65af\u5766",PL:"\u6ce2\u862d",PM:"\u8056\u76ae\u57c3\u8207\u5bc6\u514b\u9686\u7fa4\u5cf6",PN:"\u76ae\u7279\u51f1\u6069\u5cf6",PR:"\u6ce2\u591a\u9ece\u5404",PS:"\u5df4\u52d2\u65af\u5766\u9818\u571f",PT:"\u8461\u8404\u7259",PW:"\u5e1b\u7409",PY:"\u5df4\u62c9\u572d",QA:"\u5361\u5854\u723e",QO:"\u5927\u6d0b\u6d32\u908a\u7586\u7fa4\u5cf6",RE:"\u7559\u5c3c\u65fa",RO:"\u7f85\u99ac\u5c3c\u4e9e",RS:"\u585e\u723e\u7dad\u4e9e",RU:"\u4fc4\u7f85\u65af",RW:"\u76e7\u65fa\u9054",SA:"\u6c99\u5730\u963f\u62c9\u4f2f",SB:"\u6240\u7f85\u9580\u7fa4\u5cf6",SC:"\u585e\u820c\u723e",SD:"\u8607\u4e39",SE:"\u745e\u5178",SG:"\u65b0\u52a0\u5761",SH:"\u8056\u8d6b\u52d2\u62ff\u5cf6",SI:"\u65af\u6d1b\u6587\u5c3c\u4e9e",SJ:"\u65af\u74e6\u723e\u5df4\u7279\u7fa4\u5cf6\u53ca\u63da\u99ac\u5ef6\u5cf6",SK:"\u65af\u6d1b\u4f10\u514b",SL:"\u585e\u62c9\u5229\u6602",SM:"\u8056\u99ac\u5229\u8afe",SN:"\u585e\u5167\u52a0\u723e",SO:"\u7d22\u99ac\u91cc",SR:"\u8607\u91cc\u5357",SS:"\u5357\u8607\u4e39",ST:"\u8056\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",SV:"\u85a9\u723e\u74e6\u591a",SX:"\u8377\u5c6c\u8056\u99ac\u4e01",SY:"\u6558\u5229\u4e9e",SZ:"\u65af\u5a01\u58eb\u862d",TA:"\u7279\u91cc\u65af\u5766\u9054\u5eab\u5c3c\u4e9e\u7fa4\u5cf6",TC:"\u7279\u514b\u65af\u548c\u51f1\u79d1\u65af\u7fa4\u5cf6",TD:"\u4e4d\u5f97",TF:"\u6cd5\u5c6c\u5357\u90e8\u9818\u5730",TG:"\u591a\u54e5\u5171\u548c\u570b",TH:"\u6cf0\u570b",TJ:"\u5854\u5409\u514b",TK:"\u6258\u514b\u52de\u7fa4\u5cf6",TL:"\u6771\u5e1d\u6c76",TM:"\u571f\u5eab\u66fc",TN:"\u7a81\u5c3c\u897f\u4e9e",TO:"\u6e6f\u52a0",TR:"\u571f\u8033\u5176",TT:"\u5343\u91cc\u9054\u548c\u591a\u5df4\u54e5",TV:"\u5716\u74e6\u76e7",TW:"\u53f0\u7063",TZ:"\u5766\u6851\u5c3c\u4e9e",UA:"\u70cf\u514b\u862d",UG:"\u70cf\u5e72\u9054",UM:"\u7f8e\u570b\u672c\u571f\u5916\u5c0f\u5cf6\u5dbc",UN:"\u806f\u5408\u570b",US:"\u7f8e\u570b",UY:"\u70cf\u62c9\u572d",UZ:"\u70cf\u8332\u5225\u514b",VA:"\u68b5\u8482\u5ca1",VC:"\u8056\u6587\u68ee\u7279\u548c\u683c\u6797\u7d0d\u4e01\u65af",VE:"\u59d4\u5167\u745e\u62c9",VG:"\u82f1\u5c6c\u7dad\u723e\u4eac\u7fa4\u5cf6",VI:"\u7f8e\u5c6c\u7dad\u723e\u4eac\u7fa4\u5cf6",VN:"\u8d8a\u5357",VU:"\u74e6\u52aa\u963f\u5716",WF:"\u74e6\u5229\u65af\u7fa4\u5cf6\u548c\u5bcc\u5716\u90a3\u7fa4\u5cf6",WS:"\u85a9\u6469\u4e9e",XA:"\u507d\u5340\u57df",XB:"\u507d\u6bd4\u8fea",XK:"\u79d1\u7d22\u6c83",YE:"\u4e5f\u9580",YT:"\u99ac\u7d04\u7279",ZA:"\u5357\u975e",ZM:"\u8d0a\u6bd4\u4e9e",ZW:"\u6d25\u5df4\u5e03\u97cb",ZZ:"\u672a\u77e5\u5340\u57df"};f["default"]=a}),66);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/V8_l6oUwABQ/
 */
__d("react-dom-0.0.0",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("ReactDOM"));d={};var h={exports:d};function i(){h.exports=g}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);/*FB_PKG_DELIM*/
__d("react-dom",["react-dom-0.0.0"],(function(a,b,c,d,e,f){e.exports=b("react-dom-0.0.0")()}),null);